<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: storage/innobase/include/trx0roll.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_9b7ed1f29269ffabdc4c5f5522a0db25.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">trx0roll.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;univ.i&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0trx_8h_source.html">trx0trx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0types_8h_source.html">trx0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mtr0mtr_8h_source.html">mtr0mtr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0sys_8h_source.html">trx0sys.h</a>&quot;</code><br />
<code>#include &quot;trx0roll.ic&quot;</code><br />
</div>
<p><a href="trx0roll_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__undo__inf__t.html">trx_undo_inf_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__undo__arr__t.html">trx_undo_arr_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structroll__node__t.html">roll_node_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__named__savept__t.html">trx_named_savept_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a2f6fd6c2dbd79bf99ff5055fc68041df"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#a2f6fd6c2dbd79bf99ff5055fc68041df">roll_node_state</a> { <a class="el" href="trx0roll_8h.html#a2f6fd6c2dbd79bf99ff5055fc68041dfae9f5352ceb83373d37d0d23e49c3dc86">ROLL_NODE_NONE</a> = 0, 
<a class="el" href="trx0roll_8h.html#a2f6fd6c2dbd79bf99ff5055fc68041dfafd2a73d5ceb88f87a4c8a71e85a125db">ROLL_NODE_SEND</a>, 
<a class="el" href="trx0roll_8h.html#a2f6fd6c2dbd79bf99ff5055fc68041dfaa7c18f3ec5eb4365811e1ea03b731ea6">ROLL_NODE_WAIT</a>
 }</td></tr>
<tr class="separator:a2f6fd6c2dbd79bf99ff5055fc68041df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a371b0b4d385584cf0b015aa325024a0b"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#a371b0b4d385584cf0b015aa325024a0b">trx_is_recv</a> (const <a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>)</td></tr>
<tr class="separator:a371b0b4d385584cf0b015aa325024a0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6994b07193b7edec487f31182487d03d"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structtrx__savept__t.html">trx_savept_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#a6994b07193b7edec487f31182487d03d">trx_savept_take</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>)</td></tr>
<tr class="separator:a6994b07193b7edec487f31182487d03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab40628101f74f78481b93bc8d69b175e"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#ab40628101f74f78481b93bc8d69b175e">trx_undo_arr_free</a> (<a class="el" href="structtrx__undo__arr__t.html">trx_undo_arr_t</a> *arr)</td></tr>
<tr class="separator:ab40628101f74f78481b93bc8d69b175e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab45b6fe7d40ce3dbd674daf035cab59d"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="structtrx__undo__inf__t.html">trx_undo_inf_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#ab45b6fe7d40ce3dbd674daf035cab59d">trx_undo_arr_get_nth_info</a> (<a class="el" href="structtrx__undo__arr__t.html">trx_undo_arr_t</a> *arr, ulint <a class="el" href="srv0start_8cc.html#a2600c8257a9de5721a19ec363ee4c09e">n</a>)</td></tr>
<tr class="separator:ab45b6fe7d40ce3dbd674daf035cab59d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18bcf3803e0465f253734386f0e05853"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#a18bcf3803e0465f253734386f0e05853">trx_roll_pop_top_rec_of_trx</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, <a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a> <a class="el" href="ibuf0ibuf_8cc.html#a2dfd6b5310e6dd7028210bb6a8d13549">limit</a>, <a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a> *<a class="el" href="btr0cur_8cc.html#ad1c4f16d584f1fabcea984746cf904a1">roll_ptr</a>, <a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *<a class="el" href="trx0rec_8cc.html#a18459ed20cf7df7b5953ca0f9f3fea33">heap</a>)</td></tr>
<tr class="separator:a18bcf3803e0465f253734386f0e05853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab156037385d2a0067f2c4e91113a09a5"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#ab156037385d2a0067f2c4e91113a09a5">trx_undo_rec_reserve</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, <a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a> undo_no)</td></tr>
<tr class="separator:ab156037385d2a0067f2c4e91113a09a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c075d82bc33fc4266239fcdc0f6b5ca"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#a0c075d82bc33fc4266239fcdc0f6b5ca">trx_undo_rec_release</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, <a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a> undo_no)</td></tr>
<tr class="separator:a0c075d82bc33fc4266239fcdc0f6b5ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c61b83e16d2b5d52d1fdb599206cdf5"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#a0c61b83e16d2b5d52d1fdb599206cdf5">trx_rollback_or_clean_recovered</a> (ibool all)</td></tr>
<tr class="separator:a0c61b83e16d2b5d52d1fdb599206cdf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcac0bd27ab376e9ba5425786c33809c"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN os_thread_ret_t <a class="el" href="os0thread_8h.html#a973a9b61391e09b9846b41b469363aa5">DECLARE_THREAD</a>()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#afcac0bd27ab376e9ba5425786c33809c">trx_rollback_or_clean_all_recovered</a> (void *arg <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((unused)))</td></tr>
<tr class="separator:afcac0bd27ab376e9ba5425786c33809c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbf49219b481f5ac29ff1164c770415f"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structroll__node__t.html">roll_node_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#adbf49219b481f5ac29ff1164c770415f">roll_node_create</a> (<a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *<a class="el" href="trx0rec_8cc.html#a18459ed20cf7df7b5953ca0f9f3fea33">heap</a>)</td></tr>
<tr class="separator:adbf49219b481f5ac29ff1164c770415f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2418c7146c80869f19950235f425a585"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#a2418c7146c80869f19950235f425a585">trx_rollback_step</a> (<a class="el" href="structque__thr__t.html">que_thr_t</a> *<a class="el" href="row0upd_8cc.html#a6a975f02e8f3909627020f06146ee9dd">thr</a>)</td></tr>
<tr class="separator:a2418c7146c80869f19950235f425a585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27201403f8a04dc76e30f2a053e419fe"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#a27201403f8a04dc76e30f2a053e419fe">trx_rollback_for_mysql</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>) <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull))</td></tr>
<tr class="separator:a27201403f8a04dc76e30f2a053e419fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f71d857ad43c87ef8b2e9ff75e45c73"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#a0f71d857ad43c87ef8b2e9ff75e45c73">trx_rollback_last_sql_stat_for_mysql</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>) <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull))</td></tr>
<tr class="separator:a0f71d857ad43c87ef8b2e9ff75e45c73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a958bdceb2b8bf9031f93b00a8b06de3c"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#a958bdceb2b8bf9031f93b00a8b06de3c">trx_rollback_to_savepoint</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, <a class="el" href="structtrx__savept__t.html">trx_savept_t</a> *savept) <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull(1)))</td></tr>
<tr class="separator:a958bdceb2b8bf9031f93b00a8b06de3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4296d762c15c11064e21ac946cfcc015"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#a4296d762c15c11064e21ac946cfcc015">trx_rollback_to_savepoint_for_mysql</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, const char *savepoint_name, ib_int64_t *<a class="el" href="trx0roll_8cc.html#aace15df0c2ae2cbbebd64b14ba704c5b">mysql_binlog_cache_pos</a>) <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull</td></tr>
<tr class="separator:a4296d762c15c11064e21ac946cfcc015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbdd2af79828b64a978d269f9b771b9a"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#adbdd2af79828b64a978d269f9b771b9a">trx_savepoint_for_mysql</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, const char *savepoint_name, ib_int64_t binlog_cache_pos) <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull))</td></tr>
<tr class="separator:adbdd2af79828b64a978d269f9b771b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada1420a8263e283715865c877f61259e"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#ada1420a8263e283715865c877f61259e">trx_release_savepoint_for_mysql</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, const char *savepoint_name) <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull</td></tr>
<tr class="separator:ada1420a8263e283715865c877f61259e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b0495b710e31dd958216cd69dada42"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#ad6b0495b710e31dd958216cd69dada42">trx_roll_savepoints_free</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, <a class="el" href="structtrx__named__savept__t.html">trx_named_savept_t</a> *<a class="el" href="trx0roll_8cc.html#a32620d4133835b002e79bc2c121ba916">savep</a>)</td></tr>
<tr class="separator:ad6b0495b710e31dd958216cd69dada42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5a1eff4d854c6e5144b0f2084e5355ca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0roll_8h.html#a5a1eff4d854c6e5144b0f2084e5355ca">trx_rollback_or_clean_is_active</a></td></tr>
<tr class="separator:a5a1eff4d854c6e5144b0f2084e5355ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de1fa5a5c99bbc84b5678762a623cf3"><td class="memItemLeft" align="right" valign="top"><a id="a9de1fa5a5c99bbc84b5678762a623cf3"></a>
UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>warn_unused_result</b></td></tr>
<tr class="separator:a9de1fa5a5c99bbc84b5678762a623cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Transaction rollback</p>
<p>Created 3/26/1996 Heikki Tuuri </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a2f6fd6c2dbd79bf99ff5055fc68041df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f6fd6c2dbd79bf99ff5055fc68041df">&#9670;&nbsp;</a></span>roll_node_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="trx0roll_8h.html#a2f6fd6c2dbd79bf99ff5055fc68041df">roll_node_state</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rollback node states </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2f6fd6c2dbd79bf99ff5055fc68041dfae9f5352ceb83373d37d0d23e49c3dc86"></a>ROLL_NODE_NONE&#160;</td><td class="fielddoc"><p>Unknown state </p>
</td></tr>
<tr><td class="fieldname"><a id="a2f6fd6c2dbd79bf99ff5055fc68041dfafd2a73d5ceb88f87a4c8a71e85a125db"></a>ROLL_NODE_SEND&#160;</td><td class="fielddoc"><p>about to send a rollback signal to the transaction </p>
</td></tr>
<tr><td class="fieldname"><a id="a2f6fd6c2dbd79bf99ff5055fc68041dfaa7c18f3ec5eb4365811e1ea03b731ea6"></a>ROLL_NODE_WAIT&#160;</td><td class="fielddoc"><p>rollback signal sent to the transaction, waiting for completion </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="adbf49219b481f5ac29ff1164c770415f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbf49219b481f5ac29ff1164c770415f">&#9670;&nbsp;</a></span>roll_node_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structroll__node__t.html">roll_node_t</a>* roll_node_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a rollback command node struct. </p><dl class="section return"><dt>Returns</dt><dd>own: rollback node struct in: mem heap where created</dd></dl>
<p>Creates a rollback command node struct. </p><dl class="section return"><dt>Returns</dt><dd>own: rollback node struct </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">heap</td><td>in: mem heap where created </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a371b0b4d385584cf0b015aa325024a0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a371b0b4d385584cf0b015aa325024a0b">&#9670;&nbsp;</a></span>trx_is_recv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN ibool trx_is_recv </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines if this transaction is rolling back an incomplete transaction in crash recovery. </p><dl class="section return"><dt>Returns</dt><dd>TRUE if trx is an incomplete transaction that is being rolled back in crash recovery in: transaction</dd></dl>
<p>Determines if this transaction is rolling back an incomplete transaction in crash recovery. </p><dl class="section return"><dt>Returns</dt><dd>TRUE if trx is an incomplete transaction that is being rolled back in crash recovery </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ada1420a8263e283715865c877f61259e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada1420a8263e283715865c877f61259e">&#9670;&nbsp;</a></span>trx_release_savepoint_for_mysql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> trx_release_savepoint_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>savepoint_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Releases a named savepoint. Savepoints which were set after this savepoint are deleted. </p><dl class="section return"><dt>Returns</dt><dd>if no savepoint of the name found then DB_NO_SAVEPOINT, otherwise DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction handle </td></tr>
    <tr><td class="paramname">savepoint_name</td><td>in: savepoint name </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a18bcf3803e0465f253734386f0e05853"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18bcf3803e0465f253734386f0e05853">&#9670;&nbsp;</a></span>trx_roll_pop_top_rec_of_trx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a>* trx_roll_pop_top_rec_of_trx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a>&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a> *&#160;</td>
          <td class="paramname"><em>roll_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *&#160;</td>
          <td class="paramname"><em>heap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pops the topmost record when the two undo logs of a transaction are seen as a single stack of records ordered by their undo numbers. Inserts the undo number of the popped undo record to the array of currently processed undo numbers in the transaction. When the query thread finishes processing of this undo record, it must be released with trx_undo_rec_release. </p><dl class="section return"><dt>Returns</dt><dd>undo log record copied to heap, NULL if none left, or if the undo number of the top record would be less than the limit in: memory heap where copied</dd></dl>
<p>Pops the topmost record when the two undo logs of a transaction are seen as a single stack of records ordered by their undo numbers. Inserts the undo number of the popped undo record to the array of currently processed undo numbers in the transaction. When the query thread finishes processing of this undo record, it must be released with trx_undo_rec_release. </p><dl class="section return"><dt>Returns</dt><dd>undo log record copied to heap, NULL if none left, or if the undo number of the top record would be less than the limit </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">limit</td><td>in: least undo number we need </td></tr>
    <tr><td class="paramname">roll_ptr</td><td>out: roll pointer to undo record </td></tr>
    <tr><td class="paramname">heap</td><td>in: memory heap where copied </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad6b0495b710e31dd958216cd69dada42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6b0495b710e31dd958216cd69dada42">&#9670;&nbsp;</a></span>trx_roll_savepoints_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_roll_savepoints_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__named__savept__t.html">trx_named_savept_t</a> *&#160;</td>
          <td class="paramname"><em>savep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees savepoint structs starting from savep. in: free all savepoints &gt; this one; if this is NULL, free all savepoints of trx</p>
<p>Frees savepoint structs starting from savep. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction handle </td></tr>
    <tr><td class="paramname">savep</td><td>in: free all savepoints starting with this savepoint i </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a27201403f8a04dc76e30f2a053e419fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27201403f8a04dc76e30f2a053e419fe">&#9670;&nbsp;</a></span>trx_rollback_for_mysql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> trx_rollback_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rollback a transaction used in MySQL. </p><dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0f71d857ad43c87ef8b2e9ff75e45c73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f71d857ad43c87ef8b2e9ff75e45c73">&#9670;&nbsp;</a></span>trx_rollback_last_sql_stat_for_mysql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> trx_rollback_last_sql_stat_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rollback the latest SQL statement for MySQL. </p><dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afcac0bd27ab376e9ba5425786c33809c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcac0bd27ab376e9ba5425786c33809c">&#9670;&nbsp;</a></span>trx_rollback_or_clean_all_recovered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN os_thread_ret_t <a class="el" href="os0thread_8h.html#a973a9b61391e09b9846b41b469363aa5">DECLARE_THREAD</a>() trx_rollback_or_clean_all_recovered </td>
          <td>(</td>
          <td class="paramtype">void *arg &#160;</td>
          <td class="paramname"><em>__attribute__</em>(unused)</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rollback or clean up any incomplete transactions which were encountered in crash recovery. If the transaction already was committed, then we clean up a possible insert undo log. If the transaction was not yet committed, then we roll it back. Note: this is done in a background thread. </p><dl class="section return"><dt>Returns</dt><dd>a dummy parameter in: a dummy parameter required by os_thread_create</dd></dl>
<p>Rollback or clean up any incomplete transactions which were encountered in crash recovery. If the transaction already was committed, then we clean up a possible insert undo log. If the transaction was not yet committed, then we roll it back. Note: this is done in a background thread. </p><dl class="section return"><dt>Returns</dt><dd>a dummy parameter </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">__attribute__</td><td>in: a dummy parameter required by os_thread_create </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c61b83e16d2b5d52d1fdb599206cdf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c61b83e16d2b5d52d1fdb599206cdf5">&#9670;&nbsp;</a></span>trx_rollback_or_clean_recovered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_rollback_or_clean_recovered </td>
          <td>(</td>
          <td class="paramtype">ibool&#160;</td>
          <td class="paramname"><em>all</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rollback or clean up any incomplete transactions which were encountered in crash recovery. If the transaction already was committed, then we clean up a possible insert undo log. If the transaction was not yet committed, then we roll it back. in: FALSE=roll back dictionary transactions; TRUE=roll back all non-PREPARED transactions</p>
<p>Rollback or clean up any incomplete transactions which were encountered in crash recovery. If the transaction already was committed, then we clean up a possible insert undo log. If the transaction was not yet committed, then we roll it back. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">all</td><td>in: FALSE=roll back dictionary transactions; TRUE=roll back all non-PREPARED transactions </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2418c7146c80869f19950235f425a585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2418c7146c80869f19950235f425a585">&#9670;&nbsp;</a></span>trx_rollback_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structque__thr__t.html">que_thr_t</a>* trx_rollback_step </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs an execution step for a rollback command node in a query graph. </p><dl class="section return"><dt>Returns</dt><dd>query thread to run next, or NULL in: query thread</dd></dl>
<p>Performs an execution step for a rollback command node in a query graph. </p><dl class="section return"><dt>Returns</dt><dd>query thread to run next, or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thr</td><td>in: query thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a958bdceb2b8bf9031f93b00a8b06de3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a958bdceb2b8bf9031f93b00a8b06de3c">&#9670;&nbsp;</a></span>trx_rollback_to_savepoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> trx_rollback_to_savepoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__savept__t.html">trx_savept_t</a> *&#160;</td>
          <td class="paramname"><em>savept</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rollback a transaction to a given savepoint or do a complete rollback. </p><dl class="section return"><dt>Returns</dt><dd>error code or DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction handle </td></tr>
    <tr><td class="paramname">savept</td><td>in: pointer to savepoint undo number, if partial rollback requested, or NULL for complete rollback </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4296d762c15c11064e21ac946cfcc015"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4296d762c15c11064e21ac946cfcc015">&#9670;&nbsp;</a></span>trx_rollback_to_savepoint_for_mysql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> trx_rollback_to_savepoint_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>savepoint_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ib_int64_t *&#160;</td>
          <td class="paramname"><em>mysql_binlog_cache_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Rolls back a transaction back to a named savepoint. Modifications after the savepoint are undone but InnoDB does NOT release the corresponding locks which are stored in memory. If a lock is 'implicit', that is, a new inserted row holds a lock where the lock information is carried by the trx id stored in the row, these locks are naturally released in the rollback. Savepoints which were set after this savepoint are deleted. </p><dl class="section return"><dt>Returns</dt><dd>if no savepoint of the name found then DB_NO_SAVEPOINT, otherwise DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction handle </td></tr>
    <tr><td class="paramname">savepoint_name</td><td>in: savepoint name </td></tr>
    <tr><td class="paramname">mysql_binlog_cache_pos</td><td>out: the MySQL binlog cache position corresponding to this savepoint; MySQL needs this information to remove the binlog entries of the queries executed after the savepoint </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adbdd2af79828b64a978d269f9b771b9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbdd2af79828b64a978d269f9b771b9a">&#9670;&nbsp;</a></span>trx_savepoint_for_mysql()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> trx_savepoint_for_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>savepoint_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ib_int64_t&#160;</td>
          <td class="paramname"><em>binlog_cache_pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a named savepoint. If the transaction is not yet started, starts it. If there is already a savepoint of the same name, this call erases that old savepoint and replaces it with a new. Savepoints are deleted in a transaction commit or rollback. </p><dl class="section return"><dt>Returns</dt><dd>always DB_SUCCESS </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction handle </td></tr>
    <tr><td class="paramname">savepoint_name</td><td>in: savepoint name </td></tr>
    <tr><td class="paramname">binlog_cache_pos</td><td>in: MySQL binlog cache position corresponding to this connection at the time of the savepoint </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6994b07193b7edec487f31182487d03d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6994b07193b7edec487f31182487d03d">&#9670;&nbsp;</a></span>trx_savept_take()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structtrx__savept__t.html">trx_savept_t</a> trx_savept_take </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a transaction savepoint taken at this point in time. </p><dl class="section return"><dt>Returns</dt><dd>savepoint in: transaction</dd></dl>
<p>Returns a transaction savepoint taken at this point in time. </p><dl class="section return"><dt>Returns</dt><dd>savepoint </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab40628101f74f78481b93bc8d69b175e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab40628101f74f78481b93bc8d69b175e">&#9670;&nbsp;</a></span>trx_undo_arr_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_arr_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__undo__arr__t.html">trx_undo_arr_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees an undo number array. in: undo number array</p>
<p>Frees an undo number array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>in: undo number array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab45b6fe7d40ce3dbd674daf035cab59d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab45b6fe7d40ce3dbd674daf035cab59d">&#9670;&nbsp;</a></span>trx_undo_arr_get_nth_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="structtrx__undo__inf__t.html">trx_undo_inf_t</a>* trx_undo_arr_get_nth_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__undo__arr__t.html">trx_undo_arr_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns pointer to nth element in an undo number array. </p><dl class="section return"><dt>Returns</dt><dd>pointer to the nth element in: position </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>in: undo number array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c075d82bc33fc4266239fcdc0f6b5ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c075d82bc33fc4266239fcdc0f6b5ca">&#9670;&nbsp;</a></span>trx_undo_rec_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_rec_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a>&#160;</td>
          <td class="paramname"><em>undo_no</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Releases a reserved undo record. in: undo number</p>
<p>Releases a reserved undo record. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
    <tr><td class="paramname">undo_no</td><td>in: undo number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab156037385d2a0067f2c4e91113a09a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab156037385d2a0067f2c4e91113a09a5">&#9670;&nbsp;</a></span>trx_undo_rec_reserve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN ibool trx_undo_rec_reserve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a>&#160;</td>
          <td class="paramname"><em>undo_no</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reserves an undo log record for a query thread to undo. This should be called if the query thread gets the undo log record not using the pop function above. </p><dl class="section return"><dt>Returns</dt><dd>TRUE if succeeded in: undo number of the record</dd></dl>
<p>Reserves an undo log record for a query thread to undo. This should be called if the query thread gets the undo log record not using the pop function above. </p><dl class="section return"><dt>Returns</dt><dd>TRUE if succeeded </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: transaction </td></tr>
    <tr><td class="paramname">undo_no</td><td>in: undo number of the record </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a5a1eff4d854c6e5144b0f2084e5355ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a1eff4d854c6e5144b0f2084e5355ca">&#9670;&nbsp;</a></span>trx_rollback_or_clean_is_active</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool trx_rollback_or_clean_is_active</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>true if <a class="el" href="trx0roll_8cc.html#afcac0bd27ab376e9ba5425786c33809c">trx_rollback_or_clean_all_recovered()</a> thread is active </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
