<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: storage/innobase/include/trx0undo.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_9b7ed1f29269ffabdc4c5f5522a0db25.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">trx0undo.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;univ.i&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0types_8h_source.html">trx0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mtr0mtr_8h_source.html">mtr0mtr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0sys_8h_source.html">trx0sys.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page0types_8h_source.html">page0types.h</a>&quot;</code><br />
<code>#include &quot;trx0xa.h&quot;</code><br />
<code>#include &quot;trx0undo.ic&quot;</code><br />
</div>
<p><a href="trx0undo_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a84f83daf1e089d2b97861cedfaf18ebb"><td class="memItemLeft" align="right" valign="top"><a id="a84f83daf1e089d2b97861cedfaf18ebb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>trx_undo_free_last_page</b>(<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>,  <a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>,  <a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)&#160;&#160;&#160;<a class="el" href="trx0undo_8cc.html#a85cfbba47f31dab0d6b9d2ee1a6ee2a5">trx_undo_free_last_page_func</a>(<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>,<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a84f83daf1e089d2b97861cedfaf18ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e400616ed7fad9e013a366c9285bd0"><td class="memItemLeft" align="right" valign="top"><a id="a35e400616ed7fad9e013a366c9285bd0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>trx_undo_truncate_end</b>(<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>,  <a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>,  <a class="el" href="ibuf0ibuf_8cc.html#a2dfd6b5310e6dd7028210bb6a8d13549">limit</a>)&#160;&#160;&#160;<a class="el" href="trx0undo_8cc.html#a98bc9f5914dba7e8e9394de17441ac70">trx_undo_truncate_end_func</a>(<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>,<a class="el" href="ibuf0ibuf_8cc.html#a2dfd6b5310e6dd7028210bb6a8d13549">limit</a>)</td></tr>
<tr class="separator:a35e400616ed7fad9e013a366c9285bd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf638ea4eb0c03cc4ae3df50af3dbcd"><td class="memItemLeft" align="right" valign="top"><a id="a1bf638ea4eb0c03cc4ae3df50af3dbcd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_UNDO_INSERT</b>&#160;&#160;&#160;1	/* contains <a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a> entries for inserts */</td></tr>
<tr class="separator:a1bf638ea4eb0c03cc4ae3df50af3dbcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a690ce47aca0d2f09063384c8b50a2f43"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_UNDO_UPDATE</b></td></tr>
<tr class="separator:a690ce47aca0d2f09063384c8b50a2f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a836092df0b82917a8ff0fc9570ee515a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_UNDO_ACTIVE</b></td></tr>
<tr class="separator:a836092df0b82917a8ff0fc9570ee515a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acec71cf2def1abe4f3ab2b110dc4ee"><td class="memItemLeft" align="right" valign="top"><a id="a9acec71cf2def1abe4f3ab2b110dc4ee"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_UNDO_CACHED</b>&#160;&#160;&#160;2	/* cached for quick reuse */</td></tr>
<tr class="separator:a9acec71cf2def1abe4f3ab2b110dc4ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e83df7aa1685c6ba3118bae30cf688e"><td class="memItemLeft" align="right" valign="top"><a id="a0e83df7aa1685c6ba3118bae30cf688e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_UNDO_TO_FREE</b>&#160;&#160;&#160;3	/* <a class="el" href="row0log_8cc.html#a3c429443f0e01d33772fb58723f12c0a">insert</a> <a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a> segment can be freed */</td></tr>
<tr class="separator:a0e83df7aa1685c6ba3118bae30cf688e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cb915c175c75cf318cfa7a8a1a2ad5b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_UNDO_TO_PURGE</b></td></tr>
<tr class="separator:a3cb915c175c75cf318cfa7a8a1a2ad5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e14b9b7912ad2052aee60e138571454"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRX_UNDO_PREPARED</b></td></tr>
<tr class="separator:a6e14b9b7912ad2052aee60e138571454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab91980ce604cd0800f205cb4b2508cc6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#ab91980ce604cd0800f205cb4b2508cc6">TRX_UNDO_PAGE_HDR</a>&#160;&#160;&#160;FSEG_PAGE_DATA</td></tr>
<tr class="separator:ab91980ce604cd0800f205cb4b2508cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f68b6afdd7d85380279245d3fab531c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a7f68b6afdd7d85380279245d3fab531c">TRX_UNDO_PAGE_REUSE_LIMIT</a>&#160;&#160;&#160;(3 * UNIV_PAGE_SIZE / 4)</td></tr>
<tr class="separator:a7f68b6afdd7d85380279245d3fab531c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7080a21a75110243d8b9c1a43c442085"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a7080a21a75110243d8b9c1a43c442085">TRX_UNDO_SEG_HDR</a>&#160;&#160;&#160;(<a class="el" href="trx0undo_8h.html#ab91980ce604cd0800f205cb4b2508cc6">TRX_UNDO_PAGE_HDR</a> + <a class="el" href="trx0undo_8h.html#a81f0cffd9e576d90308dcde3aa9a7098">TRX_UNDO_PAGE_HDR_SIZE</a>)</td></tr>
<tr class="separator:a7080a21a75110243d8b9c1a43c442085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a304a793a3cc253b520910aa34547da96"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a304a793a3cc253b520910aa34547da96">TRX_UNDO_PAGE_TYPE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a304a793a3cc253b520910aa34547da96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a602caf71da94134c9529c3a05bd56776"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a602caf71da94134c9529c3a05bd56776">TRX_UNDO_PAGE_START</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a602caf71da94134c9529c3a05bd56776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fb4e65d422c3cd4cd73d6e37e60b8ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a5fb4e65d422c3cd4cd73d6e37e60b8ce">TRX_UNDO_PAGE_FREE</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a5fb4e65d422c3cd4cd73d6e37e60b8ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f7746023b72bd8aec2a3661f88f42b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#ab9f7746023b72bd8aec2a3661f88f42b">TRX_UNDO_PAGE_NODE</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:ab9f7746023b72bd8aec2a3661f88f42b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f0cffd9e576d90308dcde3aa9a7098"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a81f0cffd9e576d90308dcde3aa9a7098">TRX_UNDO_PAGE_HDR_SIZE</a>&#160;&#160;&#160;(6 + FLST_NODE_SIZE)</td></tr>
<tr class="separator:a81f0cffd9e576d90308dcde3aa9a7098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a363a78c092573b7b84181c2c95480da6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a363a78c092573b7b84181c2c95480da6">TRX_UNDO_STATE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a363a78c092573b7b84181c2c95480da6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc1b18c4418c42c02071eb629d202c71"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#afc1b18c4418c42c02071eb629d202c71">TRX_UNDO_LAST_LOG</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:afc1b18c4418c42c02071eb629d202c71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef35459c9c8dc977e3f7cc1091ccc6a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#aef35459c9c8dc977e3f7cc1091ccc6a6">TRX_UNDO_FSEG_HEADER</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:aef35459c9c8dc977e3f7cc1091ccc6a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c332908af74a82f679a3ca31544a69b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a8c332908af74a82f679a3ca31544a69b">TRX_UNDO_PAGE_LIST</a>&#160;&#160;&#160;(4 + FSEG_HEADER_SIZE)</td></tr>
<tr class="separator:a8c332908af74a82f679a3ca31544a69b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f2cdc055cdda13b163edd2e8e26f505"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a1f2cdc055cdda13b163edd2e8e26f505">TRX_UNDO_SEG_HDR_SIZE</a>&#160;&#160;&#160;(4 + FSEG_HEADER_SIZE + FLST_BASE_NODE_SIZE)</td></tr>
<tr class="separator:a1f2cdc055cdda13b163edd2e8e26f505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:ad731492924e06471984f99d5f59d59a8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#ad731492924e06471984f99d5f59d59a8">TRX_UNDO_TRX_ID</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ad731492924e06471984f99d5f59d59a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719b18197bfb01c0292995506538f445"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a719b18197bfb01c0292995506538f445">TRX_UNDO_TRX_NO</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a719b18197bfb01c0292995506538f445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b0e667037fdd3dee1b299a455a233aa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a6b0e667037fdd3dee1b299a455a233aa">TRX_UNDO_DEL_MARKS</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a6b0e667037fdd3dee1b299a455a233aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3093a267fe72ea95329bab4130d50e8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#ad3093a267fe72ea95329bab4130d50e8">TRX_UNDO_LOG_START</a>&#160;&#160;&#160;18</td></tr>
<tr class="separator:ad3093a267fe72ea95329bab4130d50e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84cc5b863aaf13474c2a67f55d45bf19"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a84cc5b863aaf13474c2a67f55d45bf19">TRX_UNDO_XID_EXISTS</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a84cc5b863aaf13474c2a67f55d45bf19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff82d1140d6d6e2f9cf0bbb00bf0500e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#aff82d1140d6d6e2f9cf0bbb00bf0500e">TRX_UNDO_DICT_TRANS</a>&#160;&#160;&#160;21</td></tr>
<tr class="separator:aff82d1140d6d6e2f9cf0bbb00bf0500e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52ac1fb2fe68ae017021f0a7cde9b892"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a52ac1fb2fe68ae017021f0a7cde9b892">TRX_UNDO_TABLE_ID</a>&#160;&#160;&#160;22</td></tr>
<tr class="separator:a52ac1fb2fe68ae017021f0a7cde9b892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae028eab2bea87c744818f15e312e51f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#ae028eab2bea87c744818f15e312e51f9">TRX_UNDO_NEXT_LOG</a>&#160;&#160;&#160;30</td></tr>
<tr class="separator:ae028eab2bea87c744818f15e312e51f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af46da26879663fa2a46a5a8a0e23cae4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#af46da26879663fa2a46a5a8a0e23cae4">TRX_UNDO_PREV_LOG</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:af46da26879663fa2a46a5a8a0e23cae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abda919ac9fd0edefd4dfac71098ba3ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#abda919ac9fd0edefd4dfac71098ba3ad">TRX_UNDO_HISTORY_NODE</a>&#160;&#160;&#160;34</td></tr>
<tr class="separator:abda919ac9fd0edefd4dfac71098ba3ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1102a9f4843a83f67018860e0bcf5b20"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a1102a9f4843a83f67018860e0bcf5b20">TRX_UNDO_LOG_OLD_HDR_SIZE</a>&#160;&#160;&#160;(34 + FLST_NODE_SIZE)</td></tr>
<tr class="separator:a1102a9f4843a83f67018860e0bcf5b20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada98715799eab7dea1f55e0e3aaadce5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#ada98715799eab7dea1f55e0e3aaadce5">TRX_UNDO_XA_FORMAT</a>&#160;&#160;&#160;(<a class="el" href="trx0undo_8h.html#a1102a9f4843a83f67018860e0bcf5b20">TRX_UNDO_LOG_OLD_HDR_SIZE</a>)</td></tr>
<tr class="separator:ada98715799eab7dea1f55e0e3aaadce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4053dcba228d4d5370f91492452c2a0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#aa4053dcba228d4d5370f91492452c2a0">TRX_UNDO_XA_TRID_LEN</a>&#160;&#160;&#160;(<a class="el" href="trx0undo_8h.html#ada98715799eab7dea1f55e0e3aaadce5">TRX_UNDO_XA_FORMAT</a> + 4)</td></tr>
<tr class="separator:aa4053dcba228d4d5370f91492452c2a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c9fc1de411ca05342b48353860ff824"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a6c9fc1de411ca05342b48353860ff824">TRX_UNDO_XA_BQUAL_LEN</a>&#160;&#160;&#160;(<a class="el" href="trx0undo_8h.html#aa4053dcba228d4d5370f91492452c2a0">TRX_UNDO_XA_TRID_LEN</a> + 4)</td></tr>
<tr class="separator:a6c9fc1de411ca05342b48353860ff824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc4f59f064e7b22a2ddc421df893d021"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#abc4f59f064e7b22a2ddc421df893d021">TRX_UNDO_XA_XID</a>&#160;&#160;&#160;(<a class="el" href="trx0undo_8h.html#a6c9fc1de411ca05342b48353860ff824">TRX_UNDO_XA_BQUAL_LEN</a> + 4)</td></tr>
<tr class="separator:abc4f59f064e7b22a2ddc421df893d021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace2d2f23a85f9ec9ab7cb9df670242f8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#ace2d2f23a85f9ec9ab7cb9df670242f8">TRX_UNDO_LOG_XA_HDR_SIZE</a>&#160;&#160;&#160;(<a class="el" href="trx0undo_8h.html#abc4f59f064e7b22a2ddc421df893d021">TRX_UNDO_XA_XID</a> + XIDDATASIZE)</td></tr>
<tr class="separator:ace2d2f23a85f9ec9ab7cb9df670242f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a75d19c81c579ac7bde1e4eb444467dc6"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a75d19c81c579ac7bde1e4eb444467dc6">trx_undo_build_roll_ptr</a> (ibool is_insert, ulint rseg_id, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, ulint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>)</td></tr>
<tr class="separator:a75d19c81c579ac7bde1e4eb444467dc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99999bd86937196c9e3474c75a756e06"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a99999bd86937196c9e3474c75a756e06">trx_undo_decode_roll_ptr</a> (<a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a> <a class="el" href="btr0cur_8cc.html#ad1c4f16d584f1fabcea984746cf904a1">roll_ptr</a>, ibool *is_insert, ulint *rseg_id, ulint *<a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, ulint *<a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>)</td></tr>
<tr class="separator:a99999bd86937196c9e3474c75a756e06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07f8a1930550c8e69e70cea94428aa59"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a07f8a1930550c8e69e70cea94428aa59">trx_undo_roll_ptr_is_insert</a> (<a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a> <a class="el" href="btr0cur_8cc.html#ad1c4f16d584f1fabcea984746cf904a1">roll_ptr</a>)</td></tr>
<tr class="separator:a07f8a1930550c8e69e70cea94428aa59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4724ada22bad2313e6e79fc8ec7df54"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#aa4724ada22bad2313e6e79fc8ec7df54">trx_undo_trx_id_is_insert</a> (const byte *<a class="el" href="trx0undo_8cc.html#a31dc85e5157cc0055a93f38465fdef6b">trx_id</a>) <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull</td></tr>
<tr class="separator:aa4724ada22bad2313e6e79fc8ec7df54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217d801284210e8ce80b23e6caf1f7e1"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a217d801284210e8ce80b23e6caf1f7e1">trx_write_roll_ptr</a> (byte *ptr, <a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a> <a class="el" href="btr0cur_8cc.html#ad1c4f16d584f1fabcea984746cf904a1">roll_ptr</a>)</td></tr>
<tr class="separator:a217d801284210e8ce80b23e6caf1f7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0310ed42747e8c3e3ab2158aab3857d7"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a0310ed42747e8c3e3ab2158aab3857d7">trx_read_roll_ptr</a> (const byte *ptr)</td></tr>
<tr class="separator:a0310ed42747e8c3e3ab2158aab3857d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c468bb2123f0e65c01a1c6dd773ed6"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a91c468bb2123f0e65c01a1c6dd773ed6">trx_undo_page_get</a> (ulint <a class="el" href="ibuf0ibuf_8cc.html#aae9e36bded84b28f880abb9a711c7d1e">space</a>, ulint <a class="el" href="row0merge_8cc.html#acbd6f0665ead771e112f93b23cf27faf">zip_size</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a91c468bb2123f0e65c01a1c6dd773ed6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14227732ee44962b7deb045d3f4f05c7"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a14227732ee44962b7deb045d3f4f05c7">trx_undo_page_get_s_latched</a> (ulint <a class="el" href="ibuf0ibuf_8cc.html#aae9e36bded84b28f880abb9a711c7d1e">space</a>, ulint <a class="el" href="row0merge_8cc.html#acbd6f0665ead771e112f93b23cf27faf">zip_size</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a14227732ee44962b7deb045d3f4f05c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac85d1faa279ebe0025f6d2a6d4643b12"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#ac85d1faa279ebe0025f6d2a6d4643b12">trx_undo_page_get_prev_rec</a> (<a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *<a class="el" href="row0sel_8cc.html#a885b1a2aa48633ec89f311f7ec2c9aaa">rec</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, ulint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>)</td></tr>
<tr class="separator:ac85d1faa279ebe0025f6d2a6d4643b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a947c52d195d7ee1a60718354e18cc08b"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a947c52d195d7ee1a60718354e18cc08b">trx_undo_page_get_next_rec</a> (<a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *<a class="el" href="row0sel_8cc.html#a885b1a2aa48633ec89f311f7ec2c9aaa">rec</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, ulint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>)</td></tr>
<tr class="separator:a947c52d195d7ee1a60718354e18cc08b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace4052df57f1530cd8ddf3b88e5c4b02"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#ace4052df57f1530cd8ddf3b88e5c4b02">trx_undo_page_get_last_rec</a> (<a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, ulint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>)</td></tr>
<tr class="separator:ace4052df57f1530cd8ddf3b88e5c4b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acec472401b15a890533d83013e03eb18"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#acec472401b15a890533d83013e03eb18">trx_undo_page_get_first_rec</a> (<a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, ulint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>)</td></tr>
<tr class="separator:acec472401b15a890533d83013e03eb18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a401e2a2547a1e86a57165fabba15ced7"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a401e2a2547a1e86a57165fabba15ced7">trx_undo_get_prev_rec</a> (<a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *<a class="el" href="row0sel_8cc.html#a885b1a2aa48633ec89f311f7ec2c9aaa">rec</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, ulint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>, bool shared, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a401e2a2547a1e86a57165fabba15ced7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6843a910c265943c2f5a0c050d7ea0e1"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a6843a910c265943c2f5a0c050d7ea0e1">trx_undo_get_next_rec</a> (<a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *<a class="el" href="row0sel_8cc.html#a885b1a2aa48633ec89f311f7ec2c9aaa">rec</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, ulint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a6843a910c265943c2f5a0c050d7ea0e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c5381a831e5dbb1b304098975be23bd"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a1c5381a831e5dbb1b304098975be23bd">trx_undo_get_first_rec</a> (ulint <a class="el" href="ibuf0ibuf_8cc.html#aae9e36bded84b28f880abb9a711c7d1e">space</a>, ulint <a class="el" href="row0merge_8cc.html#acbd6f0665ead771e112f93b23cf27faf">zip_size</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, ulint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>, ulint <a class="el" href="row0umod_8cc.html#a72b8a027308addc643f9adf5e4d41f9a">mode</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a1c5381a831e5dbb1b304098975be23bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a84b214d2552d7e6382d13ac487bd85"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a3a84b214d2552d7e6382d13ac487bd85">trx_undo_add_page</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, <a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>) <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull</td></tr>
<tr class="separator:a3a84b214d2552d7e6382d13ac487bd85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3a70dc254bacc87103f36c6e7f72bb2"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#ac3a70dc254bacc87103f36c6e7f72bb2">trx_undo_free_last_page_func</a> (<a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>) <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull))</td></tr>
<tr class="separator:ac3a70dc254bacc87103f36c6e7f72bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad08b9b8f0523abdd873824f64a639551"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#ad08b9b8f0523abdd873824f64a639551">trx_undo_truncate_end_func</a> (<a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>, <a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a> <a class="el" href="ibuf0ibuf_8cc.html#a2dfd6b5310e6dd7028210bb6a8d13549">limit</a>) <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull))</td></tr>
<tr class="separator:ad08b9b8f0523abdd873824f64a639551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c96ff3ced71317156fc9cbfa0255054"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a9c96ff3ced71317156fc9cbfa0255054">trx_undo_truncate_start</a> (<a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *<a class="el" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#aae9e36bded84b28f880abb9a711c7d1e">space</a>, ulint hdr_page_no, ulint hdr_offset, <a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a> <a class="el" href="ibuf0ibuf_8cc.html#a2dfd6b5310e6dd7028210bb6a8d13549">limit</a>)</td></tr>
<tr class="separator:a9c96ff3ced71317156fc9cbfa0255054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5e2fe0371635fbb23dad87a258164a4"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#aa5e2fe0371635fbb23dad87a258164a4">trx_undo_lists_init</a> (<a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *<a class="el" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>)</td></tr>
<tr class="separator:aa5e2fe0371635fbb23dad87a258164a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbcab50adf5cad12bd45231771eafc66"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#abbcab50adf5cad12bd45231771eafc66">trx_undo_assign_undo</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, ulint <a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>) <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull</td></tr>
<tr class="separator:abbcab50adf5cad12bd45231771eafc66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0390b8ccd9623edba3655f4a8875e225"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a0390b8ccd9623edba3655f4a8875e225">trx_undo_set_state_at_finish</a> (<a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a0390b8ccd9623edba3655f4a8875e225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a731b5d0da0343f4f42d5b60ae0c8ca"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a3a731b5d0da0343f4f42d5b60ae0c8ca">trx_undo_set_state_at_prepare</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, <a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a3a731b5d0da0343f4f42d5b60ae0c8ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a204e5f56556f703e62e29c393f74e4e6"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a204e5f56556f703e62e29c393f74e4e6">trx_undo_update_cleanup</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a204e5f56556f703e62e29c393f74e4e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cf5458624c75a3b5d0aa246bf2fe3a0"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a5cf5458624c75a3b5d0aa246bf2fe3a0">trx_undo_insert_cleanup</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>)</td></tr>
<tr class="separator:a5cf5458624c75a3b5d0aa246bf2fe3a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2366430693451ffa79c37039dfb6618"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#ae2366430693451ffa79c37039dfb6618">trx_undo_free_prepared</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>) UNIV_COLD <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull))</td></tr>
<tr class="separator:ae2366430693451ffa79c37039dfb6618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac375f4379a6069f3f8f2ef03e93cbdd"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#aac375f4379a6069f3f8f2ef03e93cbdd">trx_undo_parse_page_init</a> (byte *ptr, byte *end_ptr, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="fsp0fsp_8cc.html#a69e3109c6b8c8d21dfc851e276de8389">page</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:aac375f4379a6069f3f8f2ef03e93cbdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad84a0a4d5fcac22c5ab826ebabcf625c"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#ad84a0a4d5fcac22c5ab826ebabcf625c">trx_undo_parse_page_header</a> (ulint <a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>, byte *ptr, byte *end_ptr, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="fsp0fsp_8cc.html#a69e3109c6b8c8d21dfc851e276de8389">page</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:ad84a0a4d5fcac22c5ab826ebabcf625c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4709ff04567aaad2c3fd851c2ff4040"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#ae4709ff04567aaad2c3fd851c2ff4040">trx_undo_parse_discard_latest</a> (byte *ptr, byte *end_ptr, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="fsp0fsp_8cc.html#a69e3109c6b8c8d21dfc851e276de8389">page</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:ae4709ff04567aaad2c3fd851c2ff4040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9396f5324a5d20f407ab4f65f4d1a3b7"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8h.html#a9396f5324a5d20f407ab4f65f4d1a3b7">trx_undo_mem_free</a> (<a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>)</td></tr>
<tr class="separator:a9396f5324a5d20f407ab4f65f4d1a3b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1199305f05fa18e7bc617260878d3c7b"><td class="memItemLeft" align="right" valign="top"><a id="a1199305f05fa18e7bc617260878d3c7b"></a>
UNIV_INLINE bool&#160;</td><td class="memItemRight" valign="bottom"><b>pure</b></td></tr>
<tr class="separator:a1199305f05fa18e7bc617260878d3c7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de1fa5a5c99bbc84b5678762a623cf3"><td class="memItemLeft" align="right" valign="top"><a id="a9de1fa5a5c99bbc84b5678762a623cf3"></a>
UNIV_INLINE bool&#160;</td><td class="memItemRight" valign="bottom"><b>warn_unused_result</b></td></tr>
<tr class="separator:a9de1fa5a5c99bbc84b5678762a623cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Transaction undo log</p>
<p>Created 3/26/1996 Heikki Tuuri </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a836092df0b82917a8ff0fc9570ee515a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a836092df0b82917a8ff0fc9570ee515a">&#9670;&nbsp;</a></span>TRX_UNDO_ACTIVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_ACTIVE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">1       <span class="comment">/* contains an undo log of an active</span></div><div class="line"><span class="comment">                                        transaction */</span></div></div><!-- fragment -->
</div>
</div>
<a id="a6b0e667037fdd3dee1b299a455a233aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b0e667037fdd3dee1b299a455a233aa">&#9670;&nbsp;</a></span>TRX_UNDO_DEL_MARKS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_DEL_MARKS&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Defined only in an update undo log: TRUE if the transaction may have done delete markings of records, and thus purge is necessary </p>

</div>
</div>
<a id="aff82d1140d6d6e2f9cf0bbb00bf0500e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff82d1140d6d6e2f9cf0bbb00bf0500e">&#9670;&nbsp;</a></span>TRX_UNDO_DICT_TRANS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_DICT_TRANS&#160;&#160;&#160;21</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TRUE if the transaction is a table create, index create, or drop transaction: in recovery the transaction cannot be rolled back in the usual way: a 'rollback' rather means dropping the created or dropped table, if it still exists </p>

</div>
</div>
<a id="aef35459c9c8dc977e3f7cc1091ccc6a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef35459c9c8dc977e3f7cc1091ccc6a6">&#9670;&nbsp;</a></span>TRX_UNDO_FSEG_HEADER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_FSEG_HEADER&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Header for the file segment which the undo log segment occupies </p>

</div>
</div>
<a id="abda919ac9fd0edefd4dfac71098ba3ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abda919ac9fd0edefd4dfac71098ba3ad">&#9670;&nbsp;</a></span>TRX_UNDO_HISTORY_NODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_HISTORY_NODE&#160;&#160;&#160;34</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the log is put to the history list, the file list node is here </p>

</div>
</div>
<a id="afc1b18c4418c42c02071eb629d202c71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc1b18c4418c42c02071eb629d202c71">&#9670;&nbsp;</a></span>TRX_UNDO_LAST_LOG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_LAST_LOG&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset of the last undo log header on the segment header page, 0 if none </p>

</div>
</div>
<a id="a1102a9f4843a83f67018860e0bcf5b20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1102a9f4843a83f67018860e0bcf5b20">&#9670;&nbsp;</a></span>TRX_UNDO_LOG_OLD_HDR_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_LOG_OLD_HDR_SIZE&#160;&#160;&#160;(34 + FLST_NODE_SIZE)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of the undo log header without XID information </p>

</div>
</div>
<a id="ad3093a267fe72ea95329bab4130d50e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3093a267fe72ea95329bab4130d50e8">&#9670;&nbsp;</a></span>TRX_UNDO_LOG_START</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_LOG_START&#160;&#160;&#160;18</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset of the first undo log record of this log on the header page; purge may remove undo log record from the log start, and therefore this is not necessarily the same as this log header end offset </p>

</div>
</div>
<a id="ace2d2f23a85f9ec9ab7cb9df670242f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace2d2f23a85f9ec9ab7cb9df670242f8">&#9670;&nbsp;</a></span>TRX_UNDO_LOG_XA_HDR_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_LOG_XA_HDR_SIZE&#160;&#160;&#160;(<a class="el" href="trx0undo_8h.html#abc4f59f064e7b22a2ddc421df893d021">TRX_UNDO_XA_XID</a> + XIDDATASIZE)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Total size of the undo log header with the XA XID </p>

</div>
</div>
<a id="ae028eab2bea87c744818f15e312e51f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae028eab2bea87c744818f15e312e51f9">&#9670;&nbsp;</a></span>TRX_UNDO_NEXT_LOG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_NEXT_LOG&#160;&#160;&#160;30</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset of the next undo log header on this page, 0 if none </p>

</div>
</div>
<a id="a5fb4e65d422c3cd4cd73d6e37e60b8ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fb4e65d422c3cd4cd73d6e37e60b8ce">&#9670;&nbsp;</a></span>TRX_UNDO_PAGE_FREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_PAGE_FREE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>On each page of the undo log this field contains the byte offset of the first free byte on the page </p>

</div>
</div>
<a id="ab91980ce604cd0800f205cb4b2508cc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab91980ce604cd0800f205cb4b2508cc6">&#9670;&nbsp;</a></span>TRX_UNDO_PAGE_HDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_PAGE_HDR&#160;&#160;&#160;FSEG_PAGE_DATA</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The offset of the undo log page header on pages of the undo log </p>

</div>
</div>
<a id="a81f0cffd9e576d90308dcde3aa9a7098"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81f0cffd9e576d90308dcde3aa9a7098">&#9670;&nbsp;</a></span>TRX_UNDO_PAGE_HDR_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_PAGE_HDR_SIZE&#160;&#160;&#160;(6 + FLST_NODE_SIZE)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of the transaction undo log page header, in bytes </p>

</div>
</div>
<a id="a8c332908af74a82f679a3ca31544a69b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c332908af74a82f679a3ca31544a69b">&#9670;&nbsp;</a></span>TRX_UNDO_PAGE_LIST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_PAGE_LIST&#160;&#160;&#160;(4 + FSEG_HEADER_SIZE)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Base node for the list of pages in the undo log segment; defined only on the undo log segment's first page </p>

</div>
</div>
<a id="ab9f7746023b72bd8aec2a3661f88f42b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9f7746023b72bd8aec2a3661f88f42b">&#9670;&nbsp;</a></span>TRX_UNDO_PAGE_NODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_PAGE_NODE&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The file list node in the chain of undo log pages </p>

</div>
</div>
<a id="a7f68b6afdd7d85380279245d3fab531c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f68b6afdd7d85380279245d3fab531c">&#9670;&nbsp;</a></span>TRX_UNDO_PAGE_REUSE_LIMIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_PAGE_REUSE_LIMIT&#160;&#160;&#160;(3 * UNIV_PAGE_SIZE / 4)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An update undo segment with just one page can be reused if it has at most this many bytes used; we must leave space at least for one new undo log header on the page </p>

</div>
</div>
<a id="a602caf71da94134c9529c3a05bd56776"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a602caf71da94134c9529c3a05bd56776">&#9670;&nbsp;</a></span>TRX_UNDO_PAGE_START</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_PAGE_START&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Byte offset where the undo log records for the LATEST transaction start on this page (remember that in an update undo log, the first page can contain several undo logs) </p>

</div>
</div>
<a id="a304a793a3cc253b520910aa34547da96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a304a793a3cc253b520910aa34547da96">&#9670;&nbsp;</a></span>TRX_UNDO_PAGE_TYPE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_PAGE_TYPE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transaction undo log page header offsets TRX_UNDO_INSERT or TRX_UNDO_UPDATE </p>

</div>
</div>
<a id="a6e14b9b7912ad2052aee60e138571454"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e14b9b7912ad2052aee60e138571454">&#9670;&nbsp;</a></span>TRX_UNDO_PREPARED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_PREPARED</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">5       <span class="comment">/* contains an undo log of an</span></div><div class="line"><span class="comment">                                        prepared transaction */</span></div></div><!-- fragment -->
</div>
</div>
<a id="af46da26879663fa2a46a5a8a0e23cae4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af46da26879663fa2a46a5a8a0e23cae4">&#9670;&nbsp;</a></span>TRX_UNDO_PREV_LOG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_PREV_LOG&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset of the previous undo log header on this page, 0 if none </p>

</div>
</div>
<a id="a7080a21a75110243d8b9c1a43c442085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7080a21a75110243d8b9c1a43c442085">&#9670;&nbsp;</a></span>TRX_UNDO_SEG_HDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_SEG_HDR&#160;&#160;&#160;(<a class="el" href="trx0undo_8h.html#ab91980ce604cd0800f205cb4b2508cc6">TRX_UNDO_PAGE_HDR</a> + <a class="el" href="trx0undo_8h.html#a81f0cffd9e576d90308dcde3aa9a7098">TRX_UNDO_PAGE_HDR_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The offset of the undo log segment header on the first page of the undo log segment </p>

</div>
</div>
<a id="a1f2cdc055cdda13b163edd2e8e26f505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f2cdc055cdda13b163edd2e8e26f505">&#9670;&nbsp;</a></span>TRX_UNDO_SEG_HDR_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_SEG_HDR_SIZE&#160;&#160;&#160;(4 + FSEG_HEADER_SIZE + FLST_BASE_NODE_SIZE)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of the undo log segment header </p>

</div>
</div>
<a id="a363a78c092573b7b84181c2c95480da6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a363a78c092573b7b84181c2c95480da6">&#9670;&nbsp;</a></span>TRX_UNDO_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_STATE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undo log segment header TRX_UNDO_ACTIVE, ... </p>

</div>
</div>
<a id="a52ac1fb2fe68ae017021f0a7cde9b892"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52ac1fb2fe68ae017021f0a7cde9b892">&#9670;&nbsp;</a></span>TRX_UNDO_TABLE_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_TABLE_ID&#160;&#160;&#160;22</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Id of the table if the preceding field is TRUE </p>

</div>
</div>
<a id="a3cb915c175c75cf318cfa7a8a1a2ad5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cb915c175c75cf318cfa7a8a1a2ad5b">&#9670;&nbsp;</a></span>TRX_UNDO_TO_PURGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_TO_PURGE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">4       <span class="comment">/* update undo segment will not be</span></div><div class="line"><span class="comment">                                        reused: it can be freed in purge when</span></div><div class="line"><span class="comment">                                        all undo data in it is removed */</span></div></div><!-- fragment -->
</div>
</div>
<a id="ad731492924e06471984f99d5f59d59a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad731492924e06471984f99d5f59d59a8">&#9670;&nbsp;</a></span>TRX_UNDO_TRX_ID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_TRX_ID&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The undo log header. There can be several undo log headers on the first page of an update undo log segment. Transaction id </p>

</div>
</div>
<a id="a719b18197bfb01c0292995506538f445"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a719b18197bfb01c0292995506538f445">&#9670;&nbsp;</a></span>TRX_UNDO_TRX_NO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_TRX_NO&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transaction number of the transaction; defined only if the log is in a history list </p>

</div>
</div>
<a id="a690ce47aca0d2f09063384c8b50a2f43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a690ce47aca0d2f09063384c8b50a2f43">&#9670;&nbsp;</a></span>TRX_UNDO_UPDATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_UPDATE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">2       <span class="comment">/* contains undo entries for updates</span></div><div class="line"><span class="comment">                                        and delete markings: in short,</span></div><div class="line"><span class="comment">                                        modifys (the name &#39;UPDATE&#39; is a</span></div><div class="line"><span class="comment">                                        historical relic) */</span></div></div><!-- fragment -->
</div>
</div>
<a id="a6c9fc1de411ca05342b48353860ff824"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c9fc1de411ca05342b48353860ff824">&#9670;&nbsp;</a></span>TRX_UNDO_XA_BQUAL_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_XA_BQUAL_LEN&#160;&#160;&#160;(<a class="el" href="trx0undo_8h.html#aa4053dcba228d4d5370f91492452c2a0">TRX_UNDO_XA_TRID_LEN</a> + 4)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="structxid__t.html#a098cc2935df7fb767e39110c82d9fc08">xid_t::bqual_length</a> </p>

</div>
</div>
<a id="ada98715799eab7dea1f55e0e3aaadce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada98715799eab7dea1f55e0e3aaadce5">&#9670;&nbsp;</a></span>TRX_UNDO_XA_FORMAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_XA_FORMAT&#160;&#160;&#160;(<a class="el" href="trx0undo_8h.html#a1102a9f4843a83f67018860e0bcf5b20">TRX_UNDO_LOG_OLD_HDR_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>X/Open XA Transaction Identification (XID) <a class="el" href="structxid__t.html#a2147f4d83ff0ee9e8f8eed9d0d2bbed7">xid_t::formatID</a> </p>

</div>
</div>
<a id="aa4053dcba228d4d5370f91492452c2a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4053dcba228d4d5370f91492452c2a0">&#9670;&nbsp;</a></span>TRX_UNDO_XA_TRID_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_XA_TRID_LEN&#160;&#160;&#160;(<a class="el" href="trx0undo_8h.html#ada98715799eab7dea1f55e0e3aaadce5">TRX_UNDO_XA_FORMAT</a> + 4)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="structxid__t.html#a397b076f51293c960321fea7c64f201b">xid_t::gtrid_length</a> </p>

</div>
</div>
<a id="abc4f59f064e7b22a2ddc421df893d021"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc4f59f064e7b22a2ddc421df893d021">&#9670;&nbsp;</a></span>TRX_UNDO_XA_XID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_XA_XID&#160;&#160;&#160;(<a class="el" href="trx0undo_8h.html#a6c9fc1de411ca05342b48353860ff824">TRX_UNDO_XA_BQUAL_LEN</a> + 4)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Distributed transaction identifier data </p>

</div>
</div>
<a id="a84cc5b863aaf13474c2a67f55d45bf19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84cc5b863aaf13474c2a67f55d45bf19">&#9670;&nbsp;</a></span>TRX_UNDO_XID_EXISTS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRX_UNDO_XID_EXISTS&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TRUE if undo log header includes X/Open XA transaction identification XID </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0310ed42747e8c3e3ab2158aab3857d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0310ed42747e8c3e3ab2158aab3857d7">&#9670;&nbsp;</a></span>trx_read_roll_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a> trx_read_roll_ptr </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads a roll ptr from an index page. In case that the roll ptr size changes in some future version, this function should be used instead of mach_read_... </p><dl class="section return"><dt>Returns</dt><dd>roll ptr in: pointer to memory from where to read </dd></dl>

</div>
</div>
<a id="a3a84b214d2552d7e6382d13ac487bd85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a84b214d2552d7e6382d13ac487bd85">&#9670;&nbsp;</a></span>trx_undo_add_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structbuf__block__t.html">buf_block_t</a>* trx_undo_add_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tries to add a page to the undo log segment where the undo log is placed. </p><dl class="section return"><dt>Returns</dt><dd>X-latched block if success, else NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">undo</td><td>in: undo log memory object </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr which does not have a latch to any undo log page; the caller must have reserved the rollback segment mutex </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abbcab50adf5cad12bd45231771eafc66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbcab50adf5cad12bd45231771eafc66">&#9670;&nbsp;</a></span>trx_undo_assign_undo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> trx_undo_assign_undo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assigns an undo log for a transaction. A new undo log is created or a cached undo log reused. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS if undo log assign successful, possible error codes are: DB_TOO_MANY_CONCURRENT_TRXS DB_OUT_OF_FILE_SPACE DB_READ_ONLY DB_OUT_OF_MEMORY </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">type</td><td>in: TRX_UNDO_INSERT or TRX_UNDO_UPDATE </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a75d19c81c579ac7bde1e4eb444467dc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75d19c81c579ac7bde1e4eb444467dc6">&#9670;&nbsp;</a></span>trx_undo_build_roll_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a> trx_undo_build_roll_ptr </td>
          <td>(</td>
          <td class="paramtype">ibool&#160;</td>
          <td class="paramname"><em>is_insert</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>rseg_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Builds a roll pointer. </p><dl class="section return"><dt>Returns</dt><dd>roll pointer in: offset of the undo entry within page </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is_insert</td><td>in: TRUE if insert undo log </td></tr>
    <tr><td class="paramname">rseg_id</td><td>in: rollback segment id </td></tr>
    <tr><td class="paramname">page_no</td><td>in: page number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a99999bd86937196c9e3474c75a756e06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99999bd86937196c9e3474c75a756e06">&#9670;&nbsp;</a></span>trx_undo_decode_roll_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void trx_undo_decode_roll_ptr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a>&#160;</td>
          <td class="paramname"><em>roll_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ibool *&#160;</td>
          <td class="paramname"><em>is_insert</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>rseg_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Decodes a roll pointer. out: offset of the undo entry within page </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">roll_ptr</td><td>in: roll pointer </td></tr>
    <tr><td class="paramname">is_insert</td><td>out: TRUE if insert undo log </td></tr>
    <tr><td class="paramname">rseg_id</td><td>out: rollback segment id </td></tr>
    <tr><td class="paramname">page_no</td><td>out: page number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac3a70dc254bacc87103f36c6e7f72bb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3a70dc254bacc87103f36c6e7f72bb2">&#9670;&nbsp;</a></span>trx_undo_free_last_page_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_free_last_page_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the last undo log page. The caller must hold the rollback segment mutex. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo</td><td>in/out: undo log memory copy </td></tr>
    <tr><td class="paramname">mtr</td><td>in/out: mini-transaction which does not have a latch to any undo log page or which has allocated the undo log page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae2366430693451ffa79c37039dfb6618"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2366430693451ffa79c37039dfb6618">&#9670;&nbsp;</a></span>trx_undo_free_prepared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_free_prepared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>At shutdown, frees the undo logs of a PREPARED transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: PREPARED transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1c5381a831e5dbb1b304098975be23bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c5381a831e5dbb1b304098975be23bd">&#9670;&nbsp;</a></span>trx_undo_get_first_rec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a>* trx_undo_get_first_rec </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>zip_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the first record in an undo log. </p><dl class="section return"><dt>Returns</dt><dd>undo log record, the page latched, NULL if none in: mtr</dd></dl>
<p>Gets the first record in an undo log. </p><dl class="section return"><dt>Returns</dt><dd>undo log record, the page latched, NULL if none </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">space</td><td>in: undo log header space </td></tr>
    <tr><td class="paramname">zip_size</td><td>in: compressed page size in bytes or 0 for uncompressed pages </td></tr>
    <tr><td class="paramname">page_no</td><td>in: undo log header page number </td></tr>
    <tr><td class="paramname">offset</td><td>in: undo log header offset on page </td></tr>
    <tr><td class="paramname">mode</td><td>in: latching mode: RW_S_LATCH or RW_X_LATCH </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6843a910c265943c2f5a0c050d7ea0e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6843a910c265943c2f5a0c050d7ea0e1">&#9670;&nbsp;</a></span>trx_undo_get_next_rec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a>* trx_undo_get_next_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the next record in an undo log. </p><dl class="section return"><dt>Returns</dt><dd>undo log record, the page s-latched, NULL if none in: mtr</dd></dl>
<p>Gets the next record in an undo log. </p><dl class="section return"><dt>Returns</dt><dd>undo log record, the page s-latched, NULL if none </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rec</td><td>in: undo record </td></tr>
    <tr><td class="paramname">page_no</td><td>in: undo log header page number </td></tr>
    <tr><td class="paramname">offset</td><td>in: undo log header offset on page </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a401e2a2547a1e86a57165fabba15ced7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a401e2a2547a1e86a57165fabba15ced7">&#9670;&nbsp;</a></span>trx_undo_get_prev_rec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a>* trx_undo_get_prev_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>shared</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the previous record in an undo log. </p><dl class="section return"><dt>Returns</dt><dd>undo log record, the page s-latched, NULL if none in: mtr</dd></dl>
<p>Gets the previous record in an undo log. </p><dl class="section return"><dt>Returns</dt><dd>undo log record, the page s-latched, NULL if none </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rec</td><td>in: undo record </td></tr>
    <tr><td class="paramname">page_no</td><td>in: undo log header page number </td></tr>
    <tr><td class="paramname">offset</td><td>in: undo log header offset on page </td></tr>
    <tr><td class="paramname">shared</td><td>in: true=S-latch, false=X-latch </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5cf5458624c75a3b5d0aa246bf2fe3a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cf5458624c75a3b5d0aa246bf2fe3a0">&#9670;&nbsp;</a></span>trx_undo_insert_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_insert_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees or caches an insert undo log after a transaction commit or rollback. Knowledge of inserts is not needed after a commit or rollback, therefore the data can be discarded. in: transaction handle</p>
<p>Frees or caches an insert undo log after a transaction commit or rollback. Knowledge of inserts is not needed after a commit or rollback, therefore the data can be discarded. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa5e2fe0371635fbb23dad87a258164a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5e2fe0371635fbb23dad87a258164a4">&#9670;&nbsp;</a></span>trx_undo_lists_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN ulint trx_undo_lists_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *&#160;</td>
          <td class="paramname"><em>rseg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the undo log lists for a rollback segment memory copy. This function is only called when the database is started or a new rollback segment created. </p><dl class="section return"><dt>Returns</dt><dd>the combined size of undo log segments in pages in: rollback segment memory object</dd></dl>
<p>Initializes the undo log lists for a rollback segment memory copy. This function is only called when the database is started or a new rollback segment is created. </p><dl class="section return"><dt>Returns</dt><dd>the combined size of undo log segments in pages </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rseg</td><td>in: rollback segment memory object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9396f5324a5d20f407ab4f65f4d1a3b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9396f5324a5d20f407ab4f65f4d1a3b7">&#9670;&nbsp;</a></span>trx_undo_mem_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_mem_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td>
          <td class="paramname"><em>undo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees an undo log memory copy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo</td><td>in: the undo object to be freed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a91c468bb2123f0e65c01a1c6dd773ed6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c468bb2123f0e65c01a1c6dd773ed6">&#9670;&nbsp;</a></span>trx_undo_page_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a>* trx_undo_page_get </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>zip_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets an undo log page and x-latches it. </p><dl class="section return"><dt>Returns</dt><dd>pointer to page x-latched in: mtr </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">space</td><td>in: space where placed </td></tr>
    <tr><td class="paramname">zip_size</td><td>in: compressed page size in bytes or 0 for uncompressed pages </td></tr>
    <tr><td class="paramname">page_no</td><td>in: page number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acec472401b15a890533d83013e03eb18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acec472401b15a890533d83013e03eb18">&#9670;&nbsp;</a></span>trx_undo_page_get_first_rec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a>* trx_undo_page_get_first_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>undo_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the first undo record on the page in the specified undo log, or NULL if none exists. </p><dl class="section return"><dt>Returns</dt><dd>pointer to record, NULL if none in: undo log header offset on page </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo_page</td><td>in: undo log page </td></tr>
    <tr><td class="paramname">page_no</td><td>in: undo log header page number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ace4052df57f1530cd8ddf3b88e5c4b02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace4052df57f1530cd8ddf3b88e5c4b02">&#9670;&nbsp;</a></span>trx_undo_page_get_last_rec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a>* trx_undo_page_get_last_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>undo_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the last undo record on the page in the specified undo log, or NULL if none exists. </p><dl class="section return"><dt>Returns</dt><dd>pointer to record, NULL if none in: undo log header offset on page </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo_page</td><td>in: undo log page </td></tr>
    <tr><td class="paramname">page_no</td><td>in: undo log header page number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a947c52d195d7ee1a60718354e18cc08b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a947c52d195d7ee1a60718354e18cc08b">&#9670;&nbsp;</a></span>trx_undo_page_get_next_rec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a>* trx_undo_page_get_next_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the next undo log record on the page in the specified log, or NULL if none exists. </p><dl class="section return"><dt>Returns</dt><dd>pointer to record, NULL if none in: undo log header offset on page </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rec</td><td>in: undo log record </td></tr>
    <tr><td class="paramname">page_no</td><td>in: undo log header page number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac85d1faa279ebe0025f6d2a6d4643b12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac85d1faa279ebe0025f6d2a6d4643b12">&#9670;&nbsp;</a></span>trx_undo_page_get_prev_rec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a>* trx_undo_page_get_prev_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the previous undo record on the page in the specified log, or NULL if none exists. </p><dl class="section return"><dt>Returns</dt><dd>pointer to record, NULL if none in: undo log header offset on page </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rec</td><td>in: undo log record </td></tr>
    <tr><td class="paramname">page_no</td><td>in: undo log header page number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a14227732ee44962b7deb045d3f4f05c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14227732ee44962b7deb045d3f4f05c7">&#9670;&nbsp;</a></span>trx_undo_page_get_s_latched()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a>* trx_undo_page_get_s_latched </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>zip_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets an undo log page and s-latches it. </p><dl class="section return"><dt>Returns</dt><dd>pointer to page s-latched in: mtr </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">space</td><td>in: space where placed </td></tr>
    <tr><td class="paramname">zip_size</td><td>in: compressed page size in bytes or 0 for uncompressed pages </td></tr>
    <tr><td class="paramname">page_no</td><td>in: page number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae4709ff04567aaad2c3fd851c2ff4040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4709ff04567aaad2c3fd851c2ff4040">&#9670;&nbsp;</a></span>trx_undo_parse_discard_latest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN byte* trx_undo_parse_discard_latest </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parses the redo log entry of an undo log page header discard. </p><dl class="section return"><dt>Returns</dt><dd>end of log record or NULL in: mtr or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: buffer end </td></tr>
    <tr><td class="paramname">page</td><td>in: page or NULL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad84a0a4d5fcac22c5ab826ebabcf625c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad84a0a4d5fcac22c5ab826ebabcf625c">&#9670;&nbsp;</a></span>trx_undo_parse_page_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN byte* trx_undo_parse_page_header </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parses the redo log entry of an undo log page header create or reuse. </p><dl class="section return"><dt>Returns</dt><dd>end of log record or NULL in: mtr or NULL</dd></dl>
<p>Parses the redo log entry of an undo log page header create or reuse. </p><dl class="section return"><dt>Returns</dt><dd>end of log record or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>in: MLOG_UNDO_HDR_CREATE or MLOG_UNDO_HDR_REUSE </td></tr>
    <tr><td class="paramname">ptr</td><td>in: buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: buffer end </td></tr>
    <tr><td class="paramname">page</td><td>in: page or NULL </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr or NULL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aac375f4379a6069f3f8f2ef03e93cbdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac375f4379a6069f3f8f2ef03e93cbdd">&#9670;&nbsp;</a></span>trx_undo_parse_page_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN byte* trx_undo_parse_page_init </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parses the redo log entry of an undo log page initialization. </p><dl class="section return"><dt>Returns</dt><dd>end of log record or NULL in: mtr or NULL</dd></dl>
<p>Parses the redo log entry of an undo log page initialization. </p><dl class="section return"><dt>Returns</dt><dd>end of log record or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: buffer end </td></tr>
    <tr><td class="paramname">page</td><td>in: page or NULL </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr or NULL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a07f8a1930550c8e69e70cea94428aa59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07f8a1930550c8e69e70cea94428aa59">&#9670;&nbsp;</a></span>trx_undo_roll_ptr_is_insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ibool trx_undo_roll_ptr_is_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a>&#160;</td>
          <td class="paramname"><em>roll_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns TRUE if the roll pointer is of the insert type. </p><dl class="section return"><dt>Returns</dt><dd>TRUE if insert undo log in: roll pointer </dd></dl>

</div>
</div>
<a id="a0390b8ccd9623edba3655f4a8875e225"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0390b8ccd9623edba3655f4a8875e225">&#9670;&nbsp;</a></span>trx_undo_set_state_at_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a>* trx_undo_set_state_at_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the state of the undo log segment at a transaction finish. </p><dl class="section return"><dt>Returns</dt><dd>undo log segment header page, x-latched in: mtr</dd></dl>
<p>Sets the state of the undo log segment at a transaction finish. </p><dl class="section return"><dt>Returns</dt><dd>undo log segment header page, x-latched </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo</td><td>in: undo log memory copy </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3a731b5d0da0343f4f42d5b60ae0c8ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a731b5d0da0343f4f42d5b60ae0c8ca">&#9670;&nbsp;</a></span>trx_undo_set_state_at_prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a>* trx_undo_set_state_at_prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the state of the undo log segment at a transaction prepare. </p><dl class="section return"><dt>Returns</dt><dd>undo log segment header page, x-latched in: mtr</dd></dl>
<p>Sets the state of the undo log segment at a transaction prepare. </p><dl class="section return"><dt>Returns</dt><dd>undo log segment header page, x-latched </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">undo</td><td>in: undo log memory copy </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad08b9b8f0523abdd873824f64a639551"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad08b9b8f0523abdd873824f64a639551">&#9670;&nbsp;</a></span>trx_undo_truncate_end_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_truncate_end_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a>&#160;</td>
          <td class="paramname"><em>limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Truncates an undo log from the end. This function is used during a rollback to free space from an undo log. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo</td><td>in: undo log </td></tr>
    <tr><td class="paramname">limit</td><td>in: all undo records with undo number &gt;= this value should be truncated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9c96ff3ced71317156fc9cbfa0255054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c96ff3ced71317156fc9cbfa0255054">&#9670;&nbsp;</a></span>trx_undo_truncate_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_truncate_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *&#160;</td>
          <td class="paramname"><em>rseg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>hdr_page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>hdr_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a>&#160;</td>
          <td class="paramname"><em>limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Truncates an undo log from the start. This function is used during a purge operation. in: all undo pages with undo numbers &lt; this value should be truncated; NOTE that the function only frees whole pages; the header page is not freed, but emptied, if all the records there are &lt; limit</p>
<p>Truncates an undo log from the start. This function is used during a purge operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rseg</td><td>in: rollback segment </td></tr>
    <tr><td class="paramname">space</td><td>in: space id of the log </td></tr>
    <tr><td class="paramname">hdr_page_no</td><td>in: header page number </td></tr>
    <tr><td class="paramname">hdr_offset</td><td>in: header offset on the page </td></tr>
    <tr><td class="paramname">limit</td><td>in: all undo pages with undo numbers &lt; this value should be truncated; NOTE that the function only frees whole pages; the header page is not freed, but emptied, if all the records there are &lt; limit </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa4724ada22bad2313e6e79fc8ec7df54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4724ada22bad2313e6e79fc8ec7df54">&#9670;&nbsp;</a></span>trx_undo_trx_id_is_insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE bool trx_undo_trx_id_is_insert </td>
          <td>(</td>
          <td class="paramtype">const byte *&#160;</td>
          <td class="paramname"><em>trx_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true if the record is of the insert type. </p><dl class="section return"><dt>Returns</dt><dd>true if the record was freshly inserted (not updated). </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx_id</td><td>in: DB_TRX_ID, followed by DB_ROLL_PTR </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a204e5f56556f703e62e29c393f74e4e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a204e5f56556f703e62e29c393f74e4e6">&#9670;&nbsp;</a></span>trx_undo_update_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_update_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>undo_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds the update undo log header as the first in the history list, and frees the memory object, or puts it to the list of cached update undo log segments. in: mtr</p>
<p>Adds the update undo log header as the first in the history list, and frees the memory object, or puts it to the list of cached update undo log segments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: trx owning the update undo log </td></tr>
    <tr><td class="paramname">undo_page</td><td>in: update undo log header page, x-latched </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a217d801284210e8ce80b23e6caf1f7e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217d801284210e8ce80b23e6caf1f7e1">&#9670;&nbsp;</a></span>trx_write_roll_ptr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void trx_write_roll_ptr </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a>&#160;</td>
          <td class="paramname"><em>roll_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes a roll ptr to an index page. In case that the size changes in some future version, this function should be used instead of mach_write_... in: roll ptr </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: pointer to memory where written </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
