<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: storage/innobase/trx/trx0undo.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_7d6b8692e14baa729600e27a3e4f8b7c.html">trx</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">trx0undo.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="trx0undo_8h_source.html">trx0undo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fsp0fsp_8h_source.html">fsp0fsp.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mach0data_8h_source.html">mach0data.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mtr0log_8h_source.html">mtr0log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0rseg_8h_source.html">trx0rseg.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0trx_8h_source.html">trx0trx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0srv_8h_source.html">srv0srv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0start_8h_source.html">srv0start.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0rec_8h_source.html">trx0rec.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0purge_8h_source.html">trx0purge.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0mon_8h_source.html">srv0mon.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4aae2819a4ffcdcb6c3a088f61b24260"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a4aae2819a4ffcdcb6c3a088f61b24260">trx_undo_page_init</a> (<a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>, ulint <a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a4aae2819a4ffcdcb6c3a088f61b24260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9c25a033890ab6bdeb816377c67f7e1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#ad9c25a033890ab6bdeb816377c67f7e1">trx_undo_mem_create</a> (<a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *<a class="el" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>, ulint <a class="el" href="trx0undo_8cc.html#a42c94db63b554b8c7fa2a814f1f3dc8f">id</a>, ulint <a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>, <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> <a class="el" href="trx0undo_8cc.html#a31dc85e5157cc0055a93f38465fdef6b">trx_id</a>, const <a class="el" href="structxid__t.html">XID</a> *<a class="el" href="trx0undo_8cc.html#aace6852308ced45e03c16d9d8e54f773">xid</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, ulint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>)</td></tr>
<tr class="separator:ad9c25a033890ab6bdeb816377c67f7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca8f72b00bd0e6adfa7c0c05e8a379c7"><td class="memItemLeft" align="right" valign="top">static ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#aca8f72b00bd0e6adfa7c0c05e8a379c7">trx_undo_insert_header_reuse</a> (<a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>, <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> <a class="el" href="trx0undo_8cc.html#a31dc85e5157cc0055a93f38465fdef6b">trx_id</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:aca8f72b00bd0e6adfa7c0c05e8a379c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43e5dab3d57b37ab71254c1e9275b579"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a43e5dab3d57b37ab71254c1e9275b579">trx_undo_discard_latest_update_undo</a> (<a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a43e5dab3d57b37ab71254c1e9275b579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f4f9b2cc9738ff77b46fa58366e910b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a6f4f9b2cc9738ff77b46fa58366e910b">trx_undo_get_prev_rec_from_prev_page</a> (<a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *<a class="el" href="row0sel_8cc.html#a885b1a2aa48633ec89f311f7ec2c9aaa">rec</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, ulint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>, bool shared, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a6f4f9b2cc9738ff77b46fa58366e910b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a401e2a2547a1e86a57165fabba15ced7"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a401e2a2547a1e86a57165fabba15ced7">trx_undo_get_prev_rec</a> (<a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *<a class="el" href="row0sel_8cc.html#a885b1a2aa48633ec89f311f7ec2c9aaa">rec</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, ulint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>, bool shared, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a401e2a2547a1e86a57165fabba15ced7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4177ac2fd64eeb477c9222aa1c6b266"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#ae4177ac2fd64eeb477c9222aa1c6b266">trx_undo_get_next_rec_from_next_page</a> (ulint <a class="el" href="ibuf0ibuf_8cc.html#aae9e36bded84b28f880abb9a711c7d1e">space</a>, ulint <a class="el" href="row0merge_8cc.html#acbd6f0665ead771e112f93b23cf27faf">zip_size</a>, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, ulint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>, ulint <a class="el" href="row0umod_8cc.html#a72b8a027308addc643f9adf5e4d41f9a">mode</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:ae4177ac2fd64eeb477c9222aa1c6b266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6843a910c265943c2f5a0c050d7ea0e1"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a6843a910c265943c2f5a0c050d7ea0e1">trx_undo_get_next_rec</a> (<a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *<a class="el" href="row0sel_8cc.html#a885b1a2aa48633ec89f311f7ec2c9aaa">rec</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, ulint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a6843a910c265943c2f5a0c050d7ea0e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c5381a831e5dbb1b304098975be23bd"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a1c5381a831e5dbb1b304098975be23bd">trx_undo_get_first_rec</a> (ulint <a class="el" href="ibuf0ibuf_8cc.html#aae9e36bded84b28f880abb9a711c7d1e">space</a>, ulint <a class="el" href="row0merge_8cc.html#acbd6f0665ead771e112f93b23cf27faf">zip_size</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, ulint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>, ulint <a class="el" href="row0umod_8cc.html#a72b8a027308addc643f9adf5e4d41f9a">mode</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a1c5381a831e5dbb1b304098975be23bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a521acd9b10ee576aab76dcd9d361ae"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a4a521acd9b10ee576aab76dcd9d361ae">trx_undo_page_init_log</a> (<a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>, ulint <a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a4a521acd9b10ee576aab76dcd9d361ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac375f4379a6069f3f8f2ef03e93cbdd"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#aac375f4379a6069f3f8f2ef03e93cbdd">trx_undo_parse_page_init</a> (byte *ptr, byte *end_ptr, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="fsp0fsp_8cc.html#a69e3109c6b8c8d21dfc851e276de8389">page</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:aac375f4379a6069f3f8f2ef03e93cbdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa965850120c0683c58e8c762cdc0fb17"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a> ((nonnull, warn_unused_result)) <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> trx_undo_seg_create(<a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *<a class="el" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a> __attribute__((unused))</td></tr>
<tr class="separator:aa965850120c0683c58e8c762cdc0fb17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a90bc6cee30133156962793d300db0e"><td class="memItemLeft" align="right" valign="top"><a id="a5a90bc6cee30133156962793d300db0e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a> &amp;&amp;<a class="el" href="trx0undo_8cc.html#a42c94db63b554b8c7fa2a814f1f3dc8f">id</a> &amp;&amp;<a class="el" href="trx0undo_8cc.html#aef22d110334efa52f164af30d337c7ef">rseg_hdr</a>)</td></tr>
<tr class="separator:a5a90bc6cee30133156962793d300db0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab08e200fea8516490215734e64be71bf"><td class="memItemLeft" align="right" valign="top"><a id="ab08e200fea8516490215734e64be71bf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (mutex_own(&amp;(<a class="el" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>-&gt;mutex)))</td></tr>
<tr class="separator:ab08e200fea8516490215734e64be71bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad318554e0aaace159e7f3aed5223e0db"><td class="memItemLeft" align="right" valign="top"><a id="ad318554e0aaace159e7f3aed5223e0db"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (slot_no==ULINT_UNDEFINED)</td></tr>
<tr class="separator:ad318554e0aaace159e7f3aed5223e0db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09dd264c1122a52721c6337bb36947ba"><td class="memItemLeft" align="right" valign="top"><a id="a09dd264c1122a52721c6337bb36947ba"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (!success)</td></tr>
<tr class="separator:a09dd264c1122a52721c6337bb36947ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a553d7b5140ca9b6fa84041a5c0423f81"><td class="memItemLeft" align="right" valign="top"><a id="a553d7b5140ca9b6fa84041a5c0423f81"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>fil_space_release_free_extents</b> (<a class="el" href="ibuf0ibuf_8cc.html#aae9e36bded84b28f880abb9a711c7d1e">space</a>, n_reserved)</td></tr>
<tr class="separator:a553d7b5140ca9b6fa84041a5c0423f81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aee457516076d0c063fb8db36d103d9"><td class="memItemLeft" align="right" valign="top"><a id="a4aee457516076d0c063fb8db36d103d9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="row0merge_8cc.html#a93c46cf7240dc5a16f8137e7d34a5049">block</a>==NULL)</td></tr>
<tr class="separator:a4aee457516076d0c063fb8db36d103d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a125acf09307cf07fee6b1db07d051677"><td class="memItemLeft" align="right" valign="top"><a id="a125acf09307cf07fee6b1db07d051677"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>buf_block_dbg_add_level</b> (<a class="el" href="row0merge_8cc.html#a93c46cf7240dc5a16f8137e7d34a5049">block</a>, SYNC_TRX_UNDO_PAGE)</td></tr>
<tr class="separator:a125acf09307cf07fee6b1db07d051677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e4c865c26f0b0a75b8597f4dc2c54d7"><td class="memItemLeft" align="right" valign="top"><a id="a3e4c865c26f0b0a75b8597f4dc2c54d7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mlog_write_ulint</b> (page_hdr+<a class="el" href="trx0undo_8h.html#a5fb4e65d422c3cd4cd73d6e37e60b8ce">TRX_UNDO_PAGE_FREE</a>, <a class="el" href="trx0undo_8h.html#a7080a21a75110243d8b9c1a43c442085">TRX_UNDO_SEG_HDR</a>+<a class="el" href="trx0undo_8h.html#a1f2cdc055cdda13b163edd2e8e26f505">TRX_UNDO_SEG_HDR_SIZE</a>, <a class="el" href="mtr0mtr_8h.html#a2386d6e3b1a8f515ecb18bbf8a2fee9e">MLOG_2BYTES</a>, <a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a3e4c865c26f0b0a75b8597f4dc2c54d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5ac767e7f5691d417fc5c9b380792c6"><td class="memItemLeft" align="right" valign="top"><a id="ae5ac767e7f5691d417fc5c9b380792c6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mlog_write_ulint</b> (seg_hdr+<a class="el" href="trx0undo_8h.html#afc1b18c4418c42c02071eb629d202c71">TRX_UNDO_LAST_LOG</a>, 0, <a class="el" href="mtr0mtr_8h.html#a2386d6e3b1a8f515ecb18bbf8a2fee9e">MLOG_2BYTES</a>, <a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:ae5ac767e7f5691d417fc5c9b380792c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf61272774c4747b99b0643a615d0787"><td class="memItemLeft" align="right" valign="top"><a id="abf61272774c4747b99b0643a615d0787"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>flst_init</b> (seg_hdr+<a class="el" href="trx0undo_8h.html#a8c332908af74a82f679a3ca31544a69b">TRX_UNDO_PAGE_LIST</a>, <a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:abf61272774c4747b99b0643a615d0787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa43351e404a8b01247207ba589d892f3"><td class="memItemLeft" align="right" valign="top"><a id="aa43351e404a8b01247207ba589d892f3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>flst_add_last</b> (seg_hdr+<a class="el" href="trx0undo_8h.html#a8c332908af74a82f679a3ca31544a69b">TRX_UNDO_PAGE_LIST</a>, page_hdr+<a class="el" href="trx0undo_8h.html#ab9f7746023b72bd8aec2a3661f88f42b">TRX_UNDO_PAGE_NODE</a>, <a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:aa43351e404a8b01247207ba589d892f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af40e8643f0afbb7ef20cf1dd6799c99f"><td class="memItemLeft" align="right" valign="top"><a id="af40e8643f0afbb7ef20cf1dd6799c99f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>trx_rsegf_set_nth_undo</b> (<a class="el" href="trx0undo_8cc.html#aef22d110334efa52f164af30d337c7ef">rseg_hdr</a>, slot_no, <a class="el" href="page0page_8h.html#aea6457c8148f558ae18e6d6055bf7dcf">page_get_page_no</a>(*<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>), <a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:af40e8643f0afbb7ef20cf1dd6799c99f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9111a8b92265abe1000ca16438b710b8"><td class="memItemLeft" align="right" valign="top"><a id="a9111a8b92265abe1000ca16438b710b8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MONITOR_INC</b> (MONITOR_NUM_UNDO_SLOT_USED)</td></tr>
<tr class="separator:a9111a8b92265abe1000ca16438b710b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b8a38a920be18271daddbe60e7a8d7d"><td class="memItemLeft" align="right" valign="top"><a id="a2b8a38a920be18271daddbe60e7a8d7d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>return</b> (<a class="el" href="row0import_8cc.html#a52482fdd3721e7db69dc740aefee8ad4">err</a>)</td></tr>
<tr class="separator:a2b8a38a920be18271daddbe60e7a8d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77aa0539d6218b711b36299ed0b20ba5"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a77aa0539d6218b711b36299ed0b20ba5">trx_undo_header_create_log</a> (const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>, <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> <a class="el" href="trx0undo_8cc.html#a31dc85e5157cc0055a93f38465fdef6b">trx_id</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a77aa0539d6218b711b36299ed0b20ba5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab21398dc1c499c77f45298d4c4a29ff6"><td class="memItemLeft" align="right" valign="top">static ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#ab21398dc1c499c77f45298d4c4a29ff6">trx_undo_header_create</a> (<a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>, <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> <a class="el" href="trx0undo_8cc.html#a31dc85e5157cc0055a93f38465fdef6b">trx_id</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:ab21398dc1c499c77f45298d4c4a29ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6ad661441731b0587c80be4f9382676"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#ae6ad661441731b0587c80be4f9382676">trx_undo_write_xid</a> (<a class="el" href="trx0types_8h.html#a64150d81cbf5eba60e4a902c2c8d7a1a">trx_ulogf_t</a> *log_hdr, const <a class="el" href="structxid__t.html">XID</a> *<a class="el" href="trx0undo_8cc.html#aace6852308ced45e03c16d9d8e54f773">xid</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:ae6ad661441731b0587c80be4f9382676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7569fd2fabd2f3a13f11ba4e4b27f3bb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a7569fd2fabd2f3a13f11ba4e4b27f3bb">trx_undo_read_xid</a> (<a class="el" href="trx0types_8h.html#a64150d81cbf5eba60e4a902c2c8d7a1a">trx_ulogf_t</a> *log_hdr, <a class="el" href="structxid__t.html">XID</a> *<a class="el" href="trx0undo_8cc.html#aace6852308ced45e03c16d9d8e54f773">xid</a>)</td></tr>
<tr class="separator:a7569fd2fabd2f3a13f11ba4e4b27f3bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b0a895c348a32ee0a2542b7e590d04c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a8b0a895c348a32ee0a2542b7e590d04c">trx_undo_header_add_space_for_xid</a> (<a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>, <a class="el" href="trx0types_8h.html#a64150d81cbf5eba60e4a902c2c8d7a1a">trx_ulogf_t</a> *log_hdr, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a8b0a895c348a32ee0a2542b7e590d04c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac76ea0ce06e4a3a6327d7a1dadc9c50f"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#ac76ea0ce06e4a3a6327d7a1dadc9c50f">trx_undo_insert_header_reuse_log</a> (const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>, <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> <a class="el" href="trx0undo_8cc.html#a31dc85e5157cc0055a93f38465fdef6b">trx_id</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:ac76ea0ce06e4a3a6327d7a1dadc9c50f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad84a0a4d5fcac22c5ab826ebabcf625c"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#ad84a0a4d5fcac22c5ab826ebabcf625c">trx_undo_parse_page_header</a> (ulint <a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>, byte *ptr, byte *end_ptr, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="fsp0fsp_8cc.html#a69e3109c6b8c8d21dfc851e276de8389">page</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:ad84a0a4d5fcac22c5ab826ebabcf625c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a803b313ab601fda883a663d526a7411d"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a803b313ab601fda883a663d526a7411d">trx_undo_discard_latest_log</a> (<a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a803b313ab601fda883a663d526a7411d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39e182640aa84c4de1e877cc7d622e7c"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a39e182640aa84c4de1e877cc7d622e7c">trx_undo_parse_discard_latest</a> (byte *ptr, byte *end_ptr <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((unused)), <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="fsp0fsp_8cc.html#a69e3109c6b8c8d21dfc851e276de8389">page</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a39e182640aa84c4de1e877cc7d622e7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7146ef30769f35b6d8be1e473166d845"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a7146ef30769f35b6d8be1e473166d845">trx_undo_add_page</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, <a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a7146ef30769f35b6d8be1e473166d845"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a199c0c0ff46b54238a09916cb3d42280"><td class="memItemLeft" align="right" valign="top">static ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a199c0c0ff46b54238a09916cb3d42280">trx_undo_free_page</a> (<a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *<a class="el" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>, ibool in_history, ulint <a class="el" href="ibuf0ibuf_8cc.html#aae9e36bded84b28f880abb9a711c7d1e">space</a>, ulint hdr_page_no, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a199c0c0ff46b54238a09916cb3d42280"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85cfbba47f31dab0d6b9d2ee1a6ee2a5"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a85cfbba47f31dab0d6b9d2ee1a6ee2a5">trx_undo_free_last_page_func</a> (<a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a85cfbba47f31dab0d6b9d2ee1a6ee2a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a584c487151d92f8b5bdf8a6428b1a88b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a584c487151d92f8b5bdf8a6428b1a88b">trx_undo_empty_header_page</a> (ulint <a class="el" href="ibuf0ibuf_8cc.html#aae9e36bded84b28f880abb9a711c7d1e">space</a>, ulint <a class="el" href="row0merge_8cc.html#acbd6f0665ead771e112f93b23cf27faf">zip_size</a>, ulint hdr_page_no, ulint hdr_offset, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a584c487151d92f8b5bdf8a6428b1a88b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98bc9f5914dba7e8e9394de17441ac70"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a98bc9f5914dba7e8e9394de17441ac70">trx_undo_truncate_end_func</a> (<a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>, <a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a> <a class="el" href="ibuf0ibuf_8cc.html#a2dfd6b5310e6dd7028210bb6a8d13549">limit</a>)</td></tr>
<tr class="separator:a98bc9f5914dba7e8e9394de17441ac70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c96ff3ced71317156fc9cbfa0255054"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a9c96ff3ced71317156fc9cbfa0255054">trx_undo_truncate_start</a> (<a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *<a class="el" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#aae9e36bded84b28f880abb9a711c7d1e">space</a>, ulint hdr_page_no, ulint hdr_offset, <a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a> <a class="el" href="ibuf0ibuf_8cc.html#a2dfd6b5310e6dd7028210bb6a8d13549">limit</a>)</td></tr>
<tr class="separator:a9c96ff3ced71317156fc9cbfa0255054"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad378e4f25e0fcefc1c40d077b977697a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#ad378e4f25e0fcefc1c40d077b977697a">trx_undo_seg_free</a> (<a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>)</td></tr>
<tr class="separator:ad378e4f25e0fcefc1c40d077b977697a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a95d51646fd4941ab8a6657c5da1e26"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a4a95d51646fd4941ab8a6657c5da1e26">trx_undo_mem_create_at_db_start</a> (<a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *<a class="el" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>, ulint <a class="el" href="trx0undo_8cc.html#a42c94db63b554b8c7fa2a814f1f3dc8f">id</a>, ulint <a class="el" href="ibuf0ibuf_8cc.html#a4856a6e725a44f73f3d7a0201373c5b7">page_no</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a4a95d51646fd4941ab8a6657c5da1e26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5e2fe0371635fbb23dad87a258164a4"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#aa5e2fe0371635fbb23dad87a258164a4">trx_undo_lists_init</a> (<a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *<a class="el" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>)</td></tr>
<tr class="separator:aa5e2fe0371635fbb23dad87a258164a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77bacf3f2550986d341c6c63ae08b85d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a77bacf3f2550986d341c6c63ae08b85d">trx_undo_mem_init_for_reuse</a> (<a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>, <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> <a class="el" href="trx0undo_8cc.html#a31dc85e5157cc0055a93f38465fdef6b">trx_id</a>, const <a class="el" href="structxid__t.html">XID</a> *<a class="el" href="trx0undo_8cc.html#aace6852308ced45e03c16d9d8e54f773">xid</a>, ulint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>)</td></tr>
<tr class="separator:a77bacf3f2550986d341c6c63ae08b85d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9396f5324a5d20f407ab4f65f4d1a3b7"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a9396f5324a5d20f407ab4f65f4d1a3b7">trx_undo_mem_free</a> (<a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>)</td></tr>
<tr class="separator:a9396f5324a5d20f407ab4f65f4d1a3b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e07030f7581e2a116869fa4981134a3"><td class="memItemLeft" align="right" valign="top"><a id="a3e07030f7581e2a116869fa4981134a3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>-&gt;curr_size==<a class="el" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>-&gt;max_size)</td></tr>
<tr class="separator:a3e07030f7581e2a116869fa4981134a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0f74950f8f745a80180caf0ff2c1ee3"><td class="memItemLeft" align="right" valign="top"><a id="ad0f74950f8f745a80180caf0ff2c1ee3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="row0import_8cc.html#a52482fdd3721e7db69dc740aefee8ad4">err</a> !=DB_SUCCESS)</td></tr>
<tr class="separator:ad0f74950f8f745a80180caf0ff2c1ee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a348b440d45cf7b732746ca57cedf1217"><td class="memItemLeft" align="right" valign="top"><a id="a348b440d45cf7b732746ca57cedf1217"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>-&gt;support_xa)</td></tr>
<tr class="separator:a348b440d45cf7b732746ca57cedf1217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a673438195084e2012e530a7af632561c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a673438195084e2012e530a7af632561c">trx_undo_reuse_cached</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, <a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *<a class="el" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>, ulint <a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>, <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> <a class="el" href="trx0undo_8cc.html#a31dc85e5157cc0055a93f38465fdef6b">trx_id</a>, const <a class="el" href="structxid__t.html">XID</a> *<a class="el" href="trx0undo_8cc.html#aace6852308ced45e03c16d9d8e54f773">xid</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a673438195084e2012e530a7af632561c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac45b9f31d784634aa16dd920f76ceb1c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#ac45b9f31d784634aa16dd920f76ceb1c">trx_undo_mark_as_dict_operation</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, <a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:ac45b9f31d784634aa16dd920f76ceb1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3a35d6c6af9434a368e6c585ff3ce27"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#ae3a35d6c6af9434a368e6c585ff3ce27">trx_undo_assign_undo</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, ulint <a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>)</td></tr>
<tr class="separator:ae3a35d6c6af9434a368e6c585ff3ce27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0390b8ccd9623edba3655f4a8875e225"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a0390b8ccd9623edba3655f4a8875e225">trx_undo_set_state_at_finish</a> (<a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a0390b8ccd9623edba3655f4a8875e225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a731b5d0da0343f4f42d5b60ae0c8ca"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a3a731b5d0da0343f4f42d5b60ae0c8ca">trx_undo_set_state_at_prepare</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, <a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *<a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a3a731b5d0da0343f4f42d5b60ae0c8ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a204e5f56556f703e62e29c393f74e4e6"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a204e5f56556f703e62e29c393f74e4e6">trx_undo_update_cleanup</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>, <a class="el" href="structmtr__t.html">mtr_t</a> *<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a204e5f56556f703e62e29c393f74e4e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cf5458624c75a3b5d0aa246bf2fe3a0"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a5cf5458624c75a3b5d0aa246bf2fe3a0">trx_undo_insert_cleanup</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>)</td></tr>
<tr class="separator:a5cf5458624c75a3b5d0aa246bf2fe3a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49e6e1bc43c094a4f12ab4571438041"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#af49e6e1bc43c094a4f12ab4571438041">trx_undo_free_prepared</a> (<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>)</td></tr>
<tr class="separator:af49e6e1bc43c094a4f12ab4571438041"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aef22d110334efa52f164af30d337c7ef"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="trx0types_8h.html#a8bdb9d55e50652fb2ff0952e136d5aba">trx_rsegf_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#aef22d110334efa52f164af30d337c7ef">rseg_hdr</a></td></tr>
<tr class="separator:aef22d110334efa52f164af30d337c7ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6093ca66dd564a9c407d64ce43838c28"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="trx0types_8h.html#a8bdb9d55e50652fb2ff0952e136d5aba">trx_rsegf_t</a> ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a></td></tr>
<tr class="separator:a6093ca66dd564a9c407d64ce43838c28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42c94db63b554b8c7fa2a814f1f3dc8f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="trx0types_8h.html#a8bdb9d55e50652fb2ff0952e136d5aba">trx_rsegf_t</a> ulint ulint *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a42c94db63b554b8c7fa2a814f1f3dc8f">id</a> = slot_no</td></tr>
<tr class="separator:a42c94db63b554b8c7fa2a814f1f3dc8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab40556d40757c211cdec0f2f55e2d8f4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="trx0types_8h.html#a8bdb9d55e50652fb2ff0952e136d5aba">trx_rsegf_t</a> ulint ulint <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a> = buf_block_get_frame(<a class="el" href="row0merge_8cc.html#a93c46cf7240dc5a16f8137e7d34a5049">block</a>)</td></tr>
<tr class="separator:ab40556d40757c211cdec0f2f55e2d8f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9013d42949ecc21fdd8de523420df8ba"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="trx0types_8h.html#a8bdb9d55e50652fb2ff0952e136d5aba">trx_rsegf_t</a> ulint ulint <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> <a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a></td></tr>
<tr class="separator:a9013d42949ecc21fdd8de523420df8ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae9e36bded84b28f880abb9a711c7d1e"><td class="memItemLeft" align="right" valign="top"><a id="aae9e36bded84b28f880abb9a711c7d1e"></a>
ulint&#160;</td><td class="memItemRight" valign="bottom"><b>space</b> = <a class="el" href="page0page_8h.html#a4fc7ac2b94334e5c8aabf88a7717942a">page_get_space_id</a>(<a class="el" href="page0page_8h.html#a9b64db3dda067715cd72ffdceb7c2fe1">page_align</a>(<a class="el" href="trx0undo_8cc.html#aef22d110334efa52f164af30d337c7ef">rseg_hdr</a>))</td></tr>
<tr class="separator:aae9e36bded84b28f880abb9a711c7d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17afa58b2bc574dedcd1cc02e1fdf165"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>block</b></td></tr>
<tr class="separator:a17afa58b2bc574dedcd1cc02e1fdf165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7614d2f37a9ea08ce43c54008eb6a517"><td class="memItemLeft" align="right" valign="top"><a id="a7614d2f37a9ea08ce43c54008eb6a517"></a>
<a class="el" href="trx0types_8h.html#a48243b30e18edafa533b4273840ad668">trx_upagef_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>page_hdr</b> = *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a> + <a class="el" href="trx0undo_8h.html#ab91980ce604cd0800f205cb4b2508cc6">TRX_UNDO_PAGE_HDR</a></td></tr>
<tr class="separator:a7614d2f37a9ea08ce43c54008eb6a517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67ce7a7bd13d1419376148d303de8442"><td class="memItemLeft" align="right" valign="top"><a id="a67ce7a7bd13d1419376148d303de8442"></a>
<a class="el" href="trx0types_8h.html#a48f03c2f78d0f7ca9fa271dff3484e26">trx_usegf_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>seg_hdr</b> = *<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a> + <a class="el" href="trx0undo_8h.html#a7080a21a75110243d8b9c1a43c442085">TRX_UNDO_SEG_HDR</a></td></tr>
<tr class="separator:a67ce7a7bd13d1419376148d303de8442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf7384bb9c2402f6ea2148e6c213568f"><td class="memItemLeft" align="right" valign="top"><a id="abf7384bb9c2402f6ea2148e6c213568f"></a>
ulint&#160;</td><td class="memItemRight" valign="bottom"><b>n_reserved</b></td></tr>
<tr class="separator:abf7384bb9c2402f6ea2148e6c213568f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6ee8d13bf1e292b3c1660a66e846fa7"><td class="memItemLeft" align="right" valign="top">ibool&#160;</td><td class="memItemRight" valign="bottom"><b>success</b></td></tr>
<tr class="separator:ac6ee8d13bf1e292b3c1660a66e846fa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52482fdd3721e7db69dc740aefee8ad4"><td class="memItemLeft" align="right" valign="top"><a id="a52482fdd3721e7db69dc740aefee8ad4"></a>
<a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>err</b> = DB_SUCCESS</td></tr>
<tr class="separator:a52482fdd3721e7db69dc740aefee8ad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e3d1b4751f425fe6ed96d1148dbb7d8"><td class="memItemLeft" align="right" valign="top"><a id="a3e3d1b4751f425fe6ed96d1148dbb7d8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>slot_no</b> = <a class="el" href="trx0rseg_8h.html#a4943136727aee261281d17cf8ac74f8a">trx_rsegf_undo_find_free</a>(<a class="el" href="trx0undo_8cc.html#aef22d110334efa52f164af30d337c7ef">rseg_hdr</a>, <a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a3e3d1b4751f425fe6ed96d1148dbb7d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a408337eae997db8afa7e03c1bd6804c7"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a></td></tr>
<tr class="separator:a408337eae997db8afa7e03c1bd6804c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31dc85e5157cc0055a93f38465fdef6b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> ulint <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a31dc85e5157cc0055a93f38465fdef6b">trx_id</a></td></tr>
<tr class="separator:a31dc85e5157cc0055a93f38465fdef6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace6852308ced45e03c16d9d8e54f773"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> ulint <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> const <a class="el" href="structxid__t.html">XID</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#aace6852308ced45e03c16d9d8e54f773">xid</a></td></tr>
<tr class="separator:aace6852308ced45e03c16d9d8e54f773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a532b14c0c1ea32ce4a61aef488490807"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> ulint <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> const <a class="el" href="structxid__t.html">XID</a> <a class="el" href="structtrx__undo__t.html">trx_undo_t</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trx0undo_8cc.html#a532b14c0c1ea32ce4a61aef488490807">undo</a></td></tr>
<tr class="separator:a532b14c0c1ea32ce4a61aef488490807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab14e86873f8d034759194bb1c17e1a8d"><td class="memItemLeft" align="right" valign="top"><a id="ab14e86873f8d034759194bb1c17e1a8d"></a>
ulint&#160;</td><td class="memItemRight" valign="bottom"><b>page_no</b> = <a class="el" href="page0page_8h.html#aea6457c8148f558ae18e6d6055bf7dcf">page_get_page_no</a>(<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>)</td></tr>
<tr class="separator:ab14e86873f8d034759194bb1c17e1a8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a229a4786deeddd59c6091247a8c8a6"><td class="memItemLeft" align="right" valign="top"><a id="a7a229a4786deeddd59c6091247a8c8a6"></a>
ulint&#160;</td><td class="memItemRight" valign="bottom"><b>offset</b> = <a class="el" href="trx0undo_8cc.html#ab21398dc1c499c77f45298d4c4a29ff6">trx_undo_header_create</a>(<a class="el" href="trx0undo_8cc.html#ab40556d40757c211cdec0f2f55e2d8f4">undo_page</a>, <a class="el" href="trx0undo_8cc.html#a31dc85e5157cc0055a93f38465fdef6b">trx_id</a>, <a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a7a229a4786deeddd59c6091247a8c8a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af43ba02ab40a3dc53bd0215fdbe9708f"><td class="memItemLeft" align="right" valign="top"><a id="af43ba02ab40a3dc53bd0215fdbe9708f"></a>
<a class="el" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>&#160;</td><td class="memItemRight" valign="bottom"><b>curr_size</b></td></tr>
<tr class="separator:af43ba02ab40a3dc53bd0215fdbe9708f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16a08bd0698be5e681d680c444bf5b26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><b>rseg_header</b></td></tr>
<tr class="separator:a16a08bd0698be5e681d680c444bf5b26"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Transaction undo log</p>
<p>Created 3/26/1996 Heikki Tuuri </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa965850120c0683c58e8c762cdc0fb17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa965850120c0683c58e8c762cdc0fb17">&#9670;&nbsp;</a></span>__attribute__()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(nonnull, warn_unused_result)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a new undo log segment in file. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS if page creation OK possible error codes are: DB_TOO_MANY_CONCURRENT_TRXS DB_OUT_OF_FILE_SPACE</dd></dl>
<p>Creates a new undo log. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS if successful in creating the new undo lob object, possible error codes are: DB_TOO_MANY_CONCURRENT_TRXS DB_OUT_OF_FILE_SPACE DB_OUT_OF_MEMORY </dd></dl>

</div>
</div>
<a id="a7146ef30769f35b6d8be1e473166d845"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7146ef30769f35b6d8be1e473166d845">&#9670;&nbsp;</a></span>trx_undo_add_page()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structbuf__block__t.html">buf_block_t</a>* trx_undo_add_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tries to add a page to the undo log segment where the undo log is placed. </p><dl class="section return"><dt>Returns</dt><dd>X-latched block if success, else NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">undo</td><td>in: undo log memory object </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr which does not have a latch to any undo log page; the caller must have reserved the rollback segment mutex </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae3a35d6c6af9434a368e6c585ff3ce27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3a35d6c6af9434a368e6c585ff3ce27">&#9670;&nbsp;</a></span>trx_undo_assign_undo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> trx_undo_assign_undo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assigns an undo log for a transaction. A new undo log is created or a cached undo log reused. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS if undo log assign successful, possible error codes are: DB_TOO_MANY_CONCURRENT_TRXS DB_OUT_OF_FILE_SPACE DB_READ_ONLY DB_OUT_OF_MEMORY </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">type</td><td>in: TRX_UNDO_INSERT or TRX_UNDO_UPDATE </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a803b313ab601fda883a663d526a7411d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a803b313ab601fda883a663d526a7411d">&#9670;&nbsp;</a></span>trx_undo_discard_latest_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void trx_undo_discard_latest_log </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>undo_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes the redo log entry of an update undo log header discard. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo_page</td><td>in: undo log header page </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a43e5dab3d57b37ab71254c1e9275b579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43e5dab3d57b37ab71254c1e9275b579">&#9670;&nbsp;</a></span>trx_undo_discard_latest_update_undo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trx_undo_discard_latest_update_undo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>undo_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If an update undo log can be discarded immediately, this function frees the space, resetting the page to the proper state for caching. in: mtr</p>
<p>If an update undo log can be discarded immediately, this function frees the space, resetting the page to the proper state for caching. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo_page</td><td>in: header page of an undo log of size 1 </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a584c487151d92f8b5bdf8a6428b1a88b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a584c487151d92f8b5bdf8a6428b1a88b">&#9670;&nbsp;</a></span>trx_undo_empty_header_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trx_undo_empty_header_page </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>zip_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>hdr_page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>hdr_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Empties an undo log header page of undo records for that undo log. Other undo logs may still have records on that page, if it is an update undo log. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">space</td><td>in: space </td></tr>
    <tr><td class="paramname">zip_size</td><td>in: compressed page size in bytes or 0 for uncompressed pages </td></tr>
    <tr><td class="paramname">hdr_page_no</td><td>in: header page number </td></tr>
    <tr><td class="paramname">hdr_offset</td><td>in: header offset </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a85cfbba47f31dab0d6b9d2ee1a6ee2a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85cfbba47f31dab0d6b9d2ee1a6ee2a5">&#9670;&nbsp;</a></span>trx_undo_free_last_page_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_free_last_page_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the last undo log page. The caller must hold the rollback segment mutex. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo</td><td>in/out: undo log memory copy </td></tr>
    <tr><td class="paramname">mtr</td><td>in/out: mini-transaction which does not have a latch to any undo log page or which has allocated the undo log page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a199c0c0ff46b54238a09916cb3d42280"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a199c0c0ff46b54238a09916cb3d42280">&#9670;&nbsp;</a></span>trx_undo_free_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ulint trx_undo_free_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *&#160;</td>
          <td class="paramname"><em>rseg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ibool&#160;</td>
          <td class="paramname"><em>in_history</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>hdr_page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Frees an undo log page that is not the header page. </p><dl class="section return"><dt>Returns</dt><dd>last page number in remaining log </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rseg</td><td>in: rollback segment </td></tr>
    <tr><td class="paramname">in_history</td><td>in: TRUE if the undo log is in the history list </td></tr>
    <tr><td class="paramname">space</td><td>in: space </td></tr>
    <tr><td class="paramname">hdr_page_no</td><td>in: header page number </td></tr>
    <tr><td class="paramname">page_no</td><td>in: page number to free: must not be the header page </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr which does not have a latch to any undo log page; the caller must have reserved the rollback segment mutex </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af49e6e1bc43c094a4f12ab4571438041"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af49e6e1bc43c094a4f12ab4571438041">&#9670;&nbsp;</a></span>trx_undo_free_prepared()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_free_prepared </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>At shutdown, frees the undo logs of a PREPARED transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in/out: PREPARED transaction </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1c5381a831e5dbb1b304098975be23bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c5381a831e5dbb1b304098975be23bd">&#9670;&nbsp;</a></span>trx_undo_get_first_rec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a>* trx_undo_get_first_rec </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>zip_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the first record in an undo log. </p><dl class="section return"><dt>Returns</dt><dd>undo log record, the page latched, NULL if none </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">space</td><td>in: undo log header space </td></tr>
    <tr><td class="paramname">zip_size</td><td>in: compressed page size in bytes or 0 for uncompressed pages </td></tr>
    <tr><td class="paramname">page_no</td><td>in: undo log header page number </td></tr>
    <tr><td class="paramname">offset</td><td>in: undo log header offset on page </td></tr>
    <tr><td class="paramname">mode</td><td>in: latching mode: RW_S_LATCH or RW_X_LATCH </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6843a910c265943c2f5a0c050d7ea0e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6843a910c265943c2f5a0c050d7ea0e1">&#9670;&nbsp;</a></span>trx_undo_get_next_rec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a>* trx_undo_get_next_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the next record in an undo log. </p><dl class="section return"><dt>Returns</dt><dd>undo log record, the page s-latched, NULL if none </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rec</td><td>in: undo record </td></tr>
    <tr><td class="paramname">page_no</td><td>in: undo log header page number </td></tr>
    <tr><td class="paramname">offset</td><td>in: undo log header offset on page </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae4177ac2fd64eeb477c9222aa1c6b266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4177ac2fd64eeb477c9222aa1c6b266">&#9670;&nbsp;</a></span>trx_undo_get_next_rec_from_next_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a>* trx_undo_get_next_rec_from_next_page </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>zip_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>undo_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the next record in an undo log from the next page. </p><dl class="section return"><dt>Returns</dt><dd>undo log record, the page latched, NULL if none </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">space</td><td>in: undo log header space </td></tr>
    <tr><td class="paramname">zip_size</td><td>in: compressed page size in bytes or 0 for uncompressed pages </td></tr>
    <tr><td class="paramname">undo_page</td><td>in: undo log page </td></tr>
    <tr><td class="paramname">page_no</td><td>in: undo log header page number </td></tr>
    <tr><td class="paramname">offset</td><td>in: undo log header offset on page </td></tr>
    <tr><td class="paramname">mode</td><td>in: latch mode: RW_S_LATCH or RW_X_LATCH </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a401e2a2547a1e86a57165fabba15ced7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a401e2a2547a1e86a57165fabba15ced7">&#9670;&nbsp;</a></span>trx_undo_get_prev_rec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a>* trx_undo_get_prev_rec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>shared</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the previous record in an undo log. </p><dl class="section return"><dt>Returns</dt><dd>undo log record, the page s-latched, NULL if none </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rec</td><td>in: undo record </td></tr>
    <tr><td class="paramname">page_no</td><td>in: undo log header page number </td></tr>
    <tr><td class="paramname">offset</td><td>in: undo log header offset on page </td></tr>
    <tr><td class="paramname">shared</td><td>in: true=S-latch, false=X-latch </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6f4f9b2cc9738ff77b46fa58366e910b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f4f9b2cc9738ff77b46fa58366e910b">&#9670;&nbsp;</a></span>trx_undo_get_prev_rec_from_prev_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a>* trx_undo_get_prev_rec_from_prev_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a0b302ec5d015d6388eb98277b58048c7">trx_undo_rec_t</a> *&#160;</td>
          <td class="paramname"><em>rec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>shared</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the previous record in an undo log from the previous page. </p><dl class="section return"><dt>Returns</dt><dd>undo log record, the page s-latched, NULL if none </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rec</td><td>in: undo record </td></tr>
    <tr><td class="paramname">page_no</td><td>in: undo log header page number </td></tr>
    <tr><td class="paramname">offset</td><td>in: undo log header offset on page </td></tr>
    <tr><td class="paramname">shared</td><td>in: true=S-latch, false=X-latch </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8b0a895c348a32ee0a2542b7e590d04c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b0a895c348a32ee0a2542b7e590d04c">&#9670;&nbsp;</a></span>trx_undo_header_add_space_for_xid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trx_undo_header_add_space_for_xid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>undo_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a64150d81cbf5eba60e4a902c2c8d7a1a">trx_ulogf_t</a> *&#160;</td>
          <td class="paramname"><em>log_hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds space for the XA XID after an undo log old-style header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo_page</td><td>in: undo log segment header page </td></tr>
    <tr><td class="paramname">log_hdr</td><td>in: undo log header </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab21398dc1c499c77f45298d4c4a29ff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab21398dc1c499c77f45298d4c4a29ff6">&#9670;&nbsp;</a></span>trx_undo_header_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ulint trx_undo_header_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>undo_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td>
          <td class="paramname"><em>trx_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a new undo log header in file. NOTE that this function has its own log record type MLOG_UNDO_HDR_CREATE. You must NOT change the operation of this function! </p><dl class="section return"><dt>Returns</dt><dd>header byte offset on page </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo_page</td><td>in/out: undo log segment header page, x-latched; it is assumed that there is TRX_UNDO_LOG_XA_HDR_SIZE bytes free space on it </td></tr>
    <tr><td class="paramname">trx_id</td><td>in: transaction id </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a77aa0539d6218b711b36299ed0b20ba5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77aa0539d6218b711b36299ed0b20ba5">&#9670;&nbsp;</a></span>trx_undo_header_create_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void trx_undo_header_create_log </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>undo_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td>
          <td class="paramname"><em>trx_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes the mtr log entry of an undo log header initialization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo_page</td><td>in: undo log header page </td></tr>
    <tr><td class="paramname">trx_id</td><td>in: transaction id </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5cf5458624c75a3b5d0aa246bf2fe3a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cf5458624c75a3b5d0aa246bf2fe3a0">&#9670;&nbsp;</a></span>trx_undo_insert_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_insert_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees or caches an insert undo log after a transaction commit or rollback. Knowledge of inserts is not needed after a commit or rollback, therefore the data can be discarded. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aca8f72b00bd0e6adfa7c0c05e8a379c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca8f72b00bd0e6adfa7c0c05e8a379c7">&#9670;&nbsp;</a></span>trx_undo_insert_header_reuse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ulint trx_undo_insert_header_reuse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>undo_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td>
          <td class="paramname"><em>trx_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initializes a cached insert undo log header page for new use. NOTE that this function has its own log record type MLOG_UNDO_HDR_REUSE. You must NOT change the operation of this function! </p><dl class="section return"><dt>Returns</dt><dd>undo log header byte offset on page in: mtr</dd></dl>
<p>Initializes a cached insert undo log header page for new use. NOTE that this function has its own log record type MLOG_UNDO_HDR_REUSE. You must NOT change the operation of this function! </p><dl class="section return"><dt>Returns</dt><dd>undo log header byte offset on page </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo_page</td><td>in/out: insert undo log segment header page, x-latched </td></tr>
    <tr><td class="paramname">trx_id</td><td>in: transaction id </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac76ea0ce06e4a3a6327d7a1dadc9c50f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac76ea0ce06e4a3a6327d7a1dadc9c50f">&#9670;&nbsp;</a></span>trx_undo_insert_header_reuse_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void trx_undo_insert_header_reuse_log </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>undo_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td>
          <td class="paramname"><em>trx_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes the mtr log entry of an undo log header reuse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo_page</td><td>in: undo log header page </td></tr>
    <tr><td class="paramname">trx_id</td><td>in: transaction id </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa5e2fe0371635fbb23dad87a258164a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5e2fe0371635fbb23dad87a258164a4">&#9670;&nbsp;</a></span>trx_undo_lists_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN ulint trx_undo_lists_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *&#160;</td>
          <td class="paramname"><em>rseg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the undo log lists for a rollback segment memory copy. This function is only called when the database is started or a new rollback segment is created. </p><dl class="section return"><dt>Returns</dt><dd>the combined size of undo log segments in pages </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rseg</td><td>in: rollback segment memory object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac45b9f31d784634aa16dd920f76ceb1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac45b9f31d784634aa16dd920f76ceb1c">&#9670;&nbsp;</a></span>trx_undo_mark_as_dict_operation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trx_undo_mark_as_dict_operation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Marks an undo log header as a header of a data dictionary operation transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: dict op transaction </td></tr>
    <tr><td class="paramname">undo</td><td>in: assigned undo log </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad9c25a033890ab6bdeb816377c67f7e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9c25a033890ab6bdeb816377c67f7e1">&#9670;&nbsp;</a></span>trx_undo_mem_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structtrx__undo__t.html">trx_undo_t</a> * trx_undo_mem_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *&#160;</td>
          <td class="paramname"><em>rseg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td>
          <td class="paramname"><em>trx_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structxid__t.html">XID</a> *&#160;</td>
          <td class="paramname"><em>xid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates and initializes an undo log memory object. </p><dl class="section return"><dt>Returns</dt><dd>own: the undo log memory object in: undo log header byte offset on page</dd></dl>
<p>Creates and initializes an undo log memory object. </p><dl class="section return"><dt>Returns</dt><dd>own: the undo log memory object </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rseg</td><td>in: rollback segment memory object </td></tr>
    <tr><td class="paramname">id</td><td>in: slot index within rseg </td></tr>
    <tr><td class="paramname">type</td><td>in: type of the log: TRX_UNDO_INSERT or TRX_UNDO_UPDATE </td></tr>
    <tr><td class="paramname">trx_id</td><td>in: id of the trx for which the undo log is created </td></tr>
    <tr><td class="paramname">xid</td><td>in: X/Open XA transaction identification </td></tr>
    <tr><td class="paramname">page_no</td><td>in: undo log header page number </td></tr>
    <tr><td class="paramname">offset</td><td>in: undo log header byte offset on page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4a95d51646fd4941ab8a6657c5da1e26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a95d51646fd4941ab8a6657c5da1e26">&#9670;&nbsp;</a></span>trx_undo_mem_create_at_db_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structtrx__undo__t.html">trx_undo_t</a>* trx_undo_mem_create_at_db_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *&#160;</td>
          <td class="paramname"><em>rseg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates and initializes an undo log memory object according to the values in the header in file, when the database is started. The memory object is inserted in the appropriate list of rseg. </p><dl class="section return"><dt>Returns</dt><dd>own: the undo log memory object </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rseg</td><td>in: rollback segment memory object </td></tr>
    <tr><td class="paramname">id</td><td>in: slot index within rseg </td></tr>
    <tr><td class="paramname">page_no</td><td>in: undo log segment page number </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9396f5324a5d20f407ab4f65f4d1a3b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9396f5324a5d20f407ab4f65f4d1a3b7">&#9670;&nbsp;</a></span>trx_undo_mem_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_mem_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td>
          <td class="paramname"><em>undo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees an undo log memory copy. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo</td><td>in: the undo object to be freed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a77bacf3f2550986d341c6c63ae08b85d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77bacf3f2550986d341c6c63ae08b85d">&#9670;&nbsp;</a></span>trx_undo_mem_init_for_reuse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trx_undo_mem_init_for_reuse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td>
          <td class="paramname"><em>trx_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structxid__t.html">XID</a> *&#160;</td>
          <td class="paramname"><em>xid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initializes a cached undo log object for new use. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo</td><td>in: undo log to init </td></tr>
    <tr><td class="paramname">trx_id</td><td>in: id of the trx for which the undo log is created </td></tr>
    <tr><td class="paramname">xid</td><td>in: X/Open XA transaction identification </td></tr>
    <tr><td class="paramname">offset</td><td>in: undo log header byte offset on page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4aae2819a4ffcdcb6c3a088f61b24260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4aae2819a4ffcdcb6c3a088f61b24260">&#9670;&nbsp;</a></span>trx_undo_page_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trx_undo_page_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>undo_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initializes the fields in an undo log segment page. in: mtr</p>
<p>Initializes the fields in an undo log segment page. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo_page</td><td>in: undo log segment page </td></tr>
    <tr><td class="paramname">type</td><td>in: undo log segment type </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4a521acd9b10ee576aab76dcd9d361ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a521acd9b10ee576aab76dcd9d361ae">&#9670;&nbsp;</a></span>trx_undo_page_init_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void trx_undo_page_init_log </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>undo_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes the mtr log entry of an undo log page initialization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo_page</td><td>in: undo log page </td></tr>
    <tr><td class="paramname">type</td><td>in: undo log type </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a39e182640aa84c4de1e877cc7d622e7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39e182640aa84c4de1e877cc7d622e7c">&#9670;&nbsp;</a></span>trx_undo_parse_discard_latest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN byte* trx_undo_parse_discard_latest </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *end_ptr &#160;</td>
          <td class="paramname"><em>__attribute__</em>(unused), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parses the redo log entry of an undo log page header discard. </p><dl class="section return"><dt>Returns</dt><dd>end of log record or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: buffer </td></tr>
    <tr><td class="paramname">__attribute__</td><td>in: buffer end </td></tr>
    <tr><td class="paramname">page</td><td>in: page or NULL </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr or NULL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad84a0a4d5fcac22c5ab826ebabcf625c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad84a0a4d5fcac22c5ab826ebabcf625c">&#9670;&nbsp;</a></span>trx_undo_parse_page_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN byte* trx_undo_parse_page_header </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parses the redo log entry of an undo log page header create or reuse. </p><dl class="section return"><dt>Returns</dt><dd>end of log record or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>in: MLOG_UNDO_HDR_CREATE or MLOG_UNDO_HDR_REUSE </td></tr>
    <tr><td class="paramname">ptr</td><td>in: buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: buffer end </td></tr>
    <tr><td class="paramname">page</td><td>in: page or NULL </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr or NULL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aac375f4379a6069f3f8f2ef03e93cbdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac375f4379a6069f3f8f2ef03e93cbdd">&#9670;&nbsp;</a></span>trx_undo_parse_page_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN byte* trx_undo_parse_page_init </td>
          <td>(</td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte *&#160;</td>
          <td class="paramname"><em>end_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parses the redo log entry of an undo log page initialization. </p><dl class="section return"><dt>Returns</dt><dd>end of log record or NULL </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>in: buffer </td></tr>
    <tr><td class="paramname">end_ptr</td><td>in: buffer end </td></tr>
    <tr><td class="paramname">page</td><td>in: page or NULL </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr or NULL </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7569fd2fabd2f3a13f11ba4e4b27f3bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7569fd2fabd2f3a13f11ba4e4b27f3bb">&#9670;&nbsp;</a></span>trx_undo_read_xid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trx_undo_read_xid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a64150d81cbf5eba60e4a902c2c8d7a1a">trx_ulogf_t</a> *&#160;</td>
          <td class="paramname"><em>log_hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structxid__t.html">XID</a> *&#160;</td>
          <td class="paramname"><em>xid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read X/Open XA Transaction Identification (XID) from undo log header </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_hdr</td><td>in: undo log header </td></tr>
    <tr><td class="paramname">xid</td><td>out: X/Open XA Transaction Identification </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a673438195084e2012e530a7af632561c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a673438195084e2012e530a7af632561c">&#9670;&nbsp;</a></span>trx_undo_reuse_cached()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structtrx__undo__t.html">trx_undo_t</a>* trx_undo_reuse_cached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *&#160;</td>
          <td class="paramname"><em>rseg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td>
          <td class="paramname"><em>trx_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structxid__t.html">XID</a> *&#160;</td>
          <td class="paramname"><em>xid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reuses a cached undo log. </p><dl class="section return"><dt>Returns</dt><dd>the undo log memory object, NULL if none cached </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">rseg</td><td>in: rollback segment memory object </td></tr>
    <tr><td class="paramname">type</td><td>in: type of the log: TRX_UNDO_INSERT or TRX_UNDO_UPDATE </td></tr>
    <tr><td class="paramname">trx_id</td><td>in: id of the trx for which the undo log is used </td></tr>
    <tr><td class="paramname">xid</td><td>in: X/Open XA transaction identification </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad378e4f25e0fcefc1c40d077b977697a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad378e4f25e0fcefc1c40d077b977697a">&#9670;&nbsp;</a></span>trx_undo_seg_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trx_undo_seg_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td>
          <td class="paramname"><em>undo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Frees an undo log segment which is not in the history list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo</td><td>in: undo log </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0390b8ccd9623edba3655f4a8875e225"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0390b8ccd9623edba3655f4a8875e225">&#9670;&nbsp;</a></span>trx_undo_set_state_at_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a>* trx_undo_set_state_at_finish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the state of the undo log segment at a transaction finish. </p><dl class="section return"><dt>Returns</dt><dd>undo log segment header page, x-latched </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo</td><td>in: undo log memory copy </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3a731b5d0da0343f4f42d5b60ae0c8ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a731b5d0da0343f4f42d5b60ae0c8ca">&#9670;&nbsp;</a></span>trx_undo_set_state_at_prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a>* trx_undo_set_state_at_prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the state of the undo log segment at a transaction prepare. </p><dl class="section return"><dt>Returns</dt><dd>undo log segment header page, x-latched </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: transaction </td></tr>
    <tr><td class="paramname">undo</td><td>in: undo log memory copy </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a98bc9f5914dba7e8e9394de17441ac70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98bc9f5914dba7e8e9394de17441ac70">&#9670;&nbsp;</a></span>trx_undo_truncate_end_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_truncate_end_func </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__undo__t.html">trx_undo_t</a> *&#160;</td>
          <td class="paramname"><em>undo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a>&#160;</td>
          <td class="paramname"><em>limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Truncates an undo log from the end. This function is used during a rollback to free space from an undo log. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">undo</td><td>in: undo log </td></tr>
    <tr><td class="paramname">limit</td><td>in: all undo records with undo number &gt;= this value should be truncated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9c96ff3ced71317156fc9cbfa0255054"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c96ff3ced71317156fc9cbfa0255054">&#9670;&nbsp;</a></span>trx_undo_truncate_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_truncate_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> *&#160;</td>
          <td class="paramname"><em>rseg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>space</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>hdr_page_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>hdr_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a>&#160;</td>
          <td class="paramname"><em>limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Truncates an undo log from the start. This function is used during a purge operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rseg</td><td>in: rollback segment </td></tr>
    <tr><td class="paramname">space</td><td>in: space id of the log </td></tr>
    <tr><td class="paramname">hdr_page_no</td><td>in: header page number </td></tr>
    <tr><td class="paramname">hdr_offset</td><td>in: header offset on the page </td></tr>
    <tr><td class="paramname">limit</td><td>in: all undo pages with undo numbers &lt; this value should be truncated; NOTE that the function only frees whole pages; the header page is not freed, but emptied, if all the records there are &lt; limit </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a204e5f56556f703e62e29c393f74e4e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a204e5f56556f703e62e29c393f74e4e6">&#9670;&nbsp;</a></span>trx_undo_update_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void trx_undo_update_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> *&#160;</td>
          <td class="paramname"><em>undo_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds the update undo log header as the first in the history list, and frees the memory object, or puts it to the list of cached update undo log segments. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trx</td><td>in: trx owning the update undo log </td></tr>
    <tr><td class="paramname">undo_page</td><td>in: update undo log header page, x-latched </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae6ad661441731b0587c80be4f9382676"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6ad661441731b0587c80be4f9382676">&#9670;&nbsp;</a></span>trx_undo_write_xid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void trx_undo_write_xid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="trx0types_8h.html#a64150d81cbf5eba60e4a902c2c8d7a1a">trx_ulogf_t</a> *&#160;</td>
          <td class="paramname"><em>log_hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structxid__t.html">XID</a> *&#160;</td>
          <td class="paramname"><em>xid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td>
          <td class="paramname"><em>mtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Write X/Open XA Transaction Identification (XID) to undo log header </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_hdr</td><td>in: undo log header </td></tr>
    <tr><td class="paramname">xid</td><td>in: X/Open XA Transaction Identification </td></tr>
    <tr><td class="paramname">mtr</td><td>in: mtr </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a17afa58b2bc574dedcd1cc02e1fdf165"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17afa58b2bc574dedcd1cc02e1fdf165">&#9670;&nbsp;</a></span>block</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">block</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="fsp0fsp_8cc.html#ae124cb538384c65a08e6c70b01652f29">fseg_create_general</a>(space, 0,</div><div class="line">                                    <a class="code" href="trx0undo_8h.html#a7080a21a75110243d8b9c1a43c442085">TRX_UNDO_SEG_HDR</a></div><div class="line">                                    + <a class="code" href="trx0undo_8h.html#aef35459c9c8dc977e3f7cc1091ccc6a6">TRX_UNDO_FSEG_HEADER</a>, TRUE, <a class="code" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</div><div class="ttc" id="trx0undo_8h_html_aef35459c9c8dc977e3f7cc1091ccc6a6"><div class="ttname"><a href="trx0undo_8h.html#aef35459c9c8dc977e3f7cc1091ccc6a6">TRX_UNDO_FSEG_HEADER</a></div><div class="ttdeci">#define TRX_UNDO_FSEG_HEADER</div><div class="ttdef"><b>Definition:</b> trx0undo.h:534</div></div>
<div class="ttc" id="trx0undo_8h_html_a7080a21a75110243d8b9c1a43c442085"><div class="ttname"><a href="trx0undo_8h.html#a7080a21a75110243d8b9c1a43c442085">TRX_UNDO_SEG_HDR</a></div><div class="ttdeci">#define TRX_UNDO_SEG_HDR</div><div class="ttdef"><b>Definition:</b> trx0undo.h:524</div></div>
<div class="ttc" id="fsp0fsp_8cc_html_ae124cb538384c65a08e6c70b01652f29"><div class="ttname"><a href="fsp0fsp_8cc.html#ae124cb538384c65a08e6c70b01652f29">fseg_create_general</a></div><div class="ttdeci">UNIV_INTERN buf_block_t * fseg_create_general(ulint space, ulint page, ulint byte_offset, ibool has_done_reservation, mtr_t *mtr)</div><div class="ttdef"><b>Definition:</b> fsp0fsp.cc:1978</div></div>
<div class="ttc" id="trx0undo_8cc_html_a9013d42949ecc21fdd8de523420df8ba"><div class="ttname"><a href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a></div><div class="ttdeci">static trx_rsegf_t ulint ulint page_t mtr_t * mtr</div><div class="ttdef"><b>Definition:</b> trx0undo.cc:436</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42c94db63b554b8c7fa2a814f1f3dc8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42c94db63b554b8c7fa2a814f1f3dc8f">&#9670;&nbsp;</a></span>id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint id = slot_no</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>out: slot index within rseg header </p>

</div>
</div>
<a id="a9013d42949ecc21fdd8de523420df8ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9013d42949ecc21fdd8de523420df8ba">&#9670;&nbsp;</a></span>mtr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> ulint <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> const <a class="el" href="structxid__t.html">XID</a> <a class="el" href="structtrx__undo__t.html">trx_undo_t</a> <a class="el" href="structmtr__t.html">mtr_t</a>* mtr</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">        ulint           slot_no</div></div><!-- fragment --><p>&lt; in: mtr </p>

</div>
</div>
<a id="a408337eae997db8afa7e03c1bd6804c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a408337eae997db8afa7e03c1bd6804c7">&#9670;&nbsp;</a></span>rseg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a>* rseg</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; in: transaction in: rollback segment memory copy </p>

</div>
</div>
<a id="aef22d110334efa52f164af30d337c7ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef22d110334efa52f164af30d337c7ef">&#9670;&nbsp;</a></span>rseg_hdr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="trx0types_8h.html#a8bdb9d55e50652fb2ff0952e136d5aba">trx_rsegf_t</a>* rseg_hdr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; in: rollback segment in: rollback segment header, page x-latched </p>

</div>
</div>
<a id="a16a08bd0698be5e681d680c444bf5b26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16a08bd0698be5e681d680c444bf5b26">&#9670;&nbsp;</a></span>rseg_header</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rseg_header</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="trx0rseg_8h.html#a3f099f714a3c7c816c0de151db043efb">trx_rsegf_get</a>(<a class="code" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>-&gt;<a class="code" href="structtrx__rseg__t.html#a68e66e40e589afbc6b7b3aefa0ac3bc8">space</a>, <a class="code" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>-&gt;zip_size, <a class="code" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>-&gt;page_no,</div><div class="line">                                    <a class="code" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</div><div class="ttc" id="trx0rseg_8h_html_a3f099f714a3c7c816c0de151db043efb"><div class="ttname"><a href="trx0rseg_8h.html#a3f099f714a3c7c816c0de151db043efb">trx_rsegf_get</a></div><div class="ttdeci">UNIV_INLINE trx_rsegf_t * trx_rsegf_get(ulint space, ulint zip_size, ulint page_no, mtr_t *mtr)</div></div>
<div class="ttc" id="trx0undo_8cc_html_a408337eae997db8afa7e03c1bd6804c7"><div class="ttname"><a href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a></div><div class="ttdeci">static trx_rseg_t * rseg</div><div class="ttdef"><b>Definition:</b> trx0undo.cc:1565</div></div>
<div class="ttc" id="trx0undo_8cc_html_a9013d42949ecc21fdd8de523420df8ba"><div class="ttname"><a href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a></div><div class="ttdeci">static trx_rsegf_t ulint ulint page_t mtr_t * mtr</div><div class="ttdef"><b>Definition:</b> trx0undo.cc:436</div></div>
<div class="ttc" id="structtrx__rseg__t_html_a68e66e40e589afbc6b7b3aefa0ac3bc8"><div class="ttname"><a href="structtrx__rseg__t.html#a68e66e40e589afbc6b7b3aefa0ac3bc8">trx_rseg_t::space</a></div><div class="ttdeci">ulint space</div><div class="ttdef"><b>Definition:</b> trx0rseg.h:160</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6ee8d13bf1e292b3c1660a66e846fa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6ee8d13bf1e292b3c1660a66e846fa7">&#9670;&nbsp;</a></span>success</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">success</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="fsp0fsp_8cc.html#afa63afa1be039f1f5eccd2f2f1a7648c">fsp_reserve_free_extents</a>(&amp;n_reserved, space, 2, FSP_UNDO,</div><div class="line">                                           <a class="code" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</div><div class="ttc" id="fsp0fsp_8cc_html_afa63afa1be039f1f5eccd2f2f1a7648c"><div class="ttname"><a href="fsp0fsp_8cc.html#afa63afa1be039f1f5eccd2f2f1a7648c">fsp_reserve_free_extents</a></div><div class="ttdeci">UNIV_INTERN ibool fsp_reserve_free_extents(ulint *n_reserved, ulint space, ulint n_ext, ulint alloc_type, mtr_t *mtr)</div><div class="ttdef"><b>Definition:</b> fsp0fsp.cc:2696</div></div>
<div class="ttc" id="trx0undo_8cc_html_a9013d42949ecc21fdd8de523420df8ba"><div class="ttname"><a href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a></div><div class="ttdeci">static trx_rsegf_t ulint ulint page_t mtr_t * mtr</div><div class="ttdef"><b>Definition:</b> trx0undo.cc:436</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a31dc85e5157cc0055a93f38465fdef6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31dc85e5157cc0055a93f38465fdef6b">&#9670;&nbsp;</a></span>trx_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> ulint <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> trx_id</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>in: id of the trx for which the undo log is created </p>

</div>
</div>
<a id="a6093ca66dd564a9c407d64ce43838c28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6093ca66dd564a9c407d64ce43838c28">&#9670;&nbsp;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> ulint type</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>in: type of the segment: TRX_UNDO_INSERT or TRX_UNDO_UPDATE</p>
<p>in: type of the log: TRX_UNDO_INSERT or TRX_UNDO_UPDATE </p>

</div>
</div>
<a id="a532b14c0c1ea32ce4a61aef488490807"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a532b14c0c1ea32ce4a61aef488490807">&#9670;&nbsp;</a></span>undo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if undo</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="trx0undo_8cc.html#ad9c25a033890ab6bdeb816377c67f7e1">trx_undo_mem_create</a>(<a class="code" href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a>, <span class="keywordtype">id</span>, <a class="code" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>, <a class="code" href="trx0undo_8cc.html#a31dc85e5157cc0055a93f38465fdef6b">trx_id</a>, <a class="code" href="trx0undo_8cc.html#aace6852308ced45e03c16d9d8e54f773">xid</a>,</div><div class="line">                                   page_no, offset)</div><div class="ttc" id="trx0undo_8cc_html_ad9c25a033890ab6bdeb816377c67f7e1"><div class="ttname"><a href="trx0undo_8cc.html#ad9c25a033890ab6bdeb816377c67f7e1">trx_undo_mem_create</a></div><div class="ttdeci">static trx_undo_t * trx_undo_mem_create(trx_rseg_t *rseg, ulint id, ulint type, trx_id_t trx_id, const XID *xid, ulint page_no, ulint offset)</div><div class="ttdef"><b>Definition:</b> trx0undo.cc:1451</div></div>
<div class="ttc" id="trx0undo_8cc_html_aace6852308ced45e03c16d9d8e54f773"><div class="ttname"><a href="trx0undo_8cc.html#aace6852308ced45e03c16d9d8e54f773">xid</a></div><div class="ttdeci">static trx_rseg_t ulint trx_id_t const XID * xid</div><div class="ttdef"><b>Definition:</b> trx0undo.cc:1565</div></div>
<div class="ttc" id="trx0undo_8cc_html_a6093ca66dd564a9c407d64ce43838c28"><div class="ttname"><a href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a></div><div class="ttdeci">static trx_rsegf_t ulint type</div><div class="ttdef"><b>Definition:</b> trx0undo.cc:428</div></div>
<div class="ttc" id="trx0undo_8cc_html_a408337eae997db8afa7e03c1bd6804c7"><div class="ttname"><a href="trx0undo_8cc.html#a408337eae997db8afa7e03c1bd6804c7">rseg</a></div><div class="ttdeci">static trx_rseg_t * rseg</div><div class="ttdef"><b>Definition:</b> trx0undo.cc:1565</div></div>
<div class="ttc" id="trx0undo_8cc_html_a31dc85e5157cc0055a93f38465fdef6b"><div class="ttname"><a href="trx0undo_8cc.html#a31dc85e5157cc0055a93f38465fdef6b">trx_id</a></div><div class="ttdeci">static trx_rseg_t ulint trx_id_t trx_id</div><div class="ttdef"><b>Definition:</b> trx0undo.cc:1565</div></div>
</div><!-- fragment --><p>out: the new undo log object, undefined if did not succeed </p>

</div>
</div>
<a id="ab40556d40757c211cdec0f2f55e2d8f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab40556d40757c211cdec0f2f55e2d8f4">&#9670;&nbsp;</a></span>undo_page</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="page0types_8h.html#ac84908ddc97c37107986280aa8f37897">page_t</a> * undo_page = buf_block_get_frame(<a class="el" href="row0merge_8cc.html#a93c46cf7240dc5a16f8137e7d34a5049">block</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>out: segment header page x-latched, NULL if there was an error </p>

</div>
</div>
<a id="aace6852308ced45e03c16d9d8e54f773"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aace6852308ced45e03c16d9d8e54f773">&#9670;&nbsp;</a></span>xid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__rseg__t.html">trx_rseg_t</a> ulint <a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a> const <a class="el" href="structxid__t.html">XID</a>* xid</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>in: X/Open transaction identification </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
