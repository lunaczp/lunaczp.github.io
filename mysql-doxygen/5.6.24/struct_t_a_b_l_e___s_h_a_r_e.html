<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: TABLE_SHARE Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="struct_t_a_b_l_e___s_h_a_r_e-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TABLE_SHARE Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="table_8h_source.html">table.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3584a4257b4863abf5d121aa68b7367c"><td class="memItemLeft" align="right" valign="top"><a id="a3584a4257b4863abf5d121aa68b7367c"></a>
<a class="el" href="structhandlerton.html">handlerton</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>db_type</b> () const</td></tr>
<tr class="separator:a3584a4257b4863abf5d121aa68b7367c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18ad23ef3d781be3525dc0aa0e8b6547"><td class="memItemLeft" align="right" valign="top"><a id="a18ad23ef3d781be3525dc0aa0e8b6547"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_table_cache_key</b> (char *key_buff, uint key_length)</td></tr>
<tr class="separator:a18ad23ef3d781be3525dc0aa0e8b6547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41f8b7965a82f68d1aa7417cab9d18c6"><td class="memItemLeft" align="right" valign="top"><a id="a41f8b7965a82f68d1aa7417cab9d18c6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_table_cache_key</b> (char *key_buff, const char *key, uint key_length)</td></tr>
<tr class="separator:a41f8b7965a82f68d1aa7417cab9d18c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85e93a607f794a912567104ff63cc8e2"><td class="memItemLeft" align="right" valign="top"><a id="a85e93a607f794a912567104ff63cc8e2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>honor_global_locks</b> ()</td></tr>
<tr class="separator:a85e93a607f794a912567104ff63cc8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af38b8e445ebfe7c978c5b13a4c750a92"><td class="memItemLeft" align="right" valign="top"><a id="af38b8e445ebfe7c978c5b13a4c750a92"></a>
ulonglong&#160;</td><td class="memItemRight" valign="bottom"><b>get_table_def_version</b> ()</td></tr>
<tr class="separator:af38b8e445ebfe7c978c5b13a4c750a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa639ddd12ec5072322dee1af1a64efb4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html#aa639ddd12ec5072322dee1af1a64efb4">has_old_version</a> () const</td></tr>
<tr class="separator:aa639ddd12ec5072322dee1af1a64efb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3a3e3e4c725c1814866341fd65002bf"><td class="memItemLeft" align="right" valign="top">enum enum_table_ref_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html#ad3a3e3e4c725c1814866341fd65002bf">get_table_ref_type</a> () const</td></tr>
<tr class="separator:ad3a3e3e4c725c1814866341fd65002bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87f19366f330007fb29fa6261961fb06"><td class="memItemLeft" align="right" valign="top">ulonglong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html#a87f19366f330007fb29fa6261961fb06">get_table_ref_version</a> () const</td></tr>
<tr class="separator:a87f19366f330007fb29fa6261961fb06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a084ed977027000a392ff8992d540f257"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html#a084ed977027000a392ff8992d540f257">visit_subgraph</a> (<a class="el" href="class_wait__for__flush.html">Wait_for_flush</a> *waiting_ticket, <a class="el" href="class_m_d_l__wait__for__graph__visitor.html">MDL_wait_for_graph_visitor</a> *gvisitor)</td></tr>
<tr class="separator:a084ed977027000a392ff8992d540f257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7570f5c5956dfda8b27bef43e24492d5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html#a7570f5c5956dfda8b27bef43e24492d5">wait_for_old_version</a> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, struct <a class="el" href="structtimespec.html">timespec</a> *abstime, uint deadlock_weight)</td></tr>
<tr class="separator:a7570f5c5956dfda8b27bef43e24492d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18fb7405f4f0af28970bdcbf85aed419"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html#a18fb7405f4f0af28970bdcbf85aed419">destroy</a> ()</td></tr>
<tr class="separator:a18fb7405f4f0af28970bdcbf85aed419"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aaf3e5f8c4f8f32d7e7b3451800e03243"><td class="memItemLeft" align="right" valign="top">TABLE_CATEGORY&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html#aaf3e5f8c4f8f32d7e7b3451800e03243">table_category</a></td></tr>
<tr class="separator:aaf3e5f8c4f8f32d7e7b3451800e03243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05598e1a3c67f5a1264b53b19447fe64"><td class="memItemLeft" align="right" valign="top"><a id="a05598e1a3c67f5a1264b53b19447fe64"></a>
<a class="el" href="structst__hash.html">HASH</a>&#160;</td><td class="memItemRight" valign="bottom"><b>name_hash</b></td></tr>
<tr class="separator:a05598e1a3c67f5a1264b53b19447fe64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c48fc8b8cf0916d4ef839f4c4bc62df"><td class="memItemLeft" align="right" valign="top"><a id="a0c48fc8b8cf0916d4ef839f4c4bc62df"></a>
<a class="el" href="structst__mem__root.html">MEM_ROOT</a>&#160;</td><td class="memItemRight" valign="bottom"><b>mem_root</b></td></tr>
<tr class="separator:a0c48fc8b8cf0916d4ef839f4c4bc62df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba1c703b3ae9c458d7794b2ca1fa1a9"><td class="memItemLeft" align="right" valign="top"><a id="a3ba1c703b3ae9c458d7794b2ca1fa1a9"></a>
<a class="el" href="structst__typelib.html">TYPELIB</a>&#160;</td><td class="memItemRight" valign="bottom"><b>keynames</b></td></tr>
<tr class="separator:a3ba1c703b3ae9c458d7794b2ca1fa1a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a791c2e0578d0065faf65694d47fcd0f0"><td class="memItemLeft" align="right" valign="top"><a id="a791c2e0578d0065faf65694d47fcd0f0"></a>
<a class="el" href="structst__typelib.html">TYPELIB</a>&#160;</td><td class="memItemRight" valign="bottom"><b>fieldnames</b></td></tr>
<tr class="separator:a791c2e0578d0065faf65694d47fcd0f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb2550b7ed3fef5452a08ed447d410aa"><td class="memItemLeft" align="right" valign="top"><a id="adb2550b7ed3fef5452a08ed447d410aa"></a>
<a class="el" href="structst__typelib.html">TYPELIB</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>intervals</b></td></tr>
<tr class="separator:adb2550b7ed3fef5452a08ed447d410aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8049afbfa5ce54ee4101c98704b4933"><td class="memItemLeft" align="right" valign="top"><a id="aa8049afbfa5ce54ee4101c98704b4933"></a>
<a class="el" href="group___thread__instrumentation.html#ga5303924710bf8356ede41ee68bca276f">mysql_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>LOCK_ha_data</b></td></tr>
<tr class="separator:aa8049afbfa5ce54ee4101c98704b4933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95dbf649aea92b7488a9216a78404883"><td class="memItemLeft" align="right" valign="top"><a id="a95dbf649aea92b7488a9216a78404883"></a>
<a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html">TABLE_SHARE</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>next</b></td></tr>
<tr class="separator:a95dbf649aea92b7488a9216a78404883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addcfee0201d0799d45d79ecf78a101ba"><td class="memItemLeft" align="right" valign="top"><a id="addcfee0201d0799d45d79ecf78a101ba"></a>
<a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html">TABLE_SHARE</a> **&#160;</td><td class="memItemRight" valign="bottom"><b>prev</b></td></tr>
<tr class="separator:addcfee0201d0799d45d79ecf78a101ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b2d66b9a33c0007107a15690955b44f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_table__cache__element.html">Table_cache_element</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html#a0b2d66b9a33c0007107a15690955b44f">cache_element</a></td></tr>
<tr class="separator:a0b2d66b9a33c0007107a15690955b44f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b1c0c764dfc135df05cdacb56f4c46"><td class="memItemLeft" align="right" valign="top"><a id="a57b1c0c764dfc135df05cdacb56f4c46"></a>
<a class="el" href="class_field.html">Field</a> **&#160;</td><td class="memItemRight" valign="bottom"><b>field</b></td></tr>
<tr class="separator:a57b1c0c764dfc135df05cdacb56f4c46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a38d8b72d995fdba683a5265b8a26ca"><td class="memItemLeft" align="right" valign="top"><a id="a6a38d8b72d995fdba683a5265b8a26ca"></a>
<a class="el" href="class_field.html">Field</a> **&#160;</td><td class="memItemRight" valign="bottom"><b>found_next_number_field</b></td></tr>
<tr class="separator:a6a38d8b72d995fdba683a5265b8a26ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67f48414a9d935537f95dfbf288d467"><td class="memItemLeft" align="right" valign="top"><a id="ae67f48414a9d935537f95dfbf288d467"></a>
<a class="el" href="structst__key.html">KEY</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>key_info</b></td></tr>
<tr class="separator:ae67f48414a9d935537f95dfbf288d467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef62713dc31c737942c61dc2b65e23ce"><td class="memItemLeft" align="right" valign="top"><a id="aef62713dc31c737942c61dc2b65e23ce"></a>
uint *&#160;</td><td class="memItemRight" valign="bottom"><b>blob_field</b></td></tr>
<tr class="separator:aef62713dc31c737942c61dc2b65e23ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1ba87cc3d5f809c9399afc7c9883b4"><td class="memItemLeft" align="right" valign="top"><a id="a3d1ba87cc3d5f809c9399afc7c9883b4"></a>
uchar *&#160;</td><td class="memItemRight" valign="bottom"><b>default_values</b></td></tr>
<tr class="separator:a3d1ba87cc3d5f809c9399afc7c9883b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2020d16e55b0a5b5a8f3e1ea92a18be3"><td class="memItemLeft" align="right" valign="top"><a id="a2020d16e55b0a5b5a8f3e1ea92a18be3"></a>
<a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a>&#160;</td><td class="memItemRight" valign="bottom"><b>comment</b></td></tr>
<tr class="separator:a2020d16e55b0a5b5a8f3e1ea92a18be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3ba77668981a22fe9b77da248948e40"><td class="memItemLeft" align="right" valign="top"><a id="ab3ba77668981a22fe9b77da248948e40"></a>
const <a class="el" href="structcharset__info__st.html">CHARSET_INFO</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>table_charset</b></td></tr>
<tr class="separator:ab3ba77668981a22fe9b77da248948e40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad30c4966a570f75fb3fb17d9962596e"><td class="memItemLeft" align="right" valign="top"><a id="aad30c4966a570f75fb3fb17d9962596e"></a>
<a class="el" href="structst__bitmap.html">MY_BITMAP</a>&#160;</td><td class="memItemRight" valign="bottom"><b>all_set</b></td></tr>
<tr class="separator:aad30c4966a570f75fb3fb17d9962596e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60e9c1bddf08dc0e703e99d53b08c09b"><td class="memItemLeft" align="right" valign="top"><a id="a60e9c1bddf08dc0e703e99d53b08c09b"></a>
<a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a>&#160;</td><td class="memItemRight" valign="bottom"><b>table_cache_key</b></td></tr>
<tr class="separator:a60e9c1bddf08dc0e703e99d53b08c09b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392437f27551e89f8d88942c07223565"><td class="memItemLeft" align="right" valign="top"><a id="a392437f27551e89f8d88942c07223565"></a>
<a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a>&#160;</td><td class="memItemRight" valign="bottom"><b>db</b></td></tr>
<tr class="separator:a392437f27551e89f8d88942c07223565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c14684072ff35282948ddd9b96c1e71"><td class="memItemLeft" align="right" valign="top"><a id="a8c14684072ff35282948ddd9b96c1e71"></a>
<a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a>&#160;</td><td class="memItemRight" valign="bottom"><b>table_name</b></td></tr>
<tr class="separator:a8c14684072ff35282948ddd9b96c1e71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a962464167871d031816fb1d4bd424a7d"><td class="memItemLeft" align="right" valign="top"><a id="a962464167871d031816fb1d4bd424a7d"></a>
<a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a>&#160;</td><td class="memItemRight" valign="bottom"><b>path</b></td></tr>
<tr class="separator:a962464167871d031816fb1d4bd424a7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a025f1d1b2742fd2637f08c2b3edd65"><td class="memItemLeft" align="right" valign="top"><a id="a4a025f1d1b2742fd2637f08c2b3edd65"></a>
<a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a>&#160;</td><td class="memItemRight" valign="bottom"><b>normalized_path</b></td></tr>
<tr class="separator:a4a025f1d1b2742fd2637f08c2b3edd65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a698bb3d756057cfe16293ae7ed7f58a9"><td class="memItemLeft" align="right" valign="top"><a id="a698bb3d756057cfe16293ae7ed7f58a9"></a>
<a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a>&#160;</td><td class="memItemRight" valign="bottom"><b>connect_string</b></td></tr>
<tr class="separator:a698bb3d756057cfe16293ae7ed7f58a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6382e1f6d36df15729858757c0d21ed7"><td class="memItemLeft" align="right" valign="top"><a id="a6382e1f6d36df15729858757c0d21ed7"></a>
<a class="el" href="class_bitmap_3_0164_01_4.html">key_map</a>&#160;</td><td class="memItemRight" valign="bottom"><b>keys_in_use</b></td></tr>
<tr class="separator:a6382e1f6d36df15729858757c0d21ed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39dd05a4d77195d1d70551bd033efa71"><td class="memItemLeft" align="right" valign="top"><a id="a39dd05a4d77195d1d70551bd033efa71"></a>
<a class="el" href="class_bitmap_3_0164_01_4.html">key_map</a>&#160;</td><td class="memItemRight" valign="bottom"><b>keys_for_keyread</b></td></tr>
<tr class="separator:a39dd05a4d77195d1d70551bd033efa71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ab3db171120813ac9114644677e2ebf"><td class="memItemLeft" align="right" valign="top"><a id="a6ab3db171120813ac9114644677e2ebf"></a>
ha_rows&#160;</td><td class="memItemRight" valign="bottom"><b>min_rows</b></td></tr>
<tr class="separator:a6ab3db171120813ac9114644677e2ebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada4d1117f2d61d4a88f01a752bc63b0d"><td class="memItemLeft" align="right" valign="top"><a id="ada4d1117f2d61d4a88f01a752bc63b0d"></a>
ha_rows&#160;</td><td class="memItemRight" valign="bottom"><b>max_rows</b></td></tr>
<tr class="separator:ada4d1117f2d61d4a88f01a752bc63b0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a1145ab003fb15eab782f7ba1365565"><td class="memItemLeft" align="right" valign="top"><a id="a5a1145ab003fb15eab782f7ba1365565"></a>
ulong&#160;</td><td class="memItemRight" valign="bottom"><b>avg_row_length</b></td></tr>
<tr class="separator:a5a1145ab003fb15eab782f7ba1365565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae04c033776f1dc39863ebf60b842c505"><td class="memItemLeft" align="right" valign="top">ulong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html#ae04c033776f1dc39863ebf60b842c505">version</a></td></tr>
<tr class="separator:ae04c033776f1dc39863ebf60b842c505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a366454b8e22e3ffac5ea81b2f7ac3645"><td class="memItemLeft" align="right" valign="top"><a id="a366454b8e22e3ffac5ea81b2f7ac3645"></a>
ulong&#160;</td><td class="memItemRight" valign="bottom"><b>mysql_version</b></td></tr>
<tr class="separator:a366454b8e22e3ffac5ea81b2f7ac3645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52cc1e26103087d0a0053a6e00f37898"><td class="memItemLeft" align="right" valign="top"><a id="a52cc1e26103087d0a0053a6e00f37898"></a>
ulong&#160;</td><td class="memItemRight" valign="bottom"><b>reclength</b></td></tr>
<tr class="separator:a52cc1e26103087d0a0053a6e00f37898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5abe32cb7b03f2a5aafd131ae64bd3f4"><td class="memItemLeft" align="right" valign="top"><a id="a5abe32cb7b03f2a5aafd131ae64bd3f4"></a>
<a class="el" href="structst__plugin__int.html">plugin_ref</a>&#160;</td><td class="memItemRight" valign="bottom"><b>db_plugin</b></td></tr>
<tr class="separator:a5abe32cb7b03f2a5aafd131ae64bd3f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7fce774da971ed7499601c8632fe06a"><td class="memItemLeft" align="right" valign="top"><a id="ae7fce774da971ed7499601c8632fe06a"></a>
enum row_type&#160;</td><td class="memItemRight" valign="bottom"><b>row_type</b></td></tr>
<tr class="separator:ae7fce774da971ed7499601c8632fe06a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a4af8d43306e0f3f43567743cc3bd46"><td class="memItemLeft" align="right" valign="top"><a id="a2a4af8d43306e0f3f43567743cc3bd46"></a>
enum tmp_table_type&#160;</td><td class="memItemRight" valign="bottom"><b>tmp_table</b></td></tr>
<tr class="separator:a2a4af8d43306e0f3f43567743cc3bd46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78058d2d9158f790bc4089aed345ef75"><td class="memItemLeft" align="right" valign="top"><a id="a78058d2d9158f790bc4089aed345ef75"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>ref_count</b></td></tr>
<tr class="separator:a78058d2d9158f790bc4089aed345ef75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee18a60e57328051e38caa228779263c"><td class="memItemLeft" align="right" valign="top"><a id="aee18a60e57328051e38caa228779263c"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>key_block_size</b></td></tr>
<tr class="separator:aee18a60e57328051e38caa228779263c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bad47f770139b365a44fc79ba57852f"><td class="memItemLeft" align="right" valign="top"><a id="a1bad47f770139b365a44fc79ba57852f"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>stats_sample_pages</b></td></tr>
<tr class="separator:a1bad47f770139b365a44fc79ba57852f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22ef93ba1be0e82beef2706ddbbb6512"><td class="memItemLeft" align="right" valign="top"><a id="a22ef93ba1be0e82beef2706ddbbb6512"></a>
enum_stats_auto_recalc&#160;</td><td class="memItemRight" valign="bottom"><b>stats_auto_recalc</b></td></tr>
<tr class="separator:a22ef93ba1be0e82beef2706ddbbb6512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82a94d999733481683853c906ad45d94"><td class="memItemLeft" align="right" valign="top"><a id="a82a94d999733481683853c906ad45d94"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>null_bytes</b></td></tr>
<tr class="separator:a82a94d999733481683853c906ad45d94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf22b6e5444378383bd7cdaad2a66d44"><td class="memItemLeft" align="right" valign="top"><a id="aaf22b6e5444378383bd7cdaad2a66d44"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>last_null_bit_pos</b></td></tr>
<tr class="separator:aaf22b6e5444378383bd7cdaad2a66d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76603c713aa380320e0435ab864e767b"><td class="memItemLeft" align="right" valign="top"><a id="a76603c713aa380320e0435ab864e767b"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>fields</b></td></tr>
<tr class="separator:a76603c713aa380320e0435ab864e767b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64102a74e7bfcf15064b20f07f2e1f7d"><td class="memItemLeft" align="right" valign="top"><a id="a64102a74e7bfcf15064b20f07f2e1f7d"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>rec_buff_length</b></td></tr>
<tr class="separator:a64102a74e7bfcf15064b20f07f2e1f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9976c96f5d6adf1bcfb696372b1061bc"><td class="memItemLeft" align="right" valign="top"><a id="a9976c96f5d6adf1bcfb696372b1061bc"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>keys</b></td></tr>
<tr class="separator:a9976c96f5d6adf1bcfb696372b1061bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1b07ac2e68655a53c490c2d06bfb703"><td class="memItemLeft" align="right" valign="top"><a id="ad1b07ac2e68655a53c490c2d06bfb703"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>key_parts</b></td></tr>
<tr class="separator:ad1b07ac2e68655a53c490c2d06bfb703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ca7519886ed6d8704fb08c8d94081ce"><td class="memItemLeft" align="right" valign="top"><a id="a8ca7519886ed6d8704fb08c8d94081ce"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>max_key_length</b></td></tr>
<tr class="separator:a8ca7519886ed6d8704fb08c8d94081ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49dfb606b2701d241a38ab90925b90b1"><td class="memItemLeft" align="right" valign="top"><a id="a49dfb606b2701d241a38ab90925b90b1"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>max_unique_length</b></td></tr>
<tr class="separator:a49dfb606b2701d241a38ab90925b90b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39e11b6e0462615dd0fbecb6811965cb"><td class="memItemLeft" align="right" valign="top"><a id="a39e11b6e0462615dd0fbecb6811965cb"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>total_key_length</b></td></tr>
<tr class="separator:a39e11b6e0462615dd0fbecb6811965cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae93d5d4b08f553f12d688eb32295e1e2"><td class="memItemLeft" align="right" valign="top"><a id="ae93d5d4b08f553f12d688eb32295e1e2"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>uniques</b></td></tr>
<tr class="separator:ae93d5d4b08f553f12d688eb32295e1e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2df0c7a7a4a7e4c9dfded723c9948e1"><td class="memItemLeft" align="right" valign="top"><a id="ae2df0c7a7a4a7e4c9dfded723c9948e1"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>null_fields</b></td></tr>
<tr class="separator:ae2df0c7a7a4a7e4c9dfded723c9948e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a670fbacdf132a16c4ec47fe26887c93f"><td class="memItemLeft" align="right" valign="top"><a id="a670fbacdf132a16c4ec47fe26887c93f"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>blob_fields</b></td></tr>
<tr class="separator:a670fbacdf132a16c4ec47fe26887c93f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52db1f6bd2ddde9de2b960efc2db0c3c"><td class="memItemLeft" align="right" valign="top"><a id="a52db1f6bd2ddde9de2b960efc2db0c3c"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>varchar_fields</b></td></tr>
<tr class="separator:a52db1f6bd2ddde9de2b960efc2db0c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fcfb8b9d796499b8722c85f54df6cbc"><td class="memItemLeft" align="right" valign="top"><a id="a5fcfb8b9d796499b8722c85f54df6cbc"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>db_create_options</b></td></tr>
<tr class="separator:a5fcfb8b9d796499b8722c85f54df6cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad820af3d19c7aed9d52570b3921159a4"><td class="memItemLeft" align="right" valign="top"><a id="ad820af3d19c7aed9d52570b3921159a4"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>db_options_in_use</b></td></tr>
<tr class="separator:ad820af3d19c7aed9d52570b3921159a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4a2285b27cd4868844282ad874a8400"><td class="memItemLeft" align="right" valign="top"><a id="ab4a2285b27cd4868844282ad874a8400"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>db_record_offset</b></td></tr>
<tr class="separator:ab4a2285b27cd4868844282ad874a8400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8819a5f792902ecd73f3d590544324a3"><td class="memItemLeft" align="right" valign="top"><a id="a8819a5f792902ecd73f3d590544324a3"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>rowid_field_offset</b></td></tr>
<tr class="separator:a8819a5f792902ecd73f3d590544324a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc0c46f0b8cfed9be7b8d1f7ce440449"><td class="memItemLeft" align="right" valign="top"><a id="acc0c46f0b8cfed9be7b8d1f7ce440449"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>primary_key</b></td></tr>
<tr class="separator:acc0c46f0b8cfed9be7b8d1f7ce440449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03be8a6444b62c4c642b1a1cf1aef14a"><td class="memItemLeft" align="right" valign="top"><a id="a03be8a6444b62c4c642b1a1cf1aef14a"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>next_number_index</b></td></tr>
<tr class="separator:a03be8a6444b62c4c642b1a1cf1aef14a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98dc7a8320626d42c84cf5473104f90e"><td class="memItemLeft" align="right" valign="top"><a id="a98dc7a8320626d42c84cf5473104f90e"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>next_number_key_offset</b></td></tr>
<tr class="separator:a98dc7a8320626d42c84cf5473104f90e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5301f811144dcc37ef5a478d196773c1"><td class="memItemLeft" align="right" valign="top"><a id="a5301f811144dcc37ef5a478d196773c1"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>next_number_keypart</b></td></tr>
<tr class="separator:a5301f811144dcc37ef5a478d196773c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c8476b11df30f0e238e5f0c2d03a96"><td class="memItemLeft" align="right" valign="top"><a id="a96c8476b11df30f0e238e5f0c2d03a96"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>error</b></td></tr>
<tr class="separator:a96c8476b11df30f0e238e5f0c2d03a96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c74c898ddc010ac3c031a920106bb68"><td class="memItemLeft" align="right" valign="top"><a id="a8c74c898ddc010ac3c031a920106bb68"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>open_errno</b></td></tr>
<tr class="separator:a8c74c898ddc010ac3c031a920106bb68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e291314f259c65960ef7e05fc1462c3"><td class="memItemLeft" align="right" valign="top"><a id="a7e291314f259c65960ef7e05fc1462c3"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>errarg</b></td></tr>
<tr class="separator:a7e291314f259c65960ef7e05fc1462c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3231c5370a6444e035f1e8683f005560"><td class="memItemLeft" align="right" valign="top"><a id="a3231c5370a6444e035f1e8683f005560"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>column_bitmap_size</b></td></tr>
<tr class="separator:a3231c5370a6444e035f1e8683f005560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1496e1a4e2d543c8f1072a137693f4b7"><td class="memItemLeft" align="right" valign="top"><a id="a1496e1a4e2d543c8f1072a137693f4b7"></a>
uchar&#160;</td><td class="memItemRight" valign="bottom"><b>frm_version</b></td></tr>
<tr class="separator:a1496e1a4e2d543c8f1072a137693f4b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ebd79ee0f823daf2f6d1dc37a9276e"><td class="memItemLeft" align="right" valign="top"><a id="aa9ebd79ee0f823daf2f6d1dc37a9276e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>null_field_first</b></td></tr>
<tr class="separator:aa9ebd79ee0f823daf2f6d1dc37a9276e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82eaf36f0c2bb14813d2eede76ea1484"><td class="memItemLeft" align="right" valign="top"><a id="a82eaf36f0c2bb14813d2eede76ea1484"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>system</b></td></tr>
<tr class="separator:a82eaf36f0c2bb14813d2eede76ea1484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f5c9bd8f6c0322e3dacfdd9c1b6ee47"><td class="memItemLeft" align="right" valign="top"><a id="a8f5c9bd8f6c0322e3dacfdd9c1b6ee47"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>crypted</b></td></tr>
<tr class="separator:a8f5c9bd8f6c0322e3dacfdd9c1b6ee47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a469bc62a7f83b21473a0bcd2d56093c3"><td class="memItemLeft" align="right" valign="top"><a id="a469bc62a7f83b21473a0bcd2d56093c3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>db_low_byte_first</b></td></tr>
<tr class="separator:a469bc62a7f83b21473a0bcd2d56093c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef8f30c73bc89688f3878032e1a01a8"><td class="memItemLeft" align="right" valign="top"><a id="acef8f30c73bc89688f3878032e1a01a8"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>crashed</b></td></tr>
<tr class="separator:acef8f30c73bc89688f3878032e1a01a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84367de5b2560cd024e03a48948a471d"><td class="memItemLeft" align="right" valign="top"><a id="a84367de5b2560cd024e03a48948a471d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_view</b></td></tr>
<tr class="separator:a84367de5b2560cd024e03a48948a471d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4047b56bc5e89193b7d1947cacc1d914"><td class="memItemLeft" align="right" valign="top"><a id="a4047b56bc5e89193b7d1947cacc1d914"></a>
<a class="el" href="class_table__id.html">Table_id</a>&#160;</td><td class="memItemRight" valign="bottom"><b>table_map_id</b></td></tr>
<tr class="separator:a4047b56bc5e89193b7d1947cacc1d914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a527306fd6c94f70d9dc1f6c19f91347e"><td class="memItemLeft" align="right" valign="top"><a id="a527306fd6c94f70d9dc1f6c19f91347e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>cached_row_logging_check</b></td></tr>
<tr class="separator:a527306fd6c94f70d9dc1f6c19f91347e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa82bcc12ba8052df51dd1ef1e464f1e5"><td class="memItemLeft" align="right" valign="top"><a id="aa82bcc12ba8052df51dd1ef1e464f1e5"></a>
enum ha_storage_media&#160;</td><td class="memItemRight" valign="bottom"><b>default_storage_media</b></td></tr>
<tr class="separator:aa82bcc12ba8052df51dd1ef1e464f1e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad916b8032c5b4752dcc3f3a4e8e73122"><td class="memItemLeft" align="right" valign="top"><a id="ad916b8032c5b4752dcc3f3a4e8e73122"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>tablespace</b></td></tr>
<tr class="separator:ad916b8032c5b4752dcc3f3a4e8e73122"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eae47fa6d1ab98ea2af1b1073170274"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structst__table__field__def.html">TABLE_FIELD_DEF</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html#a2eae47fa6d1ab98ea2af1b1073170274">table_field_def_cache</a></td></tr>
<tr class="separator:a2eae47fa6d1ab98ea2af1b1073170274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f65b925c665708bd19df8190115c66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_handler__share.html">Handler_share</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html#a20f65b925c665708bd19df8190115c66">ha_share</a></td></tr>
<tr class="separator:a20f65b925c665708bd19df8190115c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d5321098268634196a67766c666d93"><td class="memItemLeft" align="right" valign="top">PSI_table_share *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html#a40d5321098268634196a67766c666d93">m_psi</a></td></tr>
<tr class="separator:a40d5321098268634196a67766c666d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9f03d5defc37e2c2c919f59d77988a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_i___p___list.html">Wait_for_flush_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html#aa9f03d5defc37e2c2c919f59d77988a0">m_flush_tickets</a></td></tr>
<tr class="separator:aa9f03d5defc37e2c2c919f59d77988a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d49595d1beeea24f9e653efaa0d41a2"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_file__parser.html">File_parser</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html#a6d49595d1beeea24f9e653efaa0d41a2">view_def</a></td></tr>
<tr class="separator:a6d49595d1beeea24f9e653efaa0d41a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This structure is shared between different table objects. There is one instance of table share per one table in the database. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a18fb7405f4f0af28970bdcbf85aed419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18fb7405f4f0af28970bdcbf85aed419">&#9670;&nbsp;</a></span>destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TABLE_SHARE::destroy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release resources and free memory occupied by the table share.</p>
<p>Release resources (plugins) used by the share and free its memory. <a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html">TABLE_SHARE</a> is self-contained &ndash; it's stored in its own MEM_ROOT. Free this MEM_ROOT. </p>

</div>
</div>
<a id="ad3a3e3e4c725c1814866341fd65002bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3a3e3e4c725c1814866341fd65002bf">&#9670;&nbsp;</a></span>get_table_ref_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum enum_table_ref_type TABLE_SHARE::get_table_ref_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convert unrelated members of <a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html">TABLE_SHARE</a> to one enum representing its type.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000136">Todo:</a></b></dt><dd>perhaps we need to have a member instead of a function. </dd></dl>

</div>
</div>
<a id="a87f19366f330007fb29fa6261961fb06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87f19366f330007fb29fa6261961fb06">&#9670;&nbsp;</a></span>get_table_ref_version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ulonglong TABLE_SHARE::get_table_ref_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return a table metadata version. for base tables and views, we return table_map_id. It is assigned from a global counter incremented for each new table loaded into the table definition cache (TDC). for temporary tables it's table_map_id again. But for temporary tables table_map_id is assigned from thd-&gt;query_id. The latter is assigned from a thread local counter incremented for every new SQL statement. Since temporary tables are thread-local, each temporary table gets a unique id. for everything else (e.g. information schema tables), the version id is zero.</p>
<p>This choice of version id is a large compromise to have a working prepared statement validation in 5.1. In future version ids will be persistent, as described in WL#4180.</p>
<p>Let's try to explain why and how this limited solution allows to validate prepared statements.</p>
<p>Firstly, sets (in mathematical sense) of version numbers never intersect for different table types. Therefore, version id of a temporary table is never compared with a version id of a view, and vice versa.</p>
<p>Secondly, for base tables and views, we know that each DDL flushes the respective share from the TDC. This ensures that whenever a table is altered or dropped and recreated, it gets a new version id. Unfortunately, since elements of the TDC are also flushed on LRU basis, this choice of version ids leads to false positives. E.g. when the TDC size is too small, we may have a SELECT FROM INFORMATION_SCHEMA.TABLES flush all its elements, which in turn will lead to a validation error and a subsequent reprepare of all prepared statements. This is considered acceptable, since as long as prepared statements are automatically reprepared, spurious invalidation is only a performance hit. Besides, no better simple solution exists.</p>
<p>For temporary tables, using thd-&gt;query_id ensures that if a temporary table was altered or recreated, a new version id is assigned. This suits validation needs very well and will perhaps never change.</p>
<p>Metadata of information schema tables never changes. Thus we can safely assume 0 for a good enough version id.</p>
<p>Finally, by taking into account table type, we always track that a change has taken place when a view is replaced with a base table, a base table is replaced with a temporary table and so on.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_t_a_b_l_e___l_i_s_t.html#a187525004d9f242ed0b6291d333ebea0">TABLE_LIST::is_table_ref_id_equal()</a> </dd></dl>

</div>
</div>
<a id="aa639ddd12ec5072322dee1af1a64efb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa639ddd12ec5072322dee1af1a64efb4">&#9670;&nbsp;</a></span>has_old_version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TABLE_SHARE::has_old_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Is this table share being expelled from the table definition cache? </p>

</div>
</div>
<a id="a084ed977027000a392ff8992d540f257"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a084ed977027000a392ff8992d540f257">&#9670;&nbsp;</a></span>visit_subgraph()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TABLE_SHARE::visit_subgraph </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_wait__for__flush.html">Wait_for_flush</a> *&#160;</td>
          <td class="paramname"><em>wait_for_flush</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_m_d_l__wait__for__graph__visitor.html">MDL_wait_for_graph_visitor</a> *&#160;</td>
          <td class="paramname"><em>gvisitor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Traverse portion of wait-for graph which is reachable through this table share in search for deadlocks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">waiting_ticket</td><td>Ticket representing wait for this share. </td></tr>
    <tr><td class="paramname">dvisitor</td><td>Deadlock detection visitor.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>A deadlock is found. A victim is remembered by the visitor. </td></tr>
    <tr><td class="paramname">FALSE</td><td>No deadlocks, it's OK to begin wait. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7570f5c5956dfda8b27bef43e24492d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7570f5c5956dfda8b27bef43e24492d5">&#9670;&nbsp;</a></span>wait_for_old_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TABLE_SHARE::wait_for_old_version </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtimespec.html">timespec</a> *&#160;</td>
          <td class="paramname"><em>abstime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>deadlock_weight</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait until the subject share is removed from the table definition cache and make sure it's destroyed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mdl_context</td><td>MDL context for thread which is going to wait. </td></tr>
    <tr><td class="paramname">abstime</td><td>Timeout for waiting as absolute time value. </td></tr>
    <tr><td class="paramname">deadlock_weight</td><td>Weight of this wait for deadlock detector.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>LOCK_open is write locked, the share is used (has non-zero reference count), is marked for flush and this connection does not reference the share. LOCK_open will be unlocked temporarily during execution.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FALSE</td><td>- Success. </td></tr>
    <tr><td class="paramname">TRUE</td><td>- Error (OOM, deadlock, timeout, etc...). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a0b2d66b9a33c0007107a15690955b44f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b2d66b9a33c0007107a15690955b44f">&#9670;&nbsp;</a></span>cache_element</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_table__cache__element.html">Table_cache_element</a>** TABLE_SHARE::cache_element</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Array of table_cache_instances pointers to elements of table caches respresenting this table in each of <a class="el" href="class_table__cache.html">Table_cache</a> instances. Allocated along with the share itself in alloc_table_share(). Each element of the array is protected by <a class="el" href="class_table__cache.html#a55b1c8ca81efc1876d28e9d4e5edb2ed">Table_cache::m_lock</a> in the corresponding <a class="el" href="class_table__cache.html">Table_cache</a>. False sharing should not be a problem in this case as elements of this array are supposed to be updated rarely. </p>

</div>
</div>
<a id="a20f65b925c665708bd19df8190115c66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20f65b925c665708bd19df8190115c66">&#9670;&nbsp;</a></span>ha_share</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_handler__share.html">Handler_share</a>* TABLE_SHARE::ha_share</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Main handler's share </p>

</div>
</div>
<a id="aa9f03d5defc37e2c2c919f59d77988a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9f03d5defc37e2c2c919f59d77988a0">&#9670;&nbsp;</a></span>m_flush_tickets</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i___p___list.html">Wait_for_flush_list</a> TABLE_SHARE::m_flush_tickets</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="class_list.html">List</a> of tickets representing threads waiting for the share to be flushed. </p>

</div>
</div>
<a id="a40d5321098268634196a67766c666d93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40d5321098268634196a67766c666d93">&#9670;&nbsp;</a></span>m_psi</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PSI_table_share* TABLE_SHARE::m_psi</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Instrumentation for this table share. </p>

</div>
</div>
<a id="aaf3e5f8c4f8f32d7e7b3451800e03243"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf3e5f8c4f8f32d7e7b3451800e03243">&#9670;&nbsp;</a></span>table_category</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TABLE_CATEGORY TABLE_SHARE::table_category</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Category of this table. </p>

</div>
</div>
<a id="a2eae47fa6d1ab98ea2af1b1073170274"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eae47fa6d1ab98ea2af1b1073170274">&#9670;&nbsp;</a></span>table_field_def_cache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structst__table__field__def.html">TABLE_FIELD_DEF</a>* TABLE_SHARE::table_field_def_cache</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Cache the checked structure of this table.</p>
<p>The pointer data is used to describe the structure that a instance of the table must have. Each element of the array specifies a field that must exist on the table.</p>
<p>The pointer is cached in order to perform the check only once &ndash; when the table is loaded from the disk. </p>

</div>
</div>
<a id="ae04c033776f1dc39863ebf60b842c505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae04c033776f1dc39863ebf60b842c505">&#9670;&nbsp;</a></span>version</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulong TABLE_SHARE::version</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html">TABLE_SHARE</a> version, if changed the <a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html">TABLE_SHARE</a> must be reopened. NOTE: The <a class="el" href="struct_t_a_b_l_e___s_h_a_r_e.html">TABLE_SHARE</a> will not be reopened during LOCK TABLES in close_thread_tables!!! </p>

</div>
</div>
<a id="a6d49595d1beeea24f9e653efaa0d41a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d49595d1beeea24f9e653efaa0d41a2">&#9670;&nbsp;</a></span>view_def</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_file__parser.html">File_parser</a>* TABLE_SHARE::view_def</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For shares representing views <a class="el" href="class_file__parser.html">File_parser</a> object with view definition read from .FRM file. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>sql/<a class="el" href="table_8h_source.html">table.h</a></li>
<li>sql/table.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
