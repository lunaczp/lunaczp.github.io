<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: Protocol Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class_protocol-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Protocol Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for Protocol:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_protocol.png" usemap="#Protocol_map" alt=""/>
  <map id="Protocol_map" name="Protocol_map">
<area href="class_protocol__binary.html" alt="Protocol_binary" shape="rect" coords="0,56,102,80"/>
<area href="class_protocol__local.html" alt="Protocol_local" shape="rect" coords="112,56,214,80"/>
<area href="class_protocol__text.html" alt="Protocol_text" shape="rect" coords="224,56,326,80"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:abe082576fb8337cababcf14c9b4301fe"><td class="memItemLeft" align="right" valign="top"><a id="abe082576fb8337cababcf14c9b4301fe"></a>enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>SEND_NUM_ROWS</b> = 1, 
<b>SEND_DEFAULTS</b> = 2, 
<b>SEND_EOF</b> = 4
 }</td></tr>
<tr class="separator:abe082576fb8337cababcf14c9b4301fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1d147a8122f4ea4f8516ee23c514b02"><td class="memItemLeft" align="right" valign="top"><a id="ab1d147a8122f4ea4f8516ee23c514b02"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>enum_protocol_type</b> { <b>PROTOCOL_TEXT</b> = 0, 
<b>PROTOCOL_BINARY</b> = 1, 
<b>PROTOCOL_LOCAL</b> = 2
 }</td></tr>
<tr class="separator:ab1d147a8122f4ea4f8516ee23c514b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad08a52fbb21efefc71042c8d6683d0ab"><td class="memItemLeft" align="right" valign="top"><a id="ad08a52fbb21efefc71042c8d6683d0ab"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Protocol</b> (THD *thd_arg)</td></tr>
<tr class="separator:ad08a52fbb21efefc71042c8d6683d0ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb3d24d4515a750821659d1c359fc0a8"><td class="memItemLeft" align="right" valign="top"><a id="acb3d24d4515a750821659d1c359fc0a8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>init</b> (THD *thd_arg)</td></tr>
<tr class="separator:acb3d24d4515a750821659d1c359fc0a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a923f5ac0c240eee4c9df9b57b81bb573"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_protocol.html#a923f5ac0c240eee4c9df9b57b81bb573">send_result_set_metadata</a> (<a class="el" href="class_list.html">List</a>&lt; <a class="el" href="class_item.html">Item</a> &gt; *list, uint <a class="el" href="handler0alter_8cc.html#a4069e5feb5d17fbac4d832518d169cdd">flags</a>)</td></tr>
<tr class="separator:a923f5ac0c240eee4c9df9b57b81bb573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3688318d4dfa274776c17795e6508c9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_protocol.html#ae3688318d4dfa274776c17795e6508c9">send_result_set_row</a> (<a class="el" href="class_list.html">List</a>&lt; <a class="el" href="class_item.html">Item</a> &gt; *row_items)</td></tr>
<tr class="separator:ae3688318d4dfa274776c17795e6508c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e566a480bb065c46a1c3b1ca586189e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_protocol.html#a5e566a480bb065c46a1c3b1ca586189e">store</a> (<a class="el" href="class_i___list.html">I_List</a>&lt; <a class="el" href="classi__string.html">i_string</a> &gt; *str_list)</td></tr>
<tr class="separator:a5e566a480bb065c46a1c3b1ca586189e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3ada9a85e44e8878ee9fe61438bb605"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_protocol.html#ab3ada9a85e44e8878ee9fe61438bb605">store</a> (const char *<a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>, const <a class="el" href="structcharset__info__st.html">CHARSET_INFO</a> *cs)</td></tr>
<tr class="separator:ab3ada9a85e44e8878ee9fe61438bb605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fa6d9efe8ade41f482b5531a4130a09"><td class="memItemLeft" align="right" valign="top"><a id="a8fa6d9efe8ade41f482b5531a4130a09"></a>
<a class="el" href="class_string.html">String</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>storage_packet</b> ()</td></tr>
<tr class="separator:a8fa6d9efe8ade41f482b5531a4130a09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c832f0d23cca662d26007ab93b2c5ef"><td class="memItemLeft" align="right" valign="top"><a id="a8c832f0d23cca662d26007ab93b2c5ef"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>free</b> ()</td></tr>
<tr class="separator:a8c832f0d23cca662d26007ab93b2c5ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa81f536328e39cecff40d5afc6206610"><td class="memItemLeft" align="right" valign="top"><a id="aa81f536328e39cecff40d5afc6206610"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>write</b> ()</td></tr>
<tr class="separator:aa81f536328e39cecff40d5afc6206610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc94cefd9bdba20f8b9698a9fe783f40"><td class="memItemLeft" align="right" valign="top"><a id="adc94cefd9bdba20f8b9698a9fe783f40"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (int <a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>)</td></tr>
<tr class="separator:adc94cefd9bdba20f8b9698a9fe783f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0423b50aaac27ea58626560425f655ce"><td class="memItemLeft" align="right" valign="top"><a id="a0423b50aaac27ea58626560425f655ce"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (uint32 <a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>)</td></tr>
<tr class="separator:a0423b50aaac27ea58626560425f655ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d3cec3a68d57edad62efdf6d6d806e"><td class="memItemLeft" align="right" valign="top"><a id="a30d3cec3a68d57edad62efdf6d6d806e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (longlong <a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>)</td></tr>
<tr class="separator:a30d3cec3a68d57edad62efdf6d6d806e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d24faa3d8c2b42c25d4b6551205a81"><td class="memItemLeft" align="right" valign="top"><a id="a49d24faa3d8c2b42c25d4b6551205a81"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (ulonglong <a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>)</td></tr>
<tr class="separator:a49d24faa3d8c2b42c25d4b6551205a81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a785ec8433646a7293a48a326752359e0"><td class="memItemLeft" align="right" valign="top"><a id="a785ec8433646a7293a48a326752359e0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (<a class="el" href="class_string.html">String</a> *str)</td></tr>
<tr class="separator:a785ec8433646a7293a48a326752359e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6d4a8c9fde3f4e27d2cc7a514be105b"><td class="memItemLeft" align="right" valign="top"><a id="aa6d4a8c9fde3f4e27d2cc7a514be105b"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>prepare_for_send</b> (uint num_columns)</td></tr>
<tr class="separator:aa6d4a8c9fde3f4e27d2cc7a514be105b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a077a79dec8c4338f59f4dd9c437a6a60"><td class="memItemLeft" align="right" valign="top"><a id="a077a79dec8c4338f59f4dd9c437a6a60"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>flush</b> ()</td></tr>
<tr class="separator:a077a79dec8c4338f59f4dd9c437a6a60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae91dd18398600c77b140227c83d1856"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_protocol.html#aae91dd18398600c77b140227c83d1856">end_partial_result_set</a> (THD *thd)</td></tr>
<tr class="separator:aae91dd18398600c77b140227c83d1856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f2231a489c29f10fb8553fe06d6c493"><td class="memItemLeft" align="right" valign="top"><a id="a2f2231a489c29f10fb8553fe06d6c493"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>prepare_for_resend</b> ()=0</td></tr>
<tr class="separator:a2f2231a489c29f10fb8553fe06d6c493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b94a6ffc8dd31e6921432cc35fa6385"><td class="memItemLeft" align="right" valign="top"><a id="a0b94a6ffc8dd31e6921432cc35fa6385"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_null</b> ()=0</td></tr>
<tr class="separator:a0b94a6ffc8dd31e6921432cc35fa6385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b017df1ed6f4672d01b104c7d874e92"><td class="memItemLeft" align="right" valign="top"><a id="a5b017df1ed6f4672d01b104c7d874e92"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_tiny</b> (longlong <a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>)=0</td></tr>
<tr class="separator:a5b017df1ed6f4672d01b104c7d874e92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d69a42de2289d066d851f4fb8c28191"><td class="memItemLeft" align="right" valign="top"><a id="a8d69a42de2289d066d851f4fb8c28191"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_short</b> (longlong <a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>)=0</td></tr>
<tr class="separator:a8d69a42de2289d066d851f4fb8c28191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36c3efb62fe0f899583b595a6cc12619"><td class="memItemLeft" align="right" valign="top"><a id="a36c3efb62fe0f899583b595a6cc12619"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_long</b> (longlong <a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>)=0</td></tr>
<tr class="separator:a36c3efb62fe0f899583b595a6cc12619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84d763243a8ed7cc2aba14c62d295071"><td class="memItemLeft" align="right" valign="top"><a id="a84d763243a8ed7cc2aba14c62d295071"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_longlong</b> (longlong <a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>, bool unsigned_flag)=0</td></tr>
<tr class="separator:a84d763243a8ed7cc2aba14c62d295071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9569f4e892bf680d55662a6f64db0e60"><td class="memItemLeft" align="right" valign="top"><a id="a9569f4e892bf680d55662a6f64db0e60"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_decimal</b> (const <a class="el" href="classmy__decimal.html">my_decimal</a> *)=0</td></tr>
<tr class="separator:a9569f4e892bf680d55662a6f64db0e60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49503fa7e72a18b97fc5ec00104bb40a"><td class="memItemLeft" align="right" valign="top"><a id="a49503fa7e72a18b97fc5ec00104bb40a"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (const char *<a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>, size_t length, const <a class="el" href="structcharset__info__st.html">CHARSET_INFO</a> *cs)=0</td></tr>
<tr class="separator:a49503fa7e72a18b97fc5ec00104bb40a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc901a1fffdde8e173855cd4b6137326"><td class="memItemLeft" align="right" valign="top"><a id="afc901a1fffdde8e173855cd4b6137326"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (const char *<a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>, size_t length, const <a class="el" href="structcharset__info__st.html">CHARSET_INFO</a> *fromcs, const <a class="el" href="structcharset__info__st.html">CHARSET_INFO</a> *tocs)=0</td></tr>
<tr class="separator:afc901a1fffdde8e173855cd4b6137326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f9322a5bc87dd18a4de563ae45e49e"><td class="memItemLeft" align="right" valign="top"><a id="a92f9322a5bc87dd18a4de563ae45e49e"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (float <a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>, uint32 decimals, <a class="el" href="class_string.html">String</a> *buffer)=0</td></tr>
<tr class="separator:a92f9322a5bc87dd18a4de563ae45e49e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07a617fd8dc08af488891f262b2b4a16"><td class="memItemLeft" align="right" valign="top"><a id="a07a617fd8dc08af488891f262b2b4a16"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (double <a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>, uint32 decimals, <a class="el" href="class_string.html">String</a> *buffer)=0</td></tr>
<tr class="separator:a07a617fd8dc08af488891f262b2b4a16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb4df65976d86deb0982c3f17ad571ea"><td class="memItemLeft" align="right" valign="top"><a id="afb4df65976d86deb0982c3f17ad571ea"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (<a class="el" href="structst__mysql__time.html">MYSQL_TIME</a> *time, uint precision)=0</td></tr>
<tr class="separator:afb4df65976d86deb0982c3f17ad571ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7712fec6e80842c0bcf27d7c24ca9d57"><td class="memItemLeft" align="right" valign="top"><a id="a7712fec6e80842c0bcf27d7c24ca9d57"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_date</b> (<a class="el" href="structst__mysql__time.html">MYSQL_TIME</a> *time)=0</td></tr>
<tr class="separator:a7712fec6e80842c0bcf27d7c24ca9d57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6bc1815beaf5e727c4908ba3aa16ef2"><td class="memItemLeft" align="right" valign="top"><a id="af6bc1815beaf5e727c4908ba3aa16ef2"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_time</b> (<a class="el" href="structst__mysql__time.html">MYSQL_TIME</a> *time, uint precision)=0</td></tr>
<tr class="separator:af6bc1815beaf5e727c4908ba3aa16ef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace582e59ad8b9bf4f3aef12cbcb2f67a"><td class="memItemLeft" align="right" valign="top"><a id="ace582e59ad8b9bf4f3aef12cbcb2f67a"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> (<a class="el" href="class_field.html">Field</a> *field)=0</td></tr>
<tr class="separator:ace582e59ad8b9bf4f3aef12cbcb2f67a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2cfdf7addec15c2ee8cac641f5bfd61"><td class="memItemLeft" align="right" valign="top"><a id="ab2cfdf7addec15c2ee8cac641f5bfd61"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>send_out_parameters</b> (<a class="el" href="class_list.html">List</a>&lt; <a class="el" href="class_item__param.html">Item_param</a> &gt; *sp_params)=0</td></tr>
<tr class="separator:ab2cfdf7addec15c2ee8cac641f5bfd61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab87bc1eb99de341ed0cb185520ad39ec"><td class="memItemLeft" align="right" valign="top"><a id="ab87bc1eb99de341ed0cb185520ad39ec"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>remove_last_row</b> ()</td></tr>
<tr class="separator:ab87bc1eb99de341ed0cb185520ad39ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa44c608bf9b7e57e930b91bf6c1d08f7"><td class="memItemLeft" align="right" valign="top"><a id="aa44c608bf9b7e57e930b91bf6c1d08f7"></a>
virtual enum enum_protocol_type&#160;</td><td class="memItemRight" valign="bottom"><b>type</b> ()=0</td></tr>
<tr class="separator:aa44c608bf9b7e57e930b91bf6c1d08f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7803455271ceb98fed493698b6742e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_protocol.html#ad7803455271ceb98fed493698b6742e8">end_statement</a> ()</td></tr>
<tr class="separator:ad7803455271ceb98fed493698b6742e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1e42809c5ea5a2a0e6bba028561b1c1c"><td class="memItemLeft" align="right" valign="top"><a id="a1e42809c5ea5a2a0e6bba028561b1c1c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>net_store_data</b> (const uchar *<a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>, size_t length)</td></tr>
<tr class="separator:a1e42809c5ea5a2a0e6bba028561b1c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef7bab26d4a2b415c6e6dfb2330c347"><td class="memItemLeft" align="right" valign="top"><a id="a1ef7bab26d4a2b415c6e6dfb2330c347"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>net_store_data</b> (const uchar *<a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>, size_t length, const <a class="el" href="structcharset__info__st.html">CHARSET_INFO</a> *fromcs, const <a class="el" href="structcharset__info__st.html">CHARSET_INFO</a> *tocs)</td></tr>
<tr class="separator:a1ef7bab26d4a2b415c6e6dfb2330c347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9167f717a5f181eb7b25ce3509088441"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_protocol.html#a9167f717a5f181eb7b25ce3509088441">store_string_aux</a> (const char *<a class="el" href="ha__innodb_8cc.html#af9f143e62cdad4afb8a53a21b8b8fcfd">from</a>, size_t length, const <a class="el" href="structcharset__info__st.html">CHARSET_INFO</a> *fromcs, const <a class="el" href="structcharset__info__st.html">CHARSET_INFO</a> *tocs)</td></tr>
<tr class="separator:a9167f717a5f181eb7b25ce3509088441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33fa9d654174211f7a88bca7a3b6dcd2"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_protocol.html#a33fa9d654174211f7a88bca7a3b6dcd2">send_ok</a> (uint server_status, uint statement_warn_count, ulonglong affected_rows, ulonglong last_insert_id, const char *message)</td></tr>
<tr class="separator:a33fa9d654174211f7a88bca7a3b6dcd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55983c51cff727144947b1167be7fa42"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_protocol.html#a55983c51cff727144947b1167be7fa42">send_eof</a> (uint server_status, uint statement_warn_count)</td></tr>
<tr class="separator:a55983c51cff727144947b1167be7fa42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf28cdd43b19487bf2dfcd5d2b1a658b"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_protocol.html#aaf28cdd43b19487bf2dfcd5d2b1a658b">send_error</a> (uint sql_errno, const char *err_msg, const char *sql_state)</td></tr>
<tr class="separator:aaf28cdd43b19487bf2dfcd5d2b1a658b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a4a489eccb3c6d6fdb0a5d8598fb4cb24"><td class="memItemLeft" align="right" valign="top"><a id="a4a489eccb3c6d6fdb0a5d8598fb4cb24"></a>
THD *&#160;</td><td class="memItemRight" valign="bottom"><b>thd</b></td></tr>
<tr class="separator:a4a489eccb3c6d6fdb0a5d8598fb4cb24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4273819fe43fe8d2e579e4e5551ef15b"><td class="memItemLeft" align="right" valign="top"><a id="a4273819fe43fe8d2e579e4e5551ef15b"></a>
<a class="el" href="class_string.html">String</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>packet</b></td></tr>
<tr class="separator:a4273819fe43fe8d2e579e4e5551ef15b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c80759f9d73f8e808d33fcf0d929ed4"><td class="memItemLeft" align="right" valign="top"><a id="a6c80759f9d73f8e808d33fcf0d929ed4"></a>
<a class="el" href="class_string.html">String</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>convert</b></td></tr>
<tr class="separator:a6c80759f9d73f8e808d33fcf0d929ed4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1125ff5dceb894868fb42b84308292fc"><td class="memItemLeft" align="right" valign="top"><a id="a1125ff5dceb894868fb42b84308292fc"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>field_pos</b></td></tr>
<tr class="separator:a1125ff5dceb894868fb42b84308292fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28ab5e08705a070db8d17cc9603c9ba3"><td class="memItemLeft" align="right" valign="top"><a id="a28ab5e08705a070db8d17cc9603c9ba3"></a>
enum enum_field_types *&#160;</td><td class="memItemRight" valign="bottom"><b>field_types</b></td></tr>
<tr class="separator:a28ab5e08705a070db8d17cc9603c9ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfa3b2651805ecd9617c67fa480c7bc6"><td class="memItemLeft" align="right" valign="top"><a id="abfa3b2651805ecd9617c67fa480c7bc6"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>field_count</b></td></tr>
<tr class="separator:abfa3b2651805ecd9617c67fa480c7bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aae91dd18398600c77b140227c83d1856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae91dd18398600c77b140227c83d1856">&#9670;&nbsp;</a></span>end_partial_result_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Protocol::end_partial_result_set </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd_arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Finish the result set with EOF packet, as is expected by the client, if there is an error evaluating the next row and a continue handler for the error. </p>

</div>
</div>
<a id="ad7803455271ceb98fed493698b6742e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7803455271ceb98fed493698b6742e8">&#9670;&nbsp;</a></span>end_statement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Protocol::end_statement </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send the status of the current statement execution over network.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>in fact, carries two parameters, NET for the transport and <a class="el" href="class_diagnostics__area.html">Diagnostics_area</a> as the source of status information.</td></tr>
  </table>
  </dd>
</dl>
<p>In MySQL, there are two types of SQL statements: those that return a result set and those that return status information only.</p>
<p>If a statement returns a result set, it consists of 3 parts:</p><ul>
<li>result set meta-data</li>
<li>variable number of result set rows (can be 0)</li>
<li>followed and terminated by EOF or ERROR packet</li>
</ul>
<p>Once the client has seen the meta-data information, it always expects an EOF or ERROR to terminate the result set. If ERROR is received, the result set rows are normally discarded (this is up to the client implementation, libmysql at least does discard them). EOF, on the contrary, means "successfully evaluated the entire
result set". Since we don't know how many rows belong to a result set until it's evaluated, EOF/ERROR is the indicator of the end of the row stream. Note, that we can not buffer result set rows on the server &ndash; there may be an arbitrary number of rows. But we do buffer the last packet (EOF/ERROR) in the <a class="el" href="class_diagnostics__area.html">Diagnostics_area</a> and delay sending it till the very end of execution (here), to be able to change EOF to an ERROR if commit failed or some other error occurred during the last cleanup steps taken after execution.</p>
<p>A statement that does not return a result set doesn't send result set meta-data either. Instead it returns one of:</p><ul>
<li>OK packet</li>
<li>ERROR packet. Similarly to the EOF/ERROR of the previous statement type, OK/ERROR packet is "buffered" in the diagnostics area and sent to the client in the end of statement.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This method defines a template, but delegates actual sending of data to virtual Protocol::send_{ok,eof,error}. This allows for implementation of protocols that "intercept" ok/eof/error messages, and store them in memory, etc, instead of sending to the client.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>The diagnostics area is assigned or disabled. It can not be empty &ndash; we assume that every SQL statement or COM_* command generates OK, ERROR, or EOF status.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The status information is encoded to protocol format and sent to the client.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>We conventionally return void, since the only type of error that can happen here is a NET (transport) error, and that one will become visible when we attempt to read from the NET the next command. Diagnostics_area::is_sent is set for debugging purposes only. </dd></dl>

</div>
</div>
<a id="a55983c51cff727144947b1167be7fa42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55983c51cff727144947b1167be7fa42">&#9670;&nbsp;</a></span>send_eof()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Protocol::send_eof </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>server_status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>statement_warn_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A default implementation of "EOF" packet response to the client.</p>
<p>Binary and text protocol do not differ in their EOF packet format. </p>

<p>Reimplemented in <a class="el" href="class_protocol__local.html#a1aad5312e410648afe13f0ba3d252e36">Protocol_local</a>.</p>

</div>
</div>
<a id="aaf28cdd43b19487bf2dfcd5d2b1a658b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf28cdd43b19487bf2dfcd5d2b1a658b">&#9670;&nbsp;</a></span>send_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Protocol::send_error </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>sql_errno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>err_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sql_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A default implementation of "ERROR" packet response to the client.</p>
<p>Binary and text protocol do not differ in ERROR packet format. </p>

<p>Reimplemented in <a class="el" href="class_protocol__local.html#a8f024e3c4a806e4e969ec452126f5769">Protocol_local</a>.</p>

</div>
</div>
<a id="a33fa9d654174211f7a88bca7a3b6dcd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33fa9d654174211f7a88bca7a3b6dcd2">&#9670;&nbsp;</a></span>send_ok()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Protocol::send_ok </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>server_status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>statement_warn_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulonglong&#160;</td>
          <td class="paramname"><em>affected_rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulonglong&#160;</td>
          <td class="paramname"><em>last_insert_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A default implementation of "OK" packet response to the client.</p>
<p>Currently this implementation is re-used by both network-oriented protocols &ndash; the binary and text one. They do not differ in their OK packet format, which allows for a significant simplification on client side. </p>

<p>Reimplemented in <a class="el" href="class_protocol__local.html#ace027ac8707dd2e774e1955319ffe615">Protocol_local</a>.</p>

</div>
</div>
<a id="a923f5ac0c240eee4c9df9b57b81bb573"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a923f5ac0c240eee4c9df9b57b81bb573">&#9670;&nbsp;</a></span>send_result_set_metadata()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Protocol::send_result_set_metadata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_list.html">List</a>&lt; <a class="el" href="class_item.html">Item</a> &gt; *&#160;</td>
          <td class="paramname"><em>list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Send name and type of result to client.</p>
<p>Sum fields has table name empty and field_name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">THD</td><td>Thread data object </td></tr>
    <tr><td class="paramname">list</td><td><a class="el" href="class_list.html">List</a> of items to send to client </td></tr>
    <tr><td class="paramname">flag</td><td>Bit mask with the following functions:<ul>
<li>1 send number of rows</li>
<li>2 send default values</li>
<li>4 don't write eof packet</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>ok </td></tr>
    <tr><td class="paramname">1</td><td>Error (Note that in this case the error is not sent to the client) </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="class_protocol__local.html#aac1bc029b516c21af35ff36d9058158e">Protocol_local</a>.</p>

</div>
</div>
<a id="ae3688318d4dfa274776c17795e6508c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3688318d4dfa274776c17795e6508c9">&#9670;&nbsp;</a></span>send_result_set_row()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Protocol::send_result_set_row </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_list.html">List</a>&lt; <a class="el" href="class_item.html">Item</a> &gt; *&#160;</td>
          <td class="paramname"><em>row_items</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send one result set row.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">row_items</td><td>a collection of column values for that row</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>Error. </td></tr>
    <tr><td class="paramname">FALSE</td><td>Success. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5e566a480bb065c46a1c3b1ca586189e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e566a480bb065c46a1c3b1ca586189e">&#9670;&nbsp;</a></span>store() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Protocol::store </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i___list.html">I_List</a>&lt; <a class="el" href="classi__string.html">i_string</a> &gt; *&#160;</td>
          <td class="paramname"><em>str_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a set of strings as one long string with ',' in between. </p>

</div>
</div>
<a id="ab3ada9a85e44e8878ee9fe61438bb605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3ada9a85e44e8878ee9fe61438bb605">&#9670;&nbsp;</a></span>store() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Protocol::store </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcharset__info__st.html">CHARSET_INFO</a> *&#160;</td>
          <td class="paramname"><em>cs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send \0 end terminated string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">from</td><td>NullS or \0 terminated string</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In most cases one should use store(from, length) instead of this function</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>ok </td></tr>
    <tr><td class="paramname">1</td><td>error </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9167f717a5f181eb7b25ce3509088441"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9167f717a5f181eb7b25ce3509088441">&#9670;&nbsp;</a></span>store_string_aux()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Protocol::store_string_aux </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcharset__info__st.html">CHARSET_INFO</a> *&#160;</td>
          <td class="paramname"><em>fromcs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structcharset__info__st.html">CHARSET_INFO</a> *&#160;</td>
          <td class="paramname"><em>tocs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Auxilary function to convert string to the given character set and store in network buffer. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/<a class="el" href="protocol_8h_source.html">protocol.h</a></li>
<li>sql/<a class="el" href="protocol_8cc.html">protocol.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
