<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: storage/innobase/sync/sync0arr.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_896ced0655a8426ac9535c34ff631e5f.html">sync</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sync0arr.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="sync0arr_8h_source.html">sync0arr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sync0sync_8h_source.html">sync0sync.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sync0rw_8h_source.html">sync0rw.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="os0sync_8h_source.html">os0sync.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="os0file_8h_source.html">os0file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lock0lock_8h_source.html">lock0lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0srv_8h_source.html">srv0srv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ha__prototypes_8h_source.html">ha_prototypes.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsync__cell__t.html">sync_cell_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsync__array__t.html">sync_array_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af898dc3259a8407770c4b1b15df15c56"><td class="memItemLeft" align="right" valign="top"><a id="af898dc3259a8407770c4b1b15df15c56"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SYNC_ARRAY_TIMEOUT</b>&#160;&#160;&#160;240</td></tr>
<tr class="separator:af898dc3259a8407770c4b1b15df15c56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4eb4a5f0db639d22a676da75fb199f41"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structsync__cell__t.html">sync_cell_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a4eb4a5f0db639d22a676da75fb199f41">sync_array_get_nth_cell</a> (<a class="el" href="structsync__array__t.html">sync_array_t</a> *arr, ulint <a class="el" href="srv0start_8cc.html#a2600c8257a9de5721a19ec363ee4c09e">n</a>)</td></tr>
<tr class="separator:a4eb4a5f0db639d22a676da75fb199f41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9598ad4f04b8de9049efd142d64f5145"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a9598ad4f04b8de9049efd142d64f5145">sync_array_enter</a> (<a class="el" href="structsync__array__t.html">sync_array_t</a> *arr)</td></tr>
<tr class="separator:a9598ad4f04b8de9049efd142d64f5145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96823c51a60f01afc8f16448409dd3fc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a96823c51a60f01afc8f16448409dd3fc">sync_array_exit</a> (<a class="el" href="structsync__array__t.html">sync_array_t</a> *arr)</td></tr>
<tr class="separator:a96823c51a60f01afc8f16448409dd3fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab82254cc2b06d436a479bae1fff77a7b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structsync__array__t.html">sync_array_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#ab82254cc2b06d436a479bae1fff77a7b">sync_array_create</a> (ulint n_cells)</td></tr>
<tr class="separator:ab82254cc2b06d436a479bae1fff77a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9287c3d96b407d042cf5131bc722194a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a9287c3d96b407d042cf5131bc722194a">sync_array_free</a> (<a class="el" href="structsync__array__t.html">sync_array_t</a> *arr)</td></tr>
<tr class="separator:a9287c3d96b407d042cf5131bc722194a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d8c4d56bd2c8f4403a782c8ee5dfd71"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a5d8c4d56bd2c8f4403a782c8ee5dfd71">sync_array_validate</a> (<a class="el" href="structsync__array__t.html">sync_array_t</a> *arr)</td></tr>
<tr class="separator:a5d8c4d56bd2c8f4403a782c8ee5dfd71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09ff9891be647add3be56760a880d96f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="os0sync_8h.html#ae24909be432e4a95bd956a707e4d1d20">os_event_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a09ff9891be647add3be56760a880d96f">sync_cell_get_event</a> (<a class="el" href="structsync__cell__t.html">sync_cell_t</a> *cell)</td></tr>
<tr class="separator:a09ff9891be647add3be56760a880d96f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7905f8df293f122783bfd1071067d50"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#ae7905f8df293f122783bfd1071067d50">sync_array_reserve_cell</a> (<a class="el" href="structsync__array__t.html">sync_array_t</a> *arr, void *object, ulint <a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>, const char *<a class="el" href="row0quiesce_8cc.html#a702945180aa732857b380a007a7e2a21">file</a>, ulint line, ulint *<a class="el" href="row0upd_8cc.html#a4ddeaa41a4dab23a7eaa06ee52e4522b">index</a>)</td></tr>
<tr class="separator:ae7905f8df293f122783bfd1071067d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fdf80f2a3f4036670fe332c38711030"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a3fdf80f2a3f4036670fe332c38711030">sync_array_wait_event</a> (<a class="el" href="structsync__array__t.html">sync_array_t</a> *arr, ulint <a class="el" href="row0upd_8cc.html#a4ddeaa41a4dab23a7eaa06ee52e4522b">index</a>)</td></tr>
<tr class="separator:a3fdf80f2a3f4036670fe332c38711030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14713434dddb6d6970709c7ec87a21a3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a14713434dddb6d6970709c7ec87a21a3">sync_array_cell_print</a> (FILE *<a class="el" href="row0quiesce_8cc.html#a702945180aa732857b380a007a7e2a21">file</a>, <a class="el" href="structsync__cell__t.html">sync_cell_t</a> *cell)</td></tr>
<tr class="separator:a14713434dddb6d6970709c7ec87a21a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af96712d8cf606f635ab6b9948a43b42a"><td class="memItemLeft" align="right" valign="top">static ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#af96712d8cf606f635ab6b9948a43b42a">sync_arr_cell_can_wake_up</a> (<a class="el" href="structsync__cell__t.html">sync_cell_t</a> *cell)</td></tr>
<tr class="separator:af96712d8cf606f635ab6b9948a43b42a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74072ff39e7d9d49fcd56b5d7cfe716e"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a74072ff39e7d9d49fcd56b5d7cfe716e">sync_array_free_cell</a> (<a class="el" href="structsync__array__t.html">sync_array_t</a> *arr, ulint <a class="el" href="row0upd_8cc.html#a4ddeaa41a4dab23a7eaa06ee52e4522b">index</a>)</td></tr>
<tr class="separator:a74072ff39e7d9d49fcd56b5d7cfe716e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a136a5980f17a2bcc44f264115e572247"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a136a5980f17a2bcc44f264115e572247">sync_array_object_signalled</a> (void)</td></tr>
<tr class="separator:a136a5980f17a2bcc44f264115e572247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1933c96e9ca14770d3b8834d0238fa43"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a1933c96e9ca14770d3b8834d0238fa43">sync_array_wake_threads_if_sema_free_low</a> (<a class="el" href="structsync__array__t.html">sync_array_t</a> *arr)</td></tr>
<tr class="separator:a1933c96e9ca14770d3b8834d0238fa43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63c59555400d611b0e377942612a10d0"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a63c59555400d611b0e377942612a10d0">sync_arr_wake_threads_if_sema_free</a> (void)</td></tr>
<tr class="separator:a63c59555400d611b0e377942612a10d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bb6bbe02ef739893858923a2adfa4a2"><td class="memItemLeft" align="right" valign="top">static ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a1bb6bbe02ef739893858923a2adfa4a2">sync_array_print_long_waits_low</a> (<a class="el" href="structsync__array__t.html">sync_array_t</a> *arr, <a class="el" href="os0thread_8h.html#a0e87ca653f4358a387e610ee5c542f74">os_thread_id_t</a> *waiter, const void **sema, ibool *noticed)</td></tr>
<tr class="separator:a1bb6bbe02ef739893858923a2adfa4a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaa9fb39f1926297b3b82090f493b894"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#abaa9fb39f1926297b3b82090f493b894">sync_array_print_long_waits</a> (<a class="el" href="os0thread_8h.html#a0e87ca653f4358a387e610ee5c542f74">os_thread_id_t</a> *waiter, const void **sema)</td></tr>
<tr class="separator:abaa9fb39f1926297b3b82090f493b894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c86fb11dbbd01a1c64b9edf194f20bc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a4c86fb11dbbd01a1c64b9edf194f20bc">sync_array_print_info_low</a> (FILE *<a class="el" href="row0quiesce_8cc.html#a702945180aa732857b380a007a7e2a21">file</a>, <a class="el" href="structsync__array__t.html">sync_array_t</a> *arr)</td></tr>
<tr class="separator:a4c86fb11dbbd01a1c64b9edf194f20bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75d7e7a943540f19706b994bacb21e3b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a75d7e7a943540f19706b994bacb21e3b">sync_array_print_info</a> (FILE *<a class="el" href="row0quiesce_8cc.html#a702945180aa732857b380a007a7e2a21">file</a>, <a class="el" href="structsync__array__t.html">sync_array_t</a> *arr)</td></tr>
<tr class="separator:a75d7e7a943540f19706b994bacb21e3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2f1d0d6da6b67f04bb4c8b687c52911"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#ae2f1d0d6da6b67f04bb4c8b687c52911">sync_array_init</a> (ulint n_threads)</td></tr>
<tr class="separator:ae2f1d0d6da6b67f04bb4c8b687c52911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1fb04100e042c963a6637695a8bb329"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#ad1fb04100e042c963a6637695a8bb329">sync_array_close</a> (void)</td></tr>
<tr class="separator:ad1fb04100e042c963a6637695a8bb329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebdb84e90e504ac199cc908a94f96962"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#aebdb84e90e504ac199cc908a94f96962">sync_array_print</a> (FILE *<a class="el" href="row0quiesce_8cc.html#a702945180aa732857b380a007a7e2a21">file</a>)</td></tr>
<tr class="separator:aebdb84e90e504ac199cc908a94f96962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a818e0a7d2272a2bc4b529450359d9274"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structsync__array__t.html">sync_array_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a818e0a7d2272a2bc4b529450359d9274">sync_array_get</a> (void)</td></tr>
<tr class="separator:a818e0a7d2272a2bc4b529450359d9274"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adc12a59096446c58491bf420c11f1533"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN ulong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#adc12a59096446c58491bf420c11f1533">srv_sync_array_size</a> = 32</td></tr>
<tr class="separator:adc12a59096446c58491bf420c11f1533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af731a06bf999fe5aba7da5595d5e67a1"><td class="memItemLeft" align="right" valign="top">static ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#af731a06bf999fe5aba7da5595d5e67a1">sync_array_size</a></td></tr>
<tr class="separator:af731a06bf999fe5aba7da5595d5e67a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12e4af5f409646fd5125d22aac61e93f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structsync__array__t.html">sync_array_t</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a12e4af5f409646fd5125d22aac61e93f">sync_wait_array</a></td></tr>
<tr class="separator:a12e4af5f409646fd5125d22aac61e93f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ca059245f4fae14884ed5dabe2969ed"><td class="memItemLeft" align="right" valign="top">static ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sync0arr_8cc.html#a0ca059245f4fae14884ed5dabe2969ed">sg_count</a></td></tr>
<tr class="separator:a0ca059245f4fae14884ed5dabe2969ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The wait array used in synchronization primitives</p>
<p>Created 9/5/1995 Heikki Tuuri </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af96712d8cf606f635ab6b9948a43b42a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af96712d8cf606f635ab6b9948a43b42a">&#9670;&nbsp;</a></span>sync_arr_cell_can_wake_up()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ibool sync_arr_cell_can_wake_up </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsync__cell__t.html">sync_cell_t</a> *&#160;</td>
          <td class="paramname"><em>cell</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determines if we can wake up the thread waiting for a sempahore. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cell</td><td>in: cell to search </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a63c59555400d611b0e377942612a10d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63c59555400d611b0e377942612a10d0">&#9670;&nbsp;</a></span>sync_arr_wake_threads_if_sema_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void sync_arr_wake_threads_if_sema_free </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If the wakeup algorithm does not work perfectly at semaphore relases, this function will do the waking (see the comment in mutex_exit). This function should be called about every 1 second in the server.</p>
<p>Note that there's a race condition between this thread and mutex_exit changing the lock_word and calling signal_object, so sometimes this finds threads to wake up even when nothing has gone wrong. </p>

</div>
</div>
<a id="a14713434dddb6d6970709c7ec87a21a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14713434dddb6d6970709c7ec87a21a3">&#9670;&nbsp;</a></span>sync_array_cell_print()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sync_array_cell_print </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsync__cell__t.html">sync_cell_t</a> *&#160;</td>
          <td class="paramname"><em>cell</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reports info of a wait array cell. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>in: file where to print </td></tr>
    <tr><td class="paramname">cell</td><td>in: sync cell </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad1fb04100e042c963a6637695a8bb329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1fb04100e042c963a6637695a8bb329">&#9670;&nbsp;</a></span>sync_array_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void sync_array_close </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close sync array wait sub-system. </p>

</div>
</div>
<a id="ab82254cc2b06d436a479bae1fff77a7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab82254cc2b06d436a479bae1fff77a7b">&#9670;&nbsp;</a></span>sync_array_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structsync__array__t.html">sync_array_t</a>* sync_array_create </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n_cells</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a synchronization wait array. It is protected by a mutex which is automatically reserved when the functions operating on it are called. </p><dl class="section return"><dt>Returns</dt><dd>own: created wait array </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n_cells</td><td>in: number of cells in the array to create </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9598ad4f04b8de9049efd142d64f5145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9598ad4f04b8de9049efd142d64f5145">&#9670;&nbsp;</a></span>sync_array_enter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sync_array_enter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsync__array__t.html">sync_array_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reserves the mutex semaphore protecting a sync array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>in: sync wait array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a96823c51a60f01afc8f16448409dd3fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96823c51a60f01afc8f16448409dd3fc">&#9670;&nbsp;</a></span>sync_array_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sync_array_exit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsync__array__t.html">sync_array_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Releases the mutex semaphore protecting a sync array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>in: sync wait array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9287c3d96b407d042cf5131bc722194a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9287c3d96b407d042cf5131bc722194a">&#9670;&nbsp;</a></span>sync_array_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sync_array_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsync__array__t.html">sync_array_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Frees the resources in a wait array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>in, own: sync wait array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a74072ff39e7d9d49fcd56b5d7cfe716e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74072ff39e7d9d49fcd56b5d7cfe716e">&#9670;&nbsp;</a></span>sync_array_free_cell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void sync_array_free_cell </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsync__array__t.html">sync_array_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Frees the cell. NOTE! sync_array_wait_event frees the cell automatically! </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>in: wait array </td></tr>
    <tr><td class="paramname">index</td><td>in: index of the cell in array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a818e0a7d2272a2bc4b529450359d9274"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a818e0a7d2272a2bc4b529450359d9274">&#9670;&nbsp;</a></span>sync_array_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structsync__array__t.html">sync_array_t</a>* sync_array_get </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get an instance of the sync wait array. </p>

</div>
</div>
<a id="a4eb4a5f0db639d22a676da75fb199f41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4eb4a5f0db639d22a676da75fb199f41">&#9670;&nbsp;</a></span>sync_array_get_nth_cell()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structsync__cell__t.html">sync_cell_t</a>* sync_array_get_nth_cell </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsync__array__t.html">sync_array_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the nth cell in array. </p><dl class="section return"><dt>Returns</dt><dd>cell </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>in: sync array </td></tr>
    <tr><td class="paramname">n</td><td>in: index </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae2f1d0d6da6b67f04bb4c8b687c52911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2f1d0d6da6b67f04bb4c8b687c52911">&#9670;&nbsp;</a></span>sync_array_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void sync_array_init </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>n_threads</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create the primary system wait array(s), they are protected by an OS mutex </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n_threads</td><td>in: Number of slots to create in all arrays </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a136a5980f17a2bcc44f264115e572247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a136a5980f17a2bcc44f264115e572247">&#9670;&nbsp;</a></span>sync_array_object_signalled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void sync_array_object_signalled </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Increments the signalled count. </p>

</div>
</div>
<a id="aebdb84e90e504ac199cc908a94f96962"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebdb84e90e504ac199cc908a94f96962">&#9670;&nbsp;</a></span>sync_array_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void sync_array_print </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print info about the sync array(s). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>in/out: Print to this stream </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a75d7e7a943540f19706b994bacb21e3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75d7e7a943540f19706b994bacb21e3b">&#9670;&nbsp;</a></span>sync_array_print_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sync_array_print_info </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsync__array__t.html">sync_array_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prints info of the wait array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>in: file where to print </td></tr>
    <tr><td class="paramname">arr</td><td>in: wait array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4c86fb11dbbd01a1c64b9edf194f20bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c86fb11dbbd01a1c64b9edf194f20bc">&#9670;&nbsp;</a></span>sync_array_print_info_low()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sync_array_print_info_low </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsync__array__t.html">sync_array_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prints info of the wait array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>in: file where to print </td></tr>
    <tr><td class="paramname">arr</td><td>in: wait array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abaa9fb39f1926297b3b82090f493b894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaa9fb39f1926297b3b82090f493b894">&#9670;&nbsp;</a></span>sync_array_print_long_waits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN ibool sync_array_print_long_waits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="os0thread_8h.html#a0e87ca653f4358a387e610ee5c542f74">os_thread_id_t</a> *&#160;</td>
          <td class="paramname"><em>waiter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void **&#160;</td>
          <td class="paramname"><em>sema</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints warnings of long semaphore waits to stderr. </p><dl class="section return"><dt>Returns</dt><dd>TRUE if fatal semaphore wait threshold was exceeded </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">waiter</td><td>out: longest waiting thread </td></tr>
    <tr><td class="paramname">sema</td><td>out: longest-waited-for semaphore </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1bb6bbe02ef739893858923a2adfa4a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bb6bbe02ef739893858923a2adfa4a2">&#9670;&nbsp;</a></span>sync_array_print_long_waits_low()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ibool sync_array_print_long_waits_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsync__array__t.html">sync_array_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="os0thread_8h.html#a0e87ca653f4358a387e610ee5c542f74">os_thread_id_t</a> *&#160;</td>
          <td class="paramname"><em>waiter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void **&#160;</td>
          <td class="paramname"><em>sema</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ibool *&#160;</td>
          <td class="paramname"><em>noticed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Prints warnings of long semaphore waits to stderr. </p><dl class="section return"><dt>Returns</dt><dd>TRUE if fatal semaphore wait threshold was exceeded </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>in: sync array instance </td></tr>
    <tr><td class="paramname">waiter</td><td>out: longest waiting thread </td></tr>
    <tr><td class="paramname">sema</td><td>out: longest-waited-for semaphore </td></tr>
    <tr><td class="paramname">noticed</td><td>out: TRUE if long wait noticed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae7905f8df293f122783bfd1071067d50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7905f8df293f122783bfd1071067d50">&#9670;&nbsp;</a></span>sync_array_reserve_cell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN bool sync_array_reserve_cell </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsync__array__t.html">sync_array_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint *&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reserves a wait array cell for waiting for an object. The event of the cell is reset to nonsignalled state. </p><dl class="section return"><dt>Returns</dt><dd>true if free cell is found, otherwise false </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>in: wait array </td></tr>
    <tr><td class="paramname">object</td><td>in: pointer to the object to wait for </td></tr>
    <tr><td class="paramname">type</td><td>in: lock request type </td></tr>
    <tr><td class="paramname">file</td><td>in: file where requested </td></tr>
    <tr><td class="paramname">line</td><td>in: line where requested </td></tr>
    <tr><td class="paramname">index</td><td>out: index of the reserved cell </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5d8c4d56bd2c8f4403a782c8ee5dfd71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d8c4d56bd2c8f4403a782c8ee5dfd71">&#9670;&nbsp;</a></span>sync_array_validate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void sync_array_validate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsync__array__t.html">sync_array_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Validates the integrity of the wait array. Checks that the number of reserved cells equals the count variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>in: sync wait array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3fdf80f2a3f4036670fe332c38711030"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fdf80f2a3f4036670fe332c38711030">&#9670;&nbsp;</a></span>sync_array_wait_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void sync_array_wait_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsync__array__t.html">sync_array_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function should be called when a thread starts to wait on a wait array cell. In the debug version this function checks if the wait for a semaphore will result in a deadlock, in which case prints info and asserts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">arr</td><td>in: wait array </td></tr>
    <tr><td class="paramname">index</td><td>in: index of the reserved cell </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1933c96e9ca14770d3b8834d0238fa43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1933c96e9ca14770d3b8834d0238fa43">&#9670;&nbsp;</a></span>sync_array_wake_threads_if_sema_free_low()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void sync_array_wake_threads_if_sema_free_low </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsync__array__t.html">sync_array_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If the wakeup algorithm does not work perfectly at semaphore relases, this function will do the waking (see the comment in mutex_exit). This function should be called about every 1 second in the server.</p>
<p>Note that there's a race condition between this thread and mutex_exit changing the lock_word and calling signal_object, so sometimes this finds threads to wake up even when nothing has gone wrong. </p>

</div>
</div>
<a id="a09ff9891be647add3be56760a880d96f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09ff9891be647add3be56760a880d96f">&#9670;&nbsp;</a></span>sync_cell_get_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="os0sync_8h.html#ae24909be432e4a95bd956a707e4d1d20">os_event_t</a> sync_cell_get_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structsync__cell__t.html">sync_cell_t</a> *&#160;</td>
          <td class="paramname"><em>cell</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the event that the thread owning the cell waits for. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cell</td><td>in: non-empty sync array cell </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0ca059245f4fae14884ed5dabe2969ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ca059245f4fae14884ed5dabe2969ed">&#9670;&nbsp;</a></span>sg_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ulint sg_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>count of how many times an object has been signalled </p>

</div>
</div>
<a id="adc12a59096446c58491bf420c11f1533"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc12a59096446c58491bf420c11f1533">&#9670;&nbsp;</a></span>srv_sync_array_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN ulong srv_sync_array_size = 32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>User configured sync array size </p>

</div>
</div>
<a id="af731a06bf999fe5aba7da5595d5e67a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af731a06bf999fe5aba7da5595d5e67a1">&#9670;&nbsp;</a></span>sync_array_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ulint sync_array_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Locally stored copy of srv_sync_array_size </p>

</div>
</div>
<a id="a12e4af5f409646fd5125d22aac61e93f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12e4af5f409646fd5125d22aac61e93f">&#9670;&nbsp;</a></span>sync_wait_array</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsync__array__t.html">sync_array_t</a>** sync_wait_array</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The global array of wait cells for implementation of the database's own mutexes and read-write locks </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
