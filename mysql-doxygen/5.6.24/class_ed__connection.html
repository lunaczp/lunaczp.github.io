<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: Ed_connection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="class_ed__connection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Ed_connection Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a31ae0e49095b5784dcccc495d6e2bcfe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ed__connection.html#a31ae0e49095b5784dcccc495d6e2bcfe">Ed_connection</a> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>)</td></tr>
<tr class="separator:a31ae0e49095b5784dcccc495d6e2bcfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f9da6381da4bc1455d7f22d1620d2d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ed__connection.html#a58f9da6381da4bc1455d7f22d1620d2d">execute_direct</a> (<a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a> sql_text)</td></tr>
<tr class="separator:a58f9da6381da4bc1455d7f22d1620d2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd0499324ba204c8a00480a3706c5bfb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ed__connection.html#afd0499324ba204c8a00480a3706c5bfb">execute_direct</a> (<a class="el" href="class_server__runnable.html">Server_runnable</a> *server_runnable)</td></tr>
<tr class="separator:afd0499324ba204c8a00480a3706c5bfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1993c3172b8591f8e0e36934be6f67e9"><td class="memItemLeft" align="right" valign="top">ulong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ed__connection.html#a1993c3172b8591f8e0e36934be6f67e9">get_field_count</a> () const</td></tr>
<tr class="separator:a1993c3172b8591f8e0e36934be6f67e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afba697853fd865d59c2bfbf851e926fe"><td class="memItemLeft" align="right" valign="top">ulonglong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ed__connection.html#afba697853fd865d59c2bfbf851e926fe">get_affected_rows</a> () const</td></tr>
<tr class="separator:afba697853fd865d59c2bfbf851e926fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a3a3b208a58521911bddc57732cecc7"><td class="memItemLeft" align="right" valign="top">ulonglong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ed__connection.html#a5a3a3b208a58521911bddc57732cecc7">get_last_insert_id</a> () const</td></tr>
<tr class="separator:a5a3a3b208a58521911bddc57732cecc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc2fcf1d521b29f06621fc01714b69a0"><td class="memItemLeft" align="right" valign="top">ulong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ed__connection.html#afc2fcf1d521b29f06621fc01714b69a0">get_warn_count</a> () const</td></tr>
<tr class="separator:afc2fcf1d521b29f06621fc01714b69a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a420c219d0c2e058af3666076a2bfaa17"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ed__connection.html#a420c219d0c2e058af3666076a2bfaa17">get_last_error</a> () const</td></tr>
<tr class="separator:a420c219d0c2e058af3666076a2bfaa17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56622fa194cb3ccee12bcd9bf7bedd5e"><td class="memItemLeft" align="right" valign="top"><a id="a56622fa194cb3ccee12bcd9bf7bedd5e"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>get_last_errno</b> () const</td></tr>
<tr class="separator:a56622fa194cb3ccee12bcd9bf7bedd5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff7bcb2c3a704ee97bfd58ffe17a9802"><td class="memItemLeft" align="right" valign="top"><a id="aff7bcb2c3a704ee97bfd58ffe17a9802"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>get_last_sqlstate</b> () const</td></tr>
<tr class="separator:aff7bcb2c3a704ee97bfd58ffe17a9802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9b5405ab89c8dc49082adf1a3be3354"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_ed__result__set.html">Ed_result_set</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ed__connection.html#ab9b5405ab89c8dc49082adf1a3be3354">use_result_set</a> ()</td></tr>
<tr class="separator:ab9b5405ab89c8dc49082adf1a3be3354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad80317ac21aa245c7a0d1162ac98b264"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_ed__result__set.html">Ed_result_set</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ed__connection.html#ad80317ac21aa245c7a0d1162ac98b264">store_result_set</a> ()</td></tr>
<tr class="separator:ad80317ac21aa245c7a0d1162ac98b264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f1e1b950bf2e7c332e73579f1a2fd51"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ed__connection.html#a6f1e1b950bf2e7c332e73579f1a2fd51">has_next_result</a> () const</td></tr>
<tr class="separator:a6f1e1b950bf2e7c332e73579f1a2fd51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4c7282bcb1c1fdf2fa966a2106c71bd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ed__connection.html#aa4c7282bcb1c1fdf2fa966a2106c71bd">move_to_next_result</a> ()</td></tr>
<tr class="separator:aa4c7282bcb1c1fdf2fa966a2106c71bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aca79ba4eb4fd9fc19c52f62fe338b273"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ed__connection.html#aca79ba4eb4fd9fc19c52f62fe338b273">free_old_result</a> ()</td></tr>
<tr class="separator:aca79ba4eb4fd9fc19c52f62fe338b273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd64bfde5f2711fa24c6b8eeab070ab3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ed__connection.html#afd64bfde5f2711fa24c6b8eeab070ab3">add_result_set</a> (<a class="el" href="class_ed__result__set.html">Ed_result_set</a> *ed_result_set)</td></tr>
<tr class="separator:afd64bfde5f2711fa24c6b8eeab070ab3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98874b920cc378c3869c55c95a40df0a"><td class="memItemLeft" align="right" valign="top"><a id="a98874b920cc378c3869c55c95a40df0a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Ed_connection</b> (const <a class="el" href="class_ed__connection.html">Ed_connection</a> &amp;)</td></tr>
<tr class="separator:a98874b920cc378c3869c55c95a40df0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d1ea5abc03538f81a89315e44302778"><td class="memItemLeft" align="right" valign="top"><a id="a2d1ea5abc03538f81a89315e44302778"></a>
<a class="el" href="class_ed__connection.html">Ed_connection</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="class_ed__connection.html">Ed_connection</a> &amp;)</td></tr>
<tr class="separator:a2d1ea5abc03538f81a89315e44302778"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0d5f18d0fade27f69e09b5ca3ce6b925"><td class="memItemLeft" align="right" valign="top"><a id="a0d5f18d0fade27f69e09b5ca3ce6b925"></a>
<a class="el" href="class_diagnostics__area.html">Diagnostics_area</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_diagnostics_area</b></td></tr>
<tr class="separator:a0d5f18d0fade27f69e09b5ca3ce6b925"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae078d58407600d3ab5685c4646123434"><td class="memItemLeft" align="right" valign="top">THD *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ed__connection.html#ae078d58407600d3ab5685c4646123434">m_thd</a></td></tr>
<tr class="separator:ae078d58407600d3ab5685c4646123434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33aadb6f64d6c753191508b6cdf14637"><td class="memItemLeft" align="right" valign="top"><a id="a33aadb6f64d6c753191508b6cdf14637"></a>
<a class="el" href="class_ed__result__set.html">Ed_result_set</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>m_rsets</b></td></tr>
<tr class="separator:a33aadb6f64d6c753191508b6cdf14637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de0c65ae67d5dc20a3afb776cfa60c5"><td class="memItemLeft" align="right" valign="top"><a id="a5de0c65ae67d5dc20a3afb776cfa60c5"></a>
<a class="el" href="class_ed__result__set.html">Ed_result_set</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>m_current_rset</b></td></tr>
<tr class="separator:a5de0c65ae67d5dc20a3afb776cfa60c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a9c7f8d2a3f98c0505dc714383b23aecd"><td class="memItemLeft" align="right" valign="top"><a id="a9c7f8d2a3f98c0505dc714383b23aecd"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>Protocol_local</b></td></tr>
<tr class="separator:a9c7f8d2a3f98c0505dc714383b23aecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a31ae0e49095b5784dcccc495d6e2bcfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31ae0e49095b5784dcccc495d6e2bcfe">&#9670;&nbsp;</a></span>Ed_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ed_connection::Ed_connection </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct a new "execute direct" connection.</p>
<p>The connection can be used to execute SQL statements. If the connection failed to initialize, the error will be returned on the attempt to execute a statement.</p>
<dl class="section pre"><dt>Precondition</dt><dd>thd must have no open tables while the connection is used. However, <a class="el" href="class_ed__connection.html">Ed_connection</a> works okay in LOCK TABLES mode. Other properties of THD, such as the current warning information, errors, etc. do not matter and are preserved by <a class="el" href="class_ed__connection.html">Ed_connection</a>. One thread may have many Ed_connections created for it.</dd></dl>
<p>Create a new "execute direct" connection. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afd64bfde5f2711fa24c6b8eeab070ab3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd64bfde5f2711fa24c6b8eeab070ab3">&#9670;&nbsp;</a></span>add_result_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Ed_connection::add_result_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_ed__result__set.html">Ed_result_set</a> *&#160;</td>
          <td class="paramname"><em>ed_result_set</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A helper method that is called only during execution.</p>
<p>Although <a class="el" href="class_ed__connection.html">Ed_connection</a> doesn't support multi-statements, a statement may generate many result sets. All subsequent result sets are appended to the end.</p>
<dl class="section pre"><dt>Precondition</dt><dd>This is called only by <a class="el" href="class_protocol__local.html">Protocol_local</a>. </dd></dl>

</div>
</div>
<a id="a58f9da6381da4bc1455d7f22d1620d2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58f9da6381da4bc1455d7f22d1620d2d">&#9670;&nbsp;</a></span>execute_direct() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Ed_connection::execute_direct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a>&#160;</td>
          <td class="paramname"><em>sql_text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Execute one SQL statement.</p>
<p>Until this method is executed, no other methods of <a class="el" href="class_ed__connection.html">Ed_connection</a> can be used. Life cycle of <a class="el" href="class_ed__connection.html">Ed_connection</a> is:</p>
<p>Initialized -&gt; a statement has been executed -&gt; look at result, move to next result -&gt; look at result, move to next result -&gt; ... moved beyond the last result == Initialized.</p>
<p>This method can be called repeatedly. Once it's invoked, results of the previous execution are lost.</p>
<p>A result of <a class="el" href="class_ed__connection.html#a58f9da6381da4bc1455d7f22d1620d2d">execute_direct()</a> can be either:</p>
<ul>
<li>success, no result set rows. In this case <a class="el" href="class_ed__connection.html#a1993c3172b8591f8e0e36934be6f67e9">get_field_count()</a> returns 0. This happens after execution of INSERT, UPDATE, DELETE, DROP and similar statements. Some other methods, such as <a class="el" href="class_ed__connection.html#afba697853fd865d59c2bfbf851e926fe">get_affected_rows()</a> can be used to retrieve additional result information.</li>
<li>success, there are some result set rows (maybe 0). E.g. happens after SELECT. In this case <a class="el" href="class_ed__connection.html#a1993c3172b8591f8e0e36934be6f67e9">get_field_count()</a> returns the number of columns in a result set and store_result() can be used to retrieve a result set..</li>
<li>an error, methods to retrieve error information can be used.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>execution status </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FALSE</td><td>success, use <a class="el" href="class_ed__connection.html#a1993c3172b8591f8e0e36934be6f67e9">get_field_count()</a> to determine what to do next. </td></tr>
    <tr><td class="paramname">TRUE</td><td>error, use <a class="el" href="class_ed__connection.html#a420c219d0c2e058af3666076a2bfaa17">get_last_error()</a> to see the error number.</td></tr>
  </table>
  </dd>
</dl>
<p>A simple wrapper that uses a helper class to execute SQL statements. </p>

</div>
</div>
<a id="afd0499324ba204c8a00480a3706c5bfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd0499324ba204c8a00480a3706c5bfb">&#9670;&nbsp;</a></span>execute_direct() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Ed_connection::execute_direct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_server__runnable.html">Server_runnable</a> *&#160;</td>
          <td class="paramname"><em>server_runnable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Same as the previous, but takes an instance of <a class="el" href="class_server__runnable.html">Server_runnable</a> instead of SQL statement text.</p>
<dl class="section return"><dt>Returns</dt><dd>execution status</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FALSE</td><td>success, use <a class="el" href="class_ed__connection.html#a1993c3172b8591f8e0e36934be6f67e9">get_field_count()</a> if your code fragment is supposed to return a result set </td></tr>
    <tr><td class="paramname">TRUE</td><td>failure</td></tr>
  </table>
  </dd>
</dl>
<p>Execute a fragment of server functionality without an effect on thd, and store results in memory.</p>
<p>Conventions:</p><ul>
<li>the code fragment must finish with OK, EOF or ERROR.</li>
<li>the code fragment doesn't have to close thread tables, free memory, commit statement transaction or do any other cleanup that is normally done in the end of <a class="el" href="group___runtime___environment.html#ga3ee16ca35fd31e7babfd4afbe8a5914f">dispatch_command()</a>.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">server_runnable</td><td>A code fragment to execute. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aca79ba4eb4fd9fc19c52f62fe338b273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca79ba4eb4fd9fc19c52f62fe338b273">&#9670;&nbsp;</a></span>free_old_result()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Ed_connection::free_old_result </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Free all result sets of the previous statement, if any, and reset warnings and errors.</p>
<p>Called before execution of the next query. </p>

</div>
</div>
<a id="afba697853fd865d59c2bfbf851e926fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afba697853fd865d59c2bfbf851e926fe">&#9670;&nbsp;</a></span>get_affected_rows()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ulonglong Ed_connection::get_affected_rows </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the number of affected (deleted, updated) rows for the current statement. Can be used for statements with <a class="el" href="class_ed__connection.html#a1993c3172b8591f8e0e36934be6f67e9">get_field_count()</a> == 0.</p>
<dl class="section see"><dt>See also</dt><dd>Documentation for C API function mysql_affected_rows(). </dd></dl>

</div>
</div>
<a id="a1993c3172b8591f8e0e36934be6f67e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1993c3172b8591f8e0e36934be6f67e9">&#9670;&nbsp;</a></span>get_field_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ulong Ed_connection::get_field_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the number of result set fields.</p>
<p>This method is valid only if we have a result: <a class="el" href="class_ed__connection.html#a58f9da6381da4bc1455d7f22d1620d2d">execute_direct()</a> has been called. Otherwise the returned value is undefined.</p>
<dl class="section see"><dt>See also</dt><dd>Documentation for C API function mysql_field_count() </dd></dl>

</div>
</div>
<a id="a420c219d0c2e058af3666076a2bfaa17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a420c219d0c2e058af3666076a2bfaa17">&#9670;&nbsp;</a></span>get_last_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* Ed_connection::get_last_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The following members are only valid if <a class="el" href="class_ed__connection.html#a58f9da6381da4bc1455d7f22d1620d2d">execute_direct()</a> or <a class="el" href="class_ed__connection.html#aa4c7282bcb1c1fdf2fa966a2106c71bd">move_to_next_result()</a> returned an error. They never fail, but if they are called when there is no result, or no error, the result is not defined. </p>

</div>
</div>
<a id="a5a3a3b208a58521911bddc57732cecc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a3a3b208a58521911bddc57732cecc7">&#9670;&nbsp;</a></span>get_last_insert_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ulonglong Ed_connection::get_last_insert_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the last insert id, if any.</p>
<dl class="section see"><dt>See also</dt><dd>Documentation for mysql_insert_id(). </dd></dl>

</div>
</div>
<a id="afc2fcf1d521b29f06621fc01714b69a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc2fcf1d521b29f06621fc01714b69a0">&#9670;&nbsp;</a></span>get_warn_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ulong Ed_connection::get_warn_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the total number of warnings for the last executed statement. Note, that there is only one warning list even if a statement returns multiple results.</p>
<dl class="section see"><dt>See also</dt><dd>Documentation for C API function mysql_num_warnings(). </dd></dl>

</div>
</div>
<a id="a6f1e1b950bf2e7c332e73579f1a2fd51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f1e1b950bf2e7c332e73579f1a2fd51">&#9670;&nbsp;</a></span>has_next_result()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Ed_connection::has_next_result </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If the query returns multiple results, this method can be checked if there is another result beyond the next one. Never fails. </p>

</div>
</div>
<a id="aa4c7282bcb1c1fdf2fa966a2106c71bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4c7282bcb1c1fdf2fa966a2106c71bd">&#9670;&nbsp;</a></span>move_to_next_result()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Ed_connection::move_to_next_result </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Only valid to call if <a class="el" href="class_ed__connection.html#a6f1e1b950bf2e7c332e73579f1a2fd51">has_next_result()</a> returned true. Otherwise the result is undefined. </p>

</div>
</div>
<a id="ad80317ac21aa245c7a0d1162ac98b264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad80317ac21aa245c7a0d1162ac98b264">&#9670;&nbsp;</a></span>store_result_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_ed__result__set.html">Ed_result_set</a> * Ed_connection::store_result_set </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Provided <a class="el" href="class_ed__connection.html#a1993c3172b8591f8e0e36934be6f67e9">get_field_count()</a> is not 0, this never fails. You must free the returned result set. This can be called only once after <a class="el" href="class_ed__connection.html#a58f9da6381da4bc1455d7f22d1620d2d">execute_direct()</a>. Should be used when you would like to get the results and destroy the connection.</p>
<p>Release ownership of the current result set to the client.</p>
<p>Since we use a simple linked list for result sets, this method uses a linear search of the previous result set to exclude the released instance from the list.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000109">Todo:</a></b></dt><dd>Use double-linked list, when this is really used.</dd></dl>
<p>XXX: This has never been tested with more than one result set!</p>
<dl class="section pre"><dt>Precondition</dt><dd>There must be a result set. </dd></dl>

</div>
</div>
<a id="ab9b5405ab89c8dc49082adf1a3be3354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9b5405ab89c8dc49082adf1a3be3354">&#9670;&nbsp;</a></span>use_result_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_ed__result__set.html">Ed_result_set</a>* Ed_connection::use_result_set </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Provided <a class="el" href="class_ed__connection.html#a1993c3172b8591f8e0e36934be6f67e9">get_field_count()</a> is not 0, this never fails. You don't need to free the result set, this is done automatically when you advance to the next result set or destroy the connection. Not returning const because of <a class="el" href="class_list.html">List</a> iterator not accepting Should be used when you would like <a class="el" href="class_ed__connection.html">Ed_connection</a> to manage result set memory for you. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ae078d58407600d3ab5685c4646123434"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae078d58407600d3ab5685c4646123434">&#9670;&nbsp;</a></span>m_thd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">THD* Ed_connection::m_thd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Execute direct interface does not support multi-statements, only multi-results. So we never have a situation when we have a mix of result sets and OK or error packets. We either have a single result set, a single error, or a single OK, or we have a series of result sets, followed by an OK or error. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/<a class="el" href="sql__prepare_8h_source.html">sql_prepare.h</a></li>
<li>sql/<a class="el" href="sql__prepare_8cc.html">sql_prepare.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
