<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: storage/innobase/row/row0umod.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_4dd6d22ab21a818a66544a670705c483.html">row</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">row0umod.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="row0umod_8h_source.html">row0umod.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dict0dict_8h_source.html">dict0dict.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dict0boot_8h_source.html">dict0boot.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0undo_8h_source.html">trx0undo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0roll_8h_source.html">trx0roll.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="btr0btr_8h_source.html">btr0btr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mach0data_8h_source.html">mach0data.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="row0undo_8h_source.html">row0undo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="row0vers_8h_source.html">row0vers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="row0log_8h_source.html">row0log.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0trx_8h_source.html">trx0trx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0rec_8h_source.html">trx0rec.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="row0row_8h_source.html">row0row.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="row0upd_8h_source.html">row0upd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="que0que_8h_source.html">que0que.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log0log_8h_source.html">log0log.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afa5d0fe0bdecb64f30099bfbfd1b5b70"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0umod_8cc.html#afa5d0fe0bdecb64f30099bfbfd1b5b70">__attribute__</a> ((nonnull, warn_unused_result)) <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_undo_mod_clust_low(<a class="el" href="structundo__node__t.html">undo_node_t</a> *<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a></td></tr>
<tr class="separator:afa5d0fe0bdecb64f30099bfbfd1b5b70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16b094bf7a90888fa5afa1235c206015"><td class="memItemLeft" align="right" valign="top"><a id="a16b094bf7a90888fa5afa1235c206015"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>btr_pcur_restore_position</b> (<a class="el" href="row0umod_8cc.html#a72b8a027308addc643f9adf5e4d41f9a">mode</a>, <a class="el" href="row0upd_8cc.html#a26180b7ae7c02fc3d73b25a2b07affdf">pcur</a>, <a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:a16b094bf7a90888fa5afa1235c206015"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04720e78a28d2aae6ce9171b18aab6f7"><td class="memItemLeft" align="right" valign="top"><a id="a04720e78a28d2aae6ce9171b18aab6f7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (success)</td></tr>
<tr class="separator:a04720e78a28d2aae6ce9171b18aab6f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8380e74441dd89216436fef3debc1f28"><td class="memItemLeft" align="right" valign="top"><a id="a8380e74441dd89216436fef3debc1f28"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (rec_get_trx_id(btr_cur_get_rec(btr_cur), <a class="el" href="btr0cur_8h.html#a5a7d338c847f204984733a9fdbe14789">btr_cur_get_index</a>(btr_cur))==<a class="el" href="que0que_8h.html#a8a52bb487c54522cbb437ee19563c990">thr_get_trx</a>(<a class="el" href="row0upd_8cc.html#a6a975f02e8f3909627020f06146ee9dd">thr</a>) -&gt;<a class="el" href="trx0undo_8cc.html#a42c94db63b554b8c7fa2a814f1f3dc8f">id</a>)</td></tr>
<tr class="separator:a8380e74441dd89216436fef3debc1f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe474a41dd9616f92ffacd540e83755a"><td class="memItemLeft" align="right" valign="top"><a id="afe474a41dd9616f92ffacd540e83755a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="row0umod_8cc.html#a72b8a027308addc643f9adf5e4d41f9a">mode</a> !=<a class="el" href="btr0btr_8h.html#a8942ffb96a9806bad36ef97d7e4f7002a47d0ffb5f1bd7b913c3f98df60b9d793">BTR_MODIFY_LEAF</a> &amp;&amp;<a class="el" href="dict0dict_8h.html#a4673894c367f28fa05badc046e6936a1">dict_index_is_online_ddl</a>(<a class="el" href="btr0cur_8h.html#a5a7d338c847f204984733a9fdbe14789">btr_cur_get_index</a>(btr_cur)))</td></tr>
<tr class="separator:afe474a41dd9616f92ffacd540e83755a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae17562ece89c73e59d7e0c43733e4d26"><td class="memItemLeft" align="right" valign="top"><a id="ae17562ece89c73e59d7e0c43733e4d26"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_a</b> (!dummy_big_rec)</td></tr>
<tr class="separator:ae17562ece89c73e59d7e0c43733e4d26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b8a38a920be18271daddbe60e7a8d7d"><td class="memItemLeft" align="right" valign="top"><a id="a2b8a38a920be18271daddbe60e7a8d7d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>return</b> (<a class="el" href="row0import_8cc.html#a52482fdd3721e7db69dc740aefee8ad4">err</a>)</td></tr>
<tr class="separator:a2b8a38a920be18271daddbe60e7a8d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fea9918a56028b5c59e82f8b5552bd5"><td class="memItemLeft" align="right" valign="top"><a id="a9fea9918a56028b5c59e82f8b5552bd5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;rec_type==TRX_UNDO_UPD_DEL_REC)</td></tr>
<tr class="separator:a9fea9918a56028b5c59e82f8b5552bd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac02e53b10b3767943ae4c3afc6fbe476"><td class="memItemLeft" align="right" valign="top"><a id="ac02e53b10b3767943ae4c3afc6fbe476"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (!btr_pcur_restore_position(<a class="el" href="row0umod_8cc.html#a72b8a027308addc643f9adf5e4d41f9a">mode</a>, &amp;<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;<a class="el" href="row0upd_8cc.html#a26180b7ae7c02fc3d73b25a2b07affdf">pcur</a>, <a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)||<a class="el" href="row0vers_8cc.html#a8050e9284b1aca788d9fc141d9b57ad3">row_vers_must_preserve_del_marked</a>(<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;new_trx_id, <a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>))</td></tr>
<tr class="separator:ac02e53b10b3767943ae4c3afc6fbe476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebded8cdec0978ae595404ade5a43de2"><td class="memItemLeft" align="right" valign="top"><a id="aebded8cdec0978ae595404ade5a43de2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (!trx_id_offset)</td></tr>
<tr class="separator:aebded8cdec0978ae595404ade5a43de2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39ca10ed8b495a9b0936b1a25f95f0f2"><td class="memItemLeft" align="right" valign="top"><a id="a39ca10ed8b495a9b0936b1a25f95f0f2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="trx0sys_8h.html#a72a73e6b25c8d36a91ce9a8e263f3717">trx_read_trx_id</a>(btr_cur_get_rec(btr_cur)+trx_id_offset) !=<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;new_trx_id)</td></tr>
<tr class="separator:a39ca10ed8b495a9b0936b1a25f95f0f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d0c9cdf45ded8bc21a3b38d40ea774"><td class="memItemLeft" align="right" valign="top"><a id="ad6d0c9cdf45ded8bc21a3b38d40ea774"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (<a class="el" href="rem0rec_8h.html#a1f03999a572b1fd14df9d1440be4ce49">rec_get_deleted_flag</a>(btr_cur_get_rec(btr_cur), <a class="el" href="dict0dict_8h.html#ae1b7140e7d5bebb7b57a1f6536066865">dict_table_is_comp</a>(<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;<a class="el" href="row0upd_8cc.html#ab172ed3d3d31ff02fc5f798fe7e1bfb8">table</a>)))</td></tr>
<tr class="separator:ad6d0c9cdf45ded8bc21a3b38d40ea774"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a487654051537ab5267ae2bdb3c2e594c"><td class="memItemLeft" align="right" valign="top"><a id="a487654051537ab5267ae2bdb3c2e594c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="row0umod_8cc.html#a72b8a027308addc643f9adf5e4d41f9a">mode</a>==<a class="el" href="btr0btr_8h.html#a8942ffb96a9806bad36ef97d7e4f7002a47d0ffb5f1bd7b913c3f98df60b9d793">BTR_MODIFY_LEAF</a>)</td></tr>
<tr class="separator:a487654051537ab5267ae2bdb3c2e594c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af036f4483ed01af4d369b118ef8218e6"><td class="memItemLeft" align="right" valign="top"><a id="af036f4483ed01af4d369b118ef8218e6"></a>
<a class="el" href="btr0cur_8h.html#aeb6fbd0c022f053955e2e53e84916400">btr_cur_pessimistic_delete</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>err</b> (<a class="el" href="row0upd_8cc.html#a6a975f02e8f3909627020f06146ee9dd">thr</a>) ? <a class="el" href="trx0types_8h.html#af9c8cb5dde8e33f96634b07b215c6f16a6a0897808efe383d0bffb0133e6e0200">RB_RECOVERY_PURGE_REC</a> :<a class="el" href="trx0types_8h.html#af9c8cb5dde8e33f96634b07b215c6f16adc4d910e35c67c3f19a9d80d5177c223">RB_NONE</a>, <a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a></td></tr>
<tr class="separator:af036f4483ed01af4d369b118ef8218e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e859de6b145f56c7a02a076b16b8eb"><td class="memItemLeft" align="right" valign="top"><a id="a08e859de6b145f56c7a02a076b16b8eb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (<a class="el" href="que0que_8h.html#a8a52bb487c54522cbb437ee19563c990">thr_get_trx</a>(<a class="el" href="row0upd_8cc.html#a6a975f02e8f3909627020f06146ee9dd">thr</a>)==<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>)</td></tr>
<tr class="separator:a08e859de6b145f56c7a02a076b16b8eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae683afedfd17f95a0da0f2db51d3e951"><td class="memItemLeft" align="right" valign="top"><a id="ae683afedfd17f95a0da0f2db51d3e951"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>-&gt;dict_operation_lock_mode)</td></tr>
<tr class="separator:ae683afedfd17f95a0da0f2db51d3e951"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54328ccc6c76ae6c3880e8ca6f544296"><td class="memItemLeft" align="right" valign="top"><a id="a54328ccc6c76ae6c3880e8ca6f544296"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>log_free_check</b> ()</td></tr>
<tr class="separator:a54328ccc6c76ae6c3880e8ca6f544296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a132080a2a3ecf7f3d544fbe51e30e010"><td class="memItemLeft" align="right" valign="top"><a id="a132080a2a3ecf7f3d544fbe51e30e010"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="row0merge_8cc.html#a370745831f84d52556e4ebb4034680b2">online</a>)</td></tr>
<tr class="separator:a132080a2a3ecf7f3d544fbe51e30e010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0f74950f8f745a80180caf0ff2c1ee3"><td class="memItemLeft" align="right" valign="top"><a id="ad0f74950f8f745a80180caf0ff2c1ee3"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="row0import_8cc.html#a52482fdd3721e7db69dc740aefee8ad4">err</a> !=DB_SUCCESS)</td></tr>
<tr class="separator:ad0f74950f8f745a80180caf0ff2c1ee3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2156f1901c361bec33547d44174dd5f8"><td class="memItemLeft" align="right" valign="top"><a id="a2156f1901c361bec33547d44174dd5f8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (<a class="el" href="row0merge_8cc.html#a370745831f84d52556e4ebb4034680b2">online</a>||!<a class="el" href="dict0dict_8h.html#a4673894c367f28fa05badc046e6936a1">dict_index_is_online_ddl</a>(<a class="el" href="row0upd_8cc.html#a4ddeaa41a4dab23a7eaa06ee52e4522b">index</a>))</td></tr>
<tr class="separator:a2156f1901c361bec33547d44174dd5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a346371580d3fb50adb97cc4060dafd76"><td class="memItemLeft" align="right" valign="top"><a id="a346371580d3fb50adb97cc4060dafd76"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="row0import_8cc.html#a52482fdd3721e7db69dc740aefee8ad4">err</a>==DB_SUCCESS &amp;&amp;<a class="el" href="row0merge_8cc.html#a370745831f84d52556e4ebb4034680b2">online</a>)</td></tr>
<tr class="separator:a346371580d3fb50adb97cc4060dafd76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98334f525de6ca147ce2fe8bbbe60bee"><td class="memItemLeft" align="right" valign="top"><a id="a98334f525de6ca147ce2fe8bbbe60bee"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (rec_get_trx_id(btr_pcur_get_rec(<a class="el" href="row0upd_8cc.html#a26180b7ae7c02fc3d73b25a2b07affdf">pcur</a>), <a class="el" href="row0upd_8cc.html#a4ddeaa41a4dab23a7eaa06ee52e4522b">index</a>)==<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;new_trx_id)</td></tr>
<tr class="separator:a98334f525de6ca147ce2fe8bbbe60bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af63505d7d1e4a33af0754830855ce147"><td class="memItemLeft" align="right" valign="top"><a id="af63505d7d1e4a33af0754830855ce147"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>btr_pcur_commit_specify_mtr</b> (<a class="el" href="row0upd_8cc.html#a26180b7ae7c02fc3d73b25a2b07affdf">pcur</a>, &amp;<a class="el" href="trx0undo_8cc.html#a9013d42949ecc21fdd8de523420df8ba">mtr</a>)</td></tr>
<tr class="separator:af63505d7d1e4a33af0754830855ce147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8322e459355997763c76c8cb12b5487d"><td class="memItemLeft" align="right" valign="top"><a id="a8322e459355997763c76c8cb12b5487d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>trx_undo_rec_release</b> (<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, <a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;undo_no)</td></tr>
<tr class="separator:a8322e459355997763c76c8cb12b5487d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea8054dca1f8a641a3ffc6ed62cf088b"><td class="memItemLeft" align="right" valign="top"><a id="aea8054dca1f8a641a3ffc6ed62cf088b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="row0upd_8cc.html#af327d0841463e479f70421eaf979de1b">offsets_heap</a>)</td></tr>
<tr class="separator:aea8054dca1f8a641a3ffc6ed62cf088b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84a31a8babbb6dc93262e47aff362638"><td class="memItemLeft" align="right" valign="top"><a id="a84a31a8babbb6dc93262e47aff362638"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mem_heap_free</b> (<a class="el" href="trx0rec_8cc.html#a18459ed20cf7df7b5953ca0f9f3fea33">heap</a>)</td></tr>
<tr class="separator:a84a31a8babbb6dc93262e47aff362638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accde7476c26e75bb4d264de6bbcd130f"><td class="memItemLeft" align="right" valign="top"><a id="accde7476c26e75bb4d264de6bbcd130f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>switch</b> (UNIV_EXPECT(search_result, <a class="el" href="row0row_8h.html#ada50af148cc3c93ea77b5cbde1083610ab1b66d2c86777e6c3103433a7794629e">ROW_FOUND</a>))</td></tr>
<tr class="separator:accde7476c26e75bb4d264de6bbcd130f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19c74bbfbf52971d6b24c201b39ce27e"><td class="memItemLeft" align="right" valign="top"><a id="a19c74bbfbf52971d6b24c201b39ce27e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_a</b> (success)</td></tr>
<tr class="separator:a19c74bbfbf52971d6b24c201b39ce27e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eac7204e7479025aa03f98f1aa5c81a"><td class="memItemLeft" align="right" valign="top"><a id="a2eac7204e7479025aa03f98f1aa5c81a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (old_has)</td></tr>
<tr class="separator:a2eac7204e7479025aa03f98f1aa5c81a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9193226b002f194dad3a141b5c4510e4"><td class="memItemLeft" align="right" valign="top"><a id="a9193226b002f194dad3a141b5c4510e4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>-&gt;<a class="el" href="trx0undo_8cc.html#a42c94db63b554b8c7fa2a814f1f3dc8f">id</a>)</td></tr>
<tr class="separator:a9193226b002f194dad3a141b5c4510e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a443a53cc688a7ad7bd1245d9b9267004"><td class="memItemLeft" align="right" valign="top"><a id="a443a53cc688a7ad7bd1245d9b9267004"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>switch</b> (search_result)</td></tr>
<tr class="separator:a443a53cc688a7ad7bd1245d9b9267004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a774d7c60c07a8d490ba96c4cad019259"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0umod_8cc.html#a774d7c60c07a8d490ba96c4cad019259">__attribute__</a> ((nonnull)) void row_undo_mod_sec_flag_corrupted(<a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a></td></tr>
<tr class="separator:a774d7c60c07a8d490ba96c4cad019259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25a342a1fa07a88ff3c26b7c29d05c9d"><td class="memItemLeft" align="right" valign="top"><a id="a25a342a1fa07a88ff3c26b7c29d05c9d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>switch</b> (<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>-&gt;dict_operation_lock_mode)</td></tr>
<tr class="separator:a25a342a1fa07a88ff3c26b7c29d05c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88f1ebc1a3b11f3b55eee0b39516455f"><td class="memItemLeft" align="right" valign="top"><a id="a88f1ebc1a3b11f3b55eee0b39516455f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (!<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;undo_row)</td></tr>
<tr class="separator:a88f1ebc1a3b11f3b55eee0b39516455f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab72bf46a5b6100a6f72057e90a7b4d60"><td class="memItemLeft" align="right" valign="top"><a id="ab72bf46a5b6100a6f72057e90a7b4d60"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>while</b> (<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;<a class="el" href="row0upd_8cc.html#a4ddeaa41a4dab23a7eaa06ee52e4522b">index</a> !=NULL)</td></tr>
<tr class="separator:ab72bf46a5b6100a6f72057e90a7b4d60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2885533f9c23034eca4b910a8af5287a"><td class="memItemLeft" align="right" valign="top"><a id="a2885533f9c23034eca4b910a8af5287a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;<a class="el" href="row0upd_8cc.html#a4ddeaa41a4dab23a7eaa06ee52e4522b">index</a>==NULL||((<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;<a class="el" href="btr0cur_8cc.html#ab7e363c98b33d8339e7170309cd05207">cmpl_info</a> &amp;UPD_NODE_NO_ORD_CHANGE)))</td></tr>
<tr class="separator:a2885533f9c23034eca4b910a8af5287a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4abbcda5d3810182a6175240dd098cff"><td class="memItemLeft" align="right" valign="top"><a id="a4abbcda5d3810182a6175240dd098cff"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;<a class="el" href="row0upd_8cc.html#ab172ed3d3d31ff02fc5f798fe7e1bfb8">table</a>-&gt;ibd_file_missing)</td></tr>
<tr class="separator:a4abbcda5d3810182a6175240dd098cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4763593ed0dc99a0e3dbd3b2e00c300f"><td class="memItemLeft" align="right" valign="top"><a id="a4763593ed0dc99a0e3dbd3b2e00c300f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>trx_undo_update_rec_get_update</b> (ptr, <a class="el" href="row0sel_8cc.html#ada9013a86a8046c7fca288cf0883c4ec">clust_index</a>, <a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>, <a class="el" href="trx0undo_8cc.html#a31dc85e5157cc0055a93f38465fdef6b">trx_id</a>, <a class="el" href="btr0cur_8cc.html#ad1c4f16d584f1fabcea984746cf904a1">roll_ptr</a>, info_bits, <a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>, <a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;<a class="el" href="trx0rec_8cc.html#a18459ed20cf7df7b5953ca0f9f3fea33">heap</a>, &amp;(<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;<a class="el" href="row0upd_8cc.html#a5319e5051382c064bfbcd88873c387d3">update</a>))</td></tr>
<tr class="separator:a4763593ed0dc99a0e3dbd3b2e00c300f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab89e14457fc4d16c1689f491d9f0564e"><td class="memItemLeft" align="right" valign="top"><a id="ab89e14457fc4d16c1689f491d9f0564e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (!<a class="el" href="row0undo_8cc.html#a39ac5ca97cc938387200f7d489aa00c2">row_undo_search_clust_to_pcur</a>(<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>))</td></tr>
<tr class="separator:ab89e14457fc4d16c1689f491d9f0564e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c1b69b1ed1a4719b5ae237cf9e58445"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0umod_8cc.html#a6c1b69b1ed1a4719b5ae237cf9e58445">row_undo_mod</a> (<a class="el" href="structundo__node__t.html">undo_node_t</a> *<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>, <a class="el" href="structque__thr__t.html">que_thr_t</a> *<a class="el" href="row0upd_8cc.html#a6a975f02e8f3909627020f06146ee9dd">thr</a>)</td></tr>
<tr class="separator:a6c1b69b1ed1a4719b5ae237cf9e58445"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae896786dc14b19c8bcd07e813e8124f6"><td class="memItemLeft" align="right" valign="top">static ulint **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0umod_8cc.html#ae896786dc14b19c8bcd07e813e8124f6">offsets</a> = NULL</td></tr>
<tr class="separator:ae896786dc14b19c8bcd07e813e8124f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a508b1008a7f067e7bfe54ebcbff63609"><td class="memItemLeft" align="right" valign="top">static ulint <a class="el" href="structmem__block__info__t.html">mem_heap_t</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0umod_8cc.html#a508b1008a7f067e7bfe54ebcbff63609">offsets_heap</a> = NULL</td></tr>
<tr class="separator:a508b1008a7f067e7bfe54ebcbff63609"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f37eb9bb0968a9a07c6cfc9b68d7a3"><td class="memItemLeft" align="right" valign="top">static ulint <a class="el" href="structmem__block__info__t.html">mem_heap_t</a> <a class="el" href="structmem__block__info__t.html">mem_heap_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0umod_8cc.html#a52f37eb9bb0968a9a07c6cfc9b68d7a3">heap</a> = <a class="el" href="mem0mem_8h.html#a37b03a5cbf64e5271e6c62a9cc6bb5b5">mem_heap_create</a>(1024)</td></tr>
<tr class="separator:a52f37eb9bb0968a9a07c6cfc9b68d7a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca656b4506dbceada4e37f198035537c"><td class="memItemLeft" align="right" valign="top">static ulint <a class="el" href="structmem__block__info__t.html">mem_heap_t</a> <a class="el" href="structmem__block__info__t.html">mem_heap_t</a> const <a class="el" href="structdtuple__t.html">dtuple_t</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0umod_8cc.html#aca656b4506dbceada4e37f198035537c">rebuilt_old_pk</a></td></tr>
<tr class="separator:aca656b4506dbceada4e37f198035537c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab16f0a0409a929684e779c9d1ecb6284"><td class="memItemLeft" align="right" valign="top">static ulint <a class="el" href="structmem__block__info__t.html">mem_heap_t</a> <a class="el" href="structmem__block__info__t.html">mem_heap_t</a> const <a class="el" href="structdtuple__t.html">dtuple_t</a> byte *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0umod_8cc.html#ab16f0a0409a929684e779c9d1ecb6284">sys</a></td></tr>
<tr class="separator:ab16f0a0409a929684e779c9d1ecb6284"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a975f02e8f3909627020f06146ee9dd"><td class="memItemLeft" align="right" valign="top">static ulint <a class="el" href="structmem__block__info__t.html">mem_heap_t</a> <a class="el" href="structmem__block__info__t.html">mem_heap_t</a> const <a class="el" href="structdtuple__t.html">dtuple_t</a> byte <a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0umod_8cc.html#a6a975f02e8f3909627020f06146ee9dd">thr</a></td></tr>
<tr class="separator:a6a975f02e8f3909627020f06146ee9dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f9c3f15b474d71916c4165bd4ff1098"><td class="memItemLeft" align="right" valign="top">static ulint <a class="el" href="structmem__block__info__t.html">mem_heap_t</a> <a class="el" href="structmem__block__info__t.html">mem_heap_t</a> const <a class="el" href="structdtuple__t.html">dtuple_t</a> byte <a class="el" href="structque__thr__t.html">que_thr_t</a> <a class="el" href="structmtr__t.html">mtr_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0umod_8cc.html#a9f9c3f15b474d71916c4165bd4ff1098">mtr</a></td></tr>
<tr class="separator:a9f9c3f15b474d71916c4165bd4ff1098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b8a027308addc643f9adf5e4d41f9a"><td class="memItemLeft" align="right" valign="top">static ulint <a class="el" href="structmem__block__info__t.html">mem_heap_t</a> <a class="el" href="structmem__block__info__t.html">mem_heap_t</a> const <a class="el" href="structdtuple__t.html">dtuple_t</a> byte <a class="el" href="structque__thr__t.html">que_thr_t</a> <a class="el" href="structmtr__t.html">mtr_t</a> ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0umod_8cc.html#a72b8a027308addc643f9adf5e4d41f9a">mode</a></td></tr>
<tr class="separator:a72b8a027308addc643f9adf5e4d41f9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b2affca80aab3ea4cfef50577c9c4af"><td class="memItemLeft" align="right" valign="top"><a id="a8b2affca80aab3ea4cfef50577c9c4af"></a>
<a class="el" href="structbtr__cur__t.html">btr_cur_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>btr_cur</b> = btr_pcur_get_btr_cur(<a class="el" href="row0upd_8cc.html#a26180b7ae7c02fc3d73b25a2b07affdf">pcur</a>)</td></tr>
<tr class="separator:a8b2affca80aab3ea4cfef50577c9c4af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2089f0f61b443ddde99d203fc1603fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>err</b></td></tr>
<tr class="separator:aa2089f0f61b443ddde99d203fc1603fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a421cdbabd150831b47417f45297a5b8a"><td class="memItemLeft" align="right" valign="top"><a id="a421cdbabd150831b47417f45297a5b8a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>pcur</b> = &amp;<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;pcur</td></tr>
<tr class="separator:a421cdbabd150831b47417f45297a5b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0544c3fe466e421738dae463968b70ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><b>else</b></td></tr>
<tr class="separator:a0544c3fe466e421738dae463968b70ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08eb2da5c235f9a66abe6d84e6000a8b"><td class="memItemLeft" align="right" valign="top"><a id="a08eb2da5c235f9a66abe6d84e6000a8b"></a>
ulint&#160;</td><td class="memItemRight" valign="bottom"><b>trx_id_offset</b> = <a class="el" href="btr0cur_8h.html#a5a7d338c847f204984733a9fdbe14789">btr_cur_get_index</a>(btr_cur)-&gt;trx_id_offset</td></tr>
<tr class="separator:a08eb2da5c235f9a66abe6d84e6000a8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9512f01f425b32d827ba231f5e6ad8fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0umod_8cc.html#a9512f01f425b32d827ba231f5e6ad8fb">index</a> = <a class="el" href="btr0cur_8h.html#a5a7d338c847f204984733a9fdbe14789">btr_cur_get_index</a>(btr_pcur_get_btr_cur(<a class="el" href="row0upd_8cc.html#a26180b7ae7c02fc3d73b25a2b07affdf">pcur</a>))</td></tr>
<tr class="separator:a9512f01f425b32d827ba231f5e6ad8fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad173010baccf7bcb6d546f8cbe123ab0"><td class="memItemLeft" align="right" valign="top"><a id="ad173010baccf7bcb6d546f8cbe123ab0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>online</b> = <a class="el" href="dict0dict_8h.html#a4673894c367f28fa05badc046e6936a1">dict_index_is_online_ddl</a>(<a class="el" href="row0upd_8cc.html#a4ddeaa41a4dab23a7eaa06ee52e4522b">index</a>)</td></tr>
<tr class="separator:ad173010baccf7bcb6d546f8cbe123ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cfb5b50c523513074c1a1d63741450b"><td class="memItemLeft" align="right" valign="top"><a id="a3cfb5b50c523513074c1a1d63741450b"></a>
<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>&#160;</td><td class="memItemRight" valign="bottom"><b>state</b> = <a class="el" href="row0undo_8h.html#a25a492973c114d8dc6ffad18a2928922a933babee9a48c1c7336ee4d88cdb8537">UNDO_NODE_FETCH_NEXT</a></td></tr>
<tr class="separator:a3cfb5b50c523513074c1a1d63741450b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa107c1a80a4c88c09f716f4003a1b233"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structque__thr__t.html">que_thr_t</a> <a class="el" href="structdict__index__t.html">dict_index_t</a> <a class="el" href="structdtuple__t.html">dtuple_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0umod_8cc.html#aa107c1a80a4c88c09f716f4003a1b233">entry</a></td></tr>
<tr class="separator:aa107c1a80a4c88c09f716f4003a1b233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6ee8d13bf1e292b3c1660a66e846fa7"><td class="memItemLeft" align="right" valign="top">ibool&#160;</td><td class="memItemRight" valign="bottom"><b>success</b></td></tr>
<tr class="separator:ac6ee8d13bf1e292b3c1660a66e846fa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad630428c67bf7f39115708a39494ff62"><td class="memItemLeft" align="right" valign="top">ibool&#160;</td><td class="memItemRight" valign="bottom"><b>old_has</b></td></tr>
<tr class="separator:ad630428c67bf7f39115708a39494ff62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f683388ae35d2c40b476f23fd46a163"><td class="memItemLeft" align="right" valign="top"><a id="a9f683388ae35d2c40b476f23fd46a163"></a>
<a class="el" href="structmtr__t.html">mtr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>mtr_vers</b></td></tr>
<tr class="separator:a9f683388ae35d2c40b476f23fd46a163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a12f000a5e6a6ac03275276304e9485"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="row0row_8h.html#ada50af148cc3c93ea77b5cbde1083610">row_search_result</a>&#160;</td><td class="memItemRight" valign="bottom"><b>search_result</b></td></tr>
<tr class="separator:a1a12f000a5e6a6ac03275276304e9485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ea722ab74b5d636630522b7f196e86b"><td class="memItemLeft" align="right" valign="top"><a id="a2ea722ab74b5d636630522b7f196e86b"></a>
func_exit&#160;</td><td class="memItemRight" valign="bottom"><b>__pad23__</b></td></tr>
<tr class="separator:a2ea722ab74b5d636630522b7f196e86b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a095de95681754fb0bd6d0fe2ad4afd69"><td class="memItemLeft" align="right" valign="top"><a id="a095de95681754fb0bd6d0fe2ad4afd69"></a>
func_exit_no_pcur&#160;</td><td class="memItemRight" valign="bottom"><b>__pad24__</b></td></tr>
<tr class="separator:a095de95681754fb0bd6d0fe2ad4afd69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33269972c0c066e42d5c42a3ebfd4ab6"><td class="memItemLeft" align="right" valign="top"><a id="a33269972c0c066e42d5c42a3ebfd4ab6"></a>
<a class="el" href="structupd__t.html">upd_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>update</b></td></tr>
<tr class="separator:a33269972c0c066e42d5c42a3ebfd4ab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293340bbc19f84bca1b5aa69f888a293"><td class="memItemLeft" align="right" valign="top"><a id="a293340bbc19f84bca1b5aa69f888a293"></a>
<a class="el" href="structbig__rec__t.html">big_rec_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>dummy_big_rec</b></td></tr>
<tr class="separator:a293340bbc19f84bca1b5aa69f888a293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33c6bd3ec7adfebaac8ed4906004b2ab"><td class="memItemLeft" align="right" valign="top"><a id="a33c6bd3ec7adfebaac8ed4906004b2ab"></a>
<a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>trx</b> = <a class="el" href="que0que_8h.html#a8a52bb487c54522cbb437ee19563c990">thr_get_trx</a>(<a class="el" href="row0upd_8cc.html#a6a975f02e8f3909627020f06146ee9dd">thr</a>)</td></tr>
<tr class="separator:a33c6bd3ec7adfebaac8ed4906004b2ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7782f0940666ec5e1b26f8bc100c9ece"><td class="memItemLeft" align="right" valign="top"><a id="a7782f0940666ec5e1b26f8bc100c9ece"></a>
const ulint&#160;</td><td class="memItemRight" valign="bottom"><b>flags</b> = <a class="el" href="btr0cur_8h.html#aa7df87806f64f3b241c8cde9eb57cad5a159501d7bc944849faa8082ce7b55466">BTR_KEEP_SYS_FLAG</a> | <a class="el" href="btr0cur_8h.html#aa7df87806f64f3b241c8cde9eb57cad5a046932973ff414437088666363342436">BTR_NO_LOCKING_FLAG</a></td></tr>
<tr class="separator:a7782f0940666ec5e1b26f8bc100c9ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0403d75e530d828e2e92b8c9c2cbc2d9"><td class="memItemLeft" align="right" valign="top"><a id="a0403d75e530d828e2e92b8c9c2cbc2d9"></a>
func_exit_no_pcur&#160;</td><td class="memItemRight" valign="bottom"><b>__pad25__</b></td></tr>
<tr class="separator:a0403d75e530d828e2e92b8c9c2cbc2d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a21208d7771d5950d52e7c903e9b017"><td class="memItemLeft" align="right" valign="top">static ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="row0umod_8cc.html#a9a21208d7771d5950d52e7c903e9b017">dict_locked</a></td></tr>
<tr class="separator:a9a21208d7771d5950d52e7c903e9b017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c32eedc4fbd64837b631c06863691e"><td class="memItemLeft" align="right" valign="top">byte *&#160;</td><td class="memItemRight" valign="bottom"><b>ptr</b></td></tr>
<tr class="separator:a37c32eedc4fbd64837b631c06863691e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a685e64d33fa099a371cc0ac681b25dd5"><td class="memItemLeft" align="right" valign="top"><a id="a685e64d33fa099a371cc0ac681b25dd5"></a>
<a class="el" href="trx0types_8h.html#a4661d2883c1cd5d8f1cfbd63b553f1bc">undo_no_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>undo_no</b></td></tr>
<tr class="separator:a685e64d33fa099a371cc0ac681b25dd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8830ced3d2a7a7cba5d6b9254750b09f"><td class="memItemLeft" align="right" valign="top"><a id="a8830ced3d2a7a7cba5d6b9254750b09f"></a>
table_id_t&#160;</td><td class="memItemRight" valign="bottom"><b>table_id</b></td></tr>
<tr class="separator:a8830ced3d2a7a7cba5d6b9254750b09f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a912d134d99834f8a7a3aa7191ef6a273"><td class="memItemLeft" align="right" valign="top"><a id="a912d134d99834f8a7a3aa7191ef6a273"></a>
<a class="el" href="trx0types_8h.html#a91afca43a639c098efe14a9069a1d4ec">trx_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>trx_id</b></td></tr>
<tr class="separator:a912d134d99834f8a7a3aa7191ef6a273"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39539adc01b007e2874f9d21af405b6a"><td class="memItemLeft" align="right" valign="top"><a id="a39539adc01b007e2874f9d21af405b6a"></a>
<a class="el" href="trx0types_8h.html#ad3ccac613ce33a8680d147c4a4f12e94">roll_ptr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>roll_ptr</b></td></tr>
<tr class="separator:a39539adc01b007e2874f9d21af405b6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad226c68d0db6ee10dd4d15ba27a0129a"><td class="memItemLeft" align="right" valign="top"><a id="ad226c68d0db6ee10dd4d15ba27a0129a"></a>
ulint&#160;</td><td class="memItemRight" valign="bottom"><b>info_bits</b></td></tr>
<tr class="separator:ad226c68d0db6ee10dd4d15ba27a0129a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b044b732e76c0bf2f2ab75817880349"><td class="memItemLeft" align="right" valign="top"><a id="a6b044b732e76c0bf2f2ab75817880349"></a>
ulint&#160;</td><td class="memItemRight" valign="bottom"><b>type</b></td></tr>
<tr class="separator:a6b044b732e76c0bf2f2ab75817880349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7e363c98b33d8339e7170309cd05207"><td class="memItemLeft" align="right" valign="top"><a id="ab7e363c98b33d8339e7170309cd05207"></a>
ulint&#160;</td><td class="memItemRight" valign="bottom"><b>cmpl_info</b> = cmpl_info</td></tr>
<tr class="separator:ab7e363c98b33d8339e7170309cd05207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f4c6ddc8c0c1a2aa6358f8eba90333"><td class="memItemLeft" align="right" valign="top"><a id="ae9f4c6ddc8c0c1a2aa6358f8eba90333"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>dummy_extern</b></td></tr>
<tr class="separator:ae9f4c6ddc8c0c1a2aa6358f8eba90333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa94e5116b1f0659878311bcd9eb671e4"><td class="memItemLeft" align="right" valign="top"><a id="aa94e5116b1f0659878311bcd9eb671e4"></a>
<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>&#160;</td><td class="memItemRight" valign="bottom"><b>rec_type</b> = <a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a></td></tr>
<tr class="separator:aa94e5116b1f0659878311bcd9eb671e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6eceaed4efca83493f598f17b1f66df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>&#160;</td><td class="memItemRight" valign="bottom"><b>table</b></td></tr>
<tr class="separator:ae6eceaed4efca83493f598f17b1f66df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada9013a86a8046c7fca288cf0883c4ec"><td class="memItemLeft" align="right" valign="top"><a id="ada9013a86a8046c7fca288cf0883c4ec"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>clust_index</b> = dict_table_get_first_index(<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;<a class="el" href="row0upd_8cc.html#ab172ed3d3d31ff02fc5f798fe7e1bfb8">table</a>)</td></tr>
<tr class="separator:ada9013a86a8046c7fca288cf0883c4ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ed1d9989e9cf1ee30d60eb91c50239b"><td class="memItemLeft" align="right" valign="top"><a id="a7ed1d9989e9cf1ee30d60eb91c50239b"></a>
<a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>&#160;</td><td class="memItemRight" valign="bottom"><b>new_trx_id</b> = <a class="el" href="trx0undo_8cc.html#a31dc85e5157cc0055a93f38465fdef6b">trx_id</a></td></tr>
<tr class="separator:a7ed1d9989e9cf1ee30d60eb91c50239b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Undo modify of a row</p>
<p>Created 2/27/1997 Heikki Tuuri </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="afa5d0fe0bdecb64f30099bfbfd1b5b70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa5d0fe0bdecb64f30099bfbfd1b5b70">&#9670;&nbsp;</a></span>__attribute__() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(nonnull, warn_unused_result)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Undoes a modify in a clustered index record. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS, DB_FAIL, or error code: we may run out of file space</dd></dl>
<p>Purges a clustered index record after undo if possible. This is attempted when the record was inserted by updating a delete-marked record and there no longer exist transactions that would see the delete-marked record. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS, DB_FAIL, or error code: we may run out of file space</dd></dl>
<p>Undoes a modify in a clustered index record. Sets also the node state for the next round of undo. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code: we may run out of file space</dd></dl>
<p>Delete marks or removes a secondary index entry if found. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS, DB_FAIL, or DB_OUT_OF_FILE_SPACE</dd></dl>
<p>Delete marks or removes a secondary index entry if found. NOTE that if we updated the fields of a delete-marked secondary index record so that alphabetically they stayed the same, e.g., 'abc' -&gt; 'aBc', we cannot return to the original values because we do not know them. But this should not cause problems because in <a class="el" href="row0sel_8cc.html">row0sel.cc</a>, in queries we always retrieve the clustered index record or an earlier version of it, if the secondary index record through which we do the search is delete-marked. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or DB_OUT_OF_FILE_SPACE</dd></dl>
<p>Delete unmarks a secondary index entry which must be found. It might not be delete-marked at the moment, but it does not harm to unmark it anyway. We also need to update the fields of the secondary index record if we updated its fields but alphabetically they stayed the same, e.g., 'abc' -&gt; 'aBc'. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">DB_SUCCESS</td><td>on success </td></tr>
    <tr><td class="paramname">DB_FAIL</td><td>if BTR_MODIFY_TREE should be tried </td></tr>
    <tr><td class="paramname">DB_OUT_OF_FILE_SPACE</td><td>when running out of tablespace </td></tr>
    <tr><td class="paramname">DB_DUPLICATE_KEY</td><td>if the value was missing and an insert would lead to a duplicate exists</td></tr>
  </table>
  </dd>
</dl>
<p>Undoes a modify in secondary indexes when undo record type is UPD_DEL. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or DB_OUT_OF_FILE_SPACE</dd></dl>
<p>Undoes a modify in secondary indexes when undo record type is DEL_MARK. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or DB_OUT_OF_FILE_SPACE</dd></dl>
<p>Undoes a modify in secondary indexes when undo record type is UPD_EXIST. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or DB_OUT_OF_FILE_SPACE </dd></dl>

</div>
</div>
<a id="a774d7c60c07a8d490ba96c4cad019259"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a774d7c60c07a8d490ba96c4cad019259">&#9670;&nbsp;</a></span>__attribute__() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(nonnull)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Flags a secondary index corrupted.</p>
<p>Parses the row reference and other info in a modify undo log record. </p>

</div>
</div>
<a id="a6c1b69b1ed1a4719b5ae237cf9e58445"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c1b69b1ed1a4719b5ae237cf9e58445">&#9670;&nbsp;</a></span>row_undo_mod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> row_undo_mod </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structundo__node__t.html">undo_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structque__thr__t.html">que_thr_t</a> *&#160;</td>
          <td class="paramname"><em>thr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Undoes a modify operation on a row of a table. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>in: row undo node </td></tr>
    <tr><td class="paramname">thr</td><td>in: query thread </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9a21208d7771d5950d52e7c903e9b017"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a21208d7771d5950d52e7c903e9b017">&#9670;&nbsp;</a></span>dict_locked</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ibool dict_locked</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">        <a class="code" href="structdict__index__t.html">dict_index_t</a>*   <a class="code" href="row0sel_8cc.html#ada9013a86a8046c7fca288cf0883c4ec">clust_index</a></div><div class="ttc" id="row0sel_8cc_html_ada9013a86a8046c7fca288cf0883c4ec"><div class="ttname"><a href="row0sel_8cc.html#ada9013a86a8046c7fca288cf0883c4ec">clust_index</a></div><div class="ttdeci">static dict_index_t * clust_index</div><div class="ttdef"><b>Definition:</b> row0sel.cc:2972</div></div>
<div class="ttc" id="structdict__index__t_html"><div class="ttname"><a href="structdict__index__t.html">dict_index_t</a></div><div class="ttdef"><b>Definition:</b> dict0mem.h:566</div></div>
</div><!-- fragment --><p>&lt; in: row undo node</p>
<p>&lt; in: TRUE if own dict_sys-&gt;mutex </p>

</div>
</div>
<a id="a0544c3fe466e421738dae463968b70ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0544c3fe466e421738dae463968b70ba">&#9670;&nbsp;</a></span>else</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">else</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">                *<a class="code" href="row0umod_8cc.html#aca656b4506dbceada4e37f198035537c">rebuilt_old_pk</a> = NULL</div><div class="ttc" id="row0umod_8cc_html_aca656b4506dbceada4e37f198035537c"><div class="ttname"><a href="row0umod_8cc.html#aca656b4506dbceada4e37f198035537c">rebuilt_old_pk</a></div><div class="ttdeci">static ulint mem_heap_t mem_heap_t const dtuple_t ** rebuilt_old_pk</div><div class="ttdef"><b>Definition:</b> row0umod.cc:80</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa107c1a80a4c88c09f716f4003a1b233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa107c1a80a4c88c09f716f4003a1b233">&#9670;&nbsp;</a></span>entry</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structque__thr__t.html">que_thr_t</a> <a class="el" href="structdict__index__t.html">dict_index_t</a> <a class="el" href="structdtuple__t.html">dtuple_t</a>* <a class="el" href="struct__entry.html">entry</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">        <a class="code" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> <a class="code" href="btr0cur_8cc.html#aa2089f0f61b443ddde99d203fc1603fc">err</a></div><div class="ttc" id="db0err_8h_html_a6fdd08971b32ee513b20967238f1654d"><div class="ttname"><a href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a></div><div class="ttdeci">dberr_t</div><div class="ttdef"><b>Definition:</b> db0err.h:30</div></div>
<div class="ttc" id="btr0cur_8cc_html_aa2089f0f61b443ddde99d203fc1603fc"><div class="ttname"><a href="btr0cur_8cc.html#aa2089f0f61b443ddde99d203fc1603fc">err</a></div><div class="ttdeci">dberr_t err</div><div class="ttdef"><b>Definition:</b> btr0cur.cc:1149</div></div>
</div><!-- fragment --><p>in: index entry</p>
<p>&lt; in: index entry </p>

</div>
</div>
<a id="aa2089f0f61b443ddde99d203fc1603fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2089f0f61b443ddde99d203fc1603fc">&#9670;&nbsp;</a></span>err</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> err</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="btr0cur_8cc.html#a64b74099a04e706fcd43989aa373e9bd">btr_cur_pessimistic_update</a>(</div><div class="line">                        <a class="code" href="btr0cur_8h.html#aa7df87806f64f3b241c8cde9eb57cad5a046932973ff414437088666363342436">BTR_NO_LOCKING_FLAG</a></div><div class="line">                        | <a class="code" href="btr0cur_8h.html#aa7df87806f64f3b241c8cde9eb57cad5a1fb016f118032fcb677c3b2a4f107e2b">BTR_NO_UNDO_LOG_FLAG</a></div><div class="line">                        | <a class="code" href="btr0cur_8h.html#aa7df87806f64f3b241c8cde9eb57cad5a159501d7bc944849faa8082ce7b55466">BTR_KEEP_SYS_FLAG</a>,</div><div class="line">                        btr_cur, <a class="code" href="row0umod_8cc.html#ae896786dc14b19c8bcd07e813e8124f6">offsets</a>, <a class="code" href="row0umod_8cc.html#a508b1008a7f067e7bfe54ebcbff63609">offsets_heap</a>, <a class="code" href="row0umod_8cc.html#a52f37eb9bb0968a9a07c6cfc9b68d7a3">heap</a>,</div><div class="line">                        &amp;dummy_big_rec, <a class="code" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;update,</div><div class="line">                        <a class="code" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;cmpl_info, <a class="code" href="row0umod_8cc.html#a6a975f02e8f3909627020f06146ee9dd">thr</a>, <a class="code" href="que0que_8h.html#a8a52bb487c54522cbb437ee19563c990">thr_get_trx</a>(<a class="code" href="row0umod_8cc.html#a6a975f02e8f3909627020f06146ee9dd">thr</a>)-&gt;<span class="keywordtype">id</span>, <a class="code" href="row0umod_8cc.html#a9f9c3f15b474d71916c4165bd4ff1098">mtr</a>)</div><div class="ttc" id="row0umod_8cc_html_ae896786dc14b19c8bcd07e813e8124f6"><div class="ttname"><a href="row0umod_8cc.html#ae896786dc14b19c8bcd07e813e8124f6">offsets</a></div><div class="ttdeci">static ulint ** offsets</div><div class="ttdef"><b>Definition:</b> row0umod.cc:80</div></div>
<div class="ttc" id="dict0crea_8cc_html_a031463c80760e1002350e552afd98dd9"><div class="ttname"><a href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a></div><div class="ttdeci">static tab_node_t * node</div><div class="ttdef"><b>Definition:</b> dict0crea.cc:255</div></div>
<div class="ttc" id="btr0cur_8h_html_aa7df87806f64f3b241c8cde9eb57cad5a1fb016f118032fcb677c3b2a4f107e2b"><div class="ttname"><a href="btr0cur_8h.html#aa7df87806f64f3b241c8cde9eb57cad5a1fb016f118032fcb677c3b2a4f107e2b">BTR_NO_UNDO_LOG_FLAG</a></div><div class="ttdef"><b>Definition:</b> btr0cur.h:37</div></div>
<div class="ttc" id="btr0cur_8h_html_aa7df87806f64f3b241c8cde9eb57cad5a159501d7bc944849faa8082ce7b55466"><div class="ttname"><a href="btr0cur_8h.html#aa7df87806f64f3b241c8cde9eb57cad5a159501d7bc944849faa8082ce7b55466">BTR_KEEP_SYS_FLAG</a></div><div class="ttdef"><b>Definition:</b> btr0cur.h:42</div></div>
<div class="ttc" id="row0umod_8cc_html_a9f9c3f15b474d71916c4165bd4ff1098"><div class="ttname"><a href="row0umod_8cc.html#a9f9c3f15b474d71916c4165bd4ff1098">mtr</a></div><div class="ttdeci">static ulint mem_heap_t mem_heap_t const dtuple_t byte que_thr_t mtr_t * mtr</div><div class="ttdef"><b>Definition:</b> row0umod.cc:80</div></div>
<div class="ttc" id="btr0cur_8h_html_aa7df87806f64f3b241c8cde9eb57cad5a046932973ff414437088666363342436"><div class="ttname"><a href="btr0cur_8h.html#aa7df87806f64f3b241c8cde9eb57cad5a046932973ff414437088666363342436">BTR_NO_LOCKING_FLAG</a></div><div class="ttdef"><b>Definition:</b> btr0cur.h:39</div></div>
<div class="ttc" id="row0umod_8cc_html_a52f37eb9bb0968a9a07c6cfc9b68d7a3"><div class="ttname"><a href="row0umod_8cc.html#a52f37eb9bb0968a9a07c6cfc9b68d7a3">heap</a></div><div class="ttdeci">static ulint mem_heap_t mem_heap_t * heap</div><div class="ttdef"><b>Definition:</b> row0umod.cc:80</div></div>
<div class="ttc" id="row0umod_8cc_html_a6a975f02e8f3909627020f06146ee9dd"><div class="ttname"><a href="row0umod_8cc.html#a6a975f02e8f3909627020f06146ee9dd">thr</a></div><div class="ttdeci">static ulint mem_heap_t mem_heap_t const dtuple_t byte que_thr_t * thr</div><div class="ttdef"><b>Definition:</b> row0umod.cc:80</div></div>
<div class="ttc" id="btr0cur_8cc_html_a64b74099a04e706fcd43989aa373e9bd"><div class="ttname"><a href="btr0cur_8cc.html#a64b74099a04e706fcd43989aa373e9bd">btr_cur_pessimistic_update</a></div><div class="ttdeci">UNIV_INTERN dberr_t btr_cur_pessimistic_update(ulint flags, btr_cur_t *cursor, ulint **offsets, mem_heap_t **offsets_heap, mem_heap_t *entry_heap, big_rec_t **big_rec, const upd_t *update, ulint cmpl_info, que_thr_t *thr, trx_id_t trx_id, mtr_t *mtr)</div><div class="ttdef"><b>Definition:</b> btr0cur.cc:2410</div></div>
<div class="ttc" id="row0umod_8cc_html_a508b1008a7f067e7bfe54ebcbff63609"><div class="ttname"><a href="row0umod_8cc.html#a508b1008a7f067e7bfe54ebcbff63609">offsets_heap</a></div><div class="ttdeci">static ulint mem_heap_t ** offsets_heap</div><div class="ttdef"><b>Definition:</b> row0umod.cc:80</div></div>
<div class="ttc" id="que0que_8h_html_a8a52bb487c54522cbb437ee19563c990"><div class="ttname"><a href="que0que_8h.html#a8a52bb487c54522cbb437ee19563c990">thr_get_trx</a></div><div class="ttdeci">UNIV_INLINE trx_t * thr_get_trx(que_thr_t *thr)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a52f37eb9bb0968a9a07c6cfc9b68d7a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52f37eb9bb0968a9a07c6cfc9b68d7a3">&#9670;&nbsp;</a></span>heap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">heap = <a class="el" href="mem0mem_8h.html#a37b03a5cbf64e5271e6c62a9cc6bb5b5">mem_heap_create</a>(1024)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>in/out: memory heap </p>

</div>
</div>
<a id="a9512f01f425b32d827ba231f5e6ad8fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9512f01f425b32d827ba231f5e6ad8fb">&#9670;&nbsp;</a></span>index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdict__index__t.html">dict_index_t</a>* index = <a class="el" href="btr0cur_8h.html#a5a7d338c847f204984733a9fdbe14789">btr_cur_get_index</a>(btr_pcur_get_btr_cur(<a class="el" href="row0upd_8cc.html#a26180b7ae7c02fc3d73b25a2b07affdf">pcur</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>in: index</p>
<p>&lt; in/out: transaction</p>
<p>&lt; in: secondary index </p>

</div>
</div>
<a id="a72b8a027308addc643f9adf5e4d41f9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72b8a027308addc643f9adf5e4d41f9a">&#9670;&nbsp;</a></span>mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structque__thr__t.html">que_thr_t</a> <a class="el" href="structdict__index__t.html">dict_index_t</a> <a class="el" href="structdtuple__t.html">dtuple_t</a> ulint mode</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">        <a class="code" href="structbtr__pcur__t.html">btr_pcur_t</a>*     <a class="code" href="btr0btr_8cc.html#a12c16256ae2c489cf64ca4bf580895a7">pcur</a></div><div class="ttc" id="structbtr__pcur__t_html"><div class="ttname"><a href="structbtr__pcur__t.html">btr_pcur_t</a></div><div class="ttdef"><b>Definition:</b> btr0pcur.h:495</div></div>
<div class="ttc" id="btr0btr_8cc_html_a12c16256ae2c489cf64ca4bf580895a7"><div class="ttname"><a href="btr0btr_8cc.html#a12c16256ae2c489cf64ca4bf580895a7">pcur</a></div><div class="ttdeci">page_cur_t pcur</div><div class="ttdef"><b>Definition:</b> btr0btr.cc:2790</div></div>
</div><!-- fragment --><p>&lt; in: BTR_MODIFY_LEAF or BTR_MODIFY_TREE</p>
<p>&lt; in: latch mode BTR_MODIFY_LEAF or BTR_MODIFY_TREE </p>

</div>
</div>
<a id="a9f9c3f15b474d71916c4165bd4ff1098"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f9c3f15b474d71916c4165bd4ff1098">&#9670;&nbsp;</a></span>mtr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mtr0mtr_8h.html#a7fb2f4569b9596452ecd88dc3dd3a225">mtr_start</a>&amp; mtr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>in: mtr; must be committed before latching any further pages</p>
<p>in/out: mini-transaction </p>

</div>
</div>
<a id="ae896786dc14b19c8bcd07e813e8124f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae896786dc14b19c8bcd07e813e8124f6">&#9670;&nbsp;</a></span>offsets</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint* offsets = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; in: row undo node out: rec_get_offsets() on the record </p>

</div>
</div>
<a id="a508b1008a7f067e7bfe54ebcbff63609"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a508b1008a7f067e7bfe54ebcbff63609">&#9670;&nbsp;</a></span>offsets_heap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmem__block__info__t.html">mem_heap_t</a>* offsets_heap = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>in/out: memory heap that can be emptied </p>

</div>
</div>
<a id="ad630428c67bf7f39115708a39494ff62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad630428c67bf7f39115708a39494ff62">&#9670;&nbsp;</a></span>old_has</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">old_has</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="row0vers_8h.html#a6e3b4b536e97836bb39861438e0f7ca2">row_vers_old_has_index_entry</a>(FALSE,</div><div class="line">                                               btr_pcur_get_rec(&amp;(<a class="code" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;pcur)),</div><div class="line">                                               &amp;mtr_vers, <a class="code" href="row0umod_8cc.html#a9512f01f425b32d827ba231f5e6ad8fb">index</a>, <a class="code" href="struct__entry.html">entry</a>)</div><div class="ttc" id="row0umod_8cc_html_a9512f01f425b32d827ba231f5e6ad8fb"><div class="ttname"><a href="row0umod_8cc.html#a9512f01f425b32d827ba231f5e6ad8fb">index</a></div><div class="ttdeci">dict_index_t * index</div><div class="ttdef"><b>Definition:</b> row0umod.cc:256</div></div>
<div class="ttc" id="dict0crea_8cc_html_a031463c80760e1002350e552afd98dd9"><div class="ttname"><a href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a></div><div class="ttdeci">static tab_node_t * node</div><div class="ttdef"><b>Definition:</b> dict0crea.cc:255</div></div>
<div class="ttc" id="row0vers_8h_html_a6e3b4b536e97836bb39861438e0f7ca2"><div class="ttname"><a href="row0vers_8h.html#a6e3b4b536e97836bb39861438e0f7ca2">row_vers_old_has_index_entry</a></div><div class="ttdeci">UNIV_INTERN ibool row_vers_old_has_index_entry(ibool also_curr, const rec_t *rec, mtr_t *mtr, dict_index_t *index, const dtuple_t *ientry)</div><div class="ttdef"><b>Definition:</b> row0vers.cc:359</div></div>
<div class="ttc" id="struct__entry_html"><div class="ttname"><a href="struct__entry.html">_entry</a></div><div class="ttdef"><b>Definition:</b> completion_hash.h:28</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a37c32eedc4fbd64837b631c06863691e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37c32eedc4fbd64837b631c06863691e">&#9670;&nbsp;</a></span>ptr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ptr</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="trx0rec_8h.html#aa06814b815620b874de8622aba281bca">trx_undo_rec_get_pars</a>(<a class="code" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;undo_rec, &amp;type, &amp;<a class="code" href="btr0cur_8cc.html#ab7e363c98b33d8339e7170309cd05207">cmpl_info</a>,</div><div class="line">                                    &amp;dummy_extern, &amp;undo_no, &amp;table_id)</div><div class="ttc" id="trx0rec_8h_html_aa06814b815620b874de8622aba281bca"><div class="ttname"><a href="trx0rec_8h.html#aa06814b815620b874de8622aba281bca">trx_undo_rec_get_pars</a></div><div class="ttdeci">UNIV_INTERN byte * trx_undo_rec_get_pars(trx_undo_rec_t *undo_rec, ulint *type, ulint *cmpl_info, bool *updated_extern, undo_no_t *undo_no, table_id_t *table_id) __attribute__((nonnull))</div><div class="ttdef"><b>Definition:</b> trx0rec.cc:283</div></div>
<div class="ttc" id="dict0crea_8cc_html_a031463c80760e1002350e552afd98dd9"><div class="ttname"><a href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a></div><div class="ttdeci">static tab_node_t * node</div><div class="ttdef"><b>Definition:</b> dict0crea.cc:255</div></div>
<div class="ttc" id="btr0cur_8cc_html_ab7e363c98b33d8339e7170309cd05207"><div class="ttname"><a href="btr0cur_8cc.html#ab7e363c98b33d8339e7170309cd05207">cmpl_info</a></div><div class="ttdeci">UNIV_INLINE btr_cur_t const ulint const upd_t ulint cmpl_info</div><div class="ttdef"><b>Definition:</b> btr0cur.cc:1660</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aca656b4506dbceada4e37f198035537c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca656b4506dbceada4e37f198035537c">&#9670;&nbsp;</a></span>rebuilt_old_pk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structdtuple__t.html">dtuple_t</a> * rebuilt_old_pk</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>out: <a class="el" href="row0log_8h.html#aabf9b8be7af95f125ce8f8b39d647d47">row_log_table_get_pk()</a> before the update, or NULL if the table is not being rebuilt online or the PRIMARY KEY definition does not change </p>

</div>
</div>
<a id="a1a12f000a5e6a6ac03275276304e9485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a12f000a5e6a6ac03275276304e9485">&#9670;&nbsp;</a></span>search_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="row0row_8h.html#ada50af148cc3c93ea77b5cbde1083610">row_search_result</a> search_result</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="row0row_8h.html#ad4e78e9296ff890a90f968598d3605c3">row_search_index_entry</a>(<a class="code" href="row0umod_8cc.html#a9512f01f425b32d827ba231f5e6ad8fb">index</a>, <a class="code" href="struct__entry.html">entry</a>, <a class="code" href="row0umod_8cc.html#a72b8a027308addc643f9adf5e4d41f9a">mode</a>,</div><div class="line">                                               &amp;pcur, &amp;<a class="code" href="row0umod_8cc.html#a9f9c3f15b474d71916c4165bd4ff1098">mtr</a>)</div><div class="ttc" id="row0umod_8cc_html_a9512f01f425b32d827ba231f5e6ad8fb"><div class="ttname"><a href="row0umod_8cc.html#a9512f01f425b32d827ba231f5e6ad8fb">index</a></div><div class="ttdeci">dict_index_t * index</div><div class="ttdef"><b>Definition:</b> row0umod.cc:256</div></div>
<div class="ttc" id="row0umod_8cc_html_a9f9c3f15b474d71916c4165bd4ff1098"><div class="ttname"><a href="row0umod_8cc.html#a9f9c3f15b474d71916c4165bd4ff1098">mtr</a></div><div class="ttdeci">static ulint mem_heap_t mem_heap_t const dtuple_t byte que_thr_t mtr_t * mtr</div><div class="ttdef"><b>Definition:</b> row0umod.cc:80</div></div>
<div class="ttc" id="row0umod_8cc_html_a72b8a027308addc643f9adf5e4d41f9a"><div class="ttname"><a href="row0umod_8cc.html#a72b8a027308addc643f9adf5e4d41f9a">mode</a></div><div class="ttdeci">static ulint mem_heap_t mem_heap_t const dtuple_t byte que_thr_t mtr_t ulint mode</div><div class="ttdef"><b>Definition:</b> row0umod.cc:95</div></div>
<div class="ttc" id="row0row_8h_html_ad4e78e9296ff890a90f968598d3605c3"><div class="ttname"><a href="row0row_8h.html#ad4e78e9296ff890a90f968598d3605c3">row_search_index_entry</a></div><div class="ttdeci">UNIV_INTERN enum row_search_result row_search_index_entry(dict_index_t *index, const dtuple_t *entry, ulint mode, btr_pcur_t *pcur, mtr_t *mtr) __attribute__((nonnull</div></div>
<div class="ttc" id="struct__entry_html"><div class="ttname"><a href="struct__entry.html">_entry</a></div><div class="ttdef"><b>Definition:</b> completion_hash.h:28</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6ee8d13bf1e292b3c1660a66e846fa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6ee8d13bf1e292b3c1660a66e846fa7">&#9670;&nbsp;</a></span>success</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">success</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= btr_pcur_restore_position(<a class="code" href="btr0btr_8h.html#a8942ffb96a9806bad36ef97d7e4f7002a851af4ea6177309bedbe8f143726ccd8">BTR_SEARCH_LEAF</a>, &amp;(<a class="code" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a>-&gt;pcur),</div><div class="line">                                            &amp;mtr_vers)</div><div class="ttc" id="dict0crea_8cc_html_a031463c80760e1002350e552afd98dd9"><div class="ttname"><a href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a></div><div class="ttdeci">static tab_node_t * node</div><div class="ttdef"><b>Definition:</b> dict0crea.cc:255</div></div>
<div class="ttc" id="btr0btr_8h_html_a8942ffb96a9806bad36ef97d7e4f7002a851af4ea6177309bedbe8f143726ccd8"><div class="ttname"><a href="btr0btr_8h.html#a8942ffb96a9806bad36ef97d7e4f7002a851af4ea6177309bedbe8f143726ccd8">BTR_SEARCH_LEAF</a></div><div class="ttdef"><b>Definition:</b> btr0btr.h:57</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab16f0a0409a929684e779c9d1ecb6284"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab16f0a0409a929684e779c9d1ecb6284">&#9670;&nbsp;</a></span>sys</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte sys</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>out: DB_TRX_ID, DB_ROLL_PTR for <a class="el" href="row0log_8h.html#adc8303ffd993f5e73fd5c4ba67e21f41">row_log_table_delete()</a> </p>

</div>
</div>
<a id="ae6eceaed4efca83493f598f17b1f66df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6eceaed4efca83493f598f17b1f66df">&#9670;&nbsp;</a></span>table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="dict0crea_8cc.html#a031463c80760e1002350e552afd98dd9">node</a> table</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= <a class="code" href="dict0dict_8cc.html#a16fc5eb076cc17572bf406ee7ab1f9e8">dict_table_open_on_id</a>(</div><div class="line">                table_id, <a class="code" href="row0umod_8cc.html#a9a21208d7771d5950d52e7c903e9b017">dict_locked</a>, <a class="code" href="dict0dict_8h.html#ad37e188831074bcf7fdae6bd963a1599aca5dacda41b8d55d5015945d1ff28818">DICT_TABLE_OP_NORMAL</a>)</div><div class="ttc" id="row0umod_8cc_html_a9a21208d7771d5950d52e7c903e9b017"><div class="ttname"><a href="row0umod_8cc.html#a9a21208d7771d5950d52e7c903e9b017">dict_locked</a></div><div class="ttdeci">static ibool dict_locked</div><div class="ttdef"><b>Definition:</b> row0umod.cc:1037</div></div>
<div class="ttc" id="dict0dict_8cc_html_a16fc5eb076cc17572bf406ee7ab1f9e8"><div class="ttname"><a href="dict0dict_8cc.html#a16fc5eb076cc17572bf406ee7ab1f9e8">dict_table_open_on_id</a></div><div class="ttdeci">UNIV_INTERN dict_table_t * dict_table_open_on_id(table_id_t table_id, ibool dict_locked, dict_table_op_t table_op)</div><div class="ttdef"><b>Definition:</b> dict0dict.cc:930</div></div>
<div class="ttc" id="dict0dict_8h_html_ad37e188831074bcf7fdae6bd963a1599aca5dacda41b8d55d5015945d1ff28818"><div class="ttname"><a href="dict0dict_8h.html#ad37e188831074bcf7fdae6bd963a1599aca5dacda41b8d55d5015945d1ff28818">DICT_TABLE_OP_NORMAL</a></div><div class="ttdef"><b>Definition:</b> dict0dict.h:115</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a975f02e8f3909627020f06146ee9dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a975f02e8f3909627020f06146ee9dd">&#9670;&nbsp;</a></span>thr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structque__thr__t.html">que_thr_t</a>* thr</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">        <a class="code" href="structbtr__pcur__t.html">btr_pcur_t</a>*     <a class="code" href="btr0btr_8cc.html#a12c16256ae2c489cf64ca4bf580895a7">pcur</a></div><div class="ttc" id="structbtr__pcur__t_html"><div class="ttname"><a href="structbtr__pcur__t.html">btr_pcur_t</a></div><div class="ttdef"><b>Definition:</b> btr0pcur.h:495</div></div>
<div class="ttc" id="btr0btr_8cc_html_a12c16256ae2c489cf64ca4bf580895a7"><div class="ttname"><a href="btr0btr_8cc.html#a12c16256ae2c489cf64ca4bf580895a7">pcur</a></div><div class="ttdeci">page_cur_t pcur</div><div class="ttdef"><b>Definition:</b> btr0btr.cc:2790</div></div>
</div><!-- fragment --><p>in: query thread</p>
<p>&lt; in: row undo node in: query thread</p>
<p>&lt; in: row undo node</p>
<p>&lt; in: query thread</p>
<p>&lt; in: search mode: BTR_MODIFY_LEAF or BTR_MODIFY_TREE in: query thread </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
