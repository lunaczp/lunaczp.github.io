<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: storage/innobase/dict/dict0stats_bg.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_c831b130efbf9169b51e663499b9ee52.html">dict</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">dict0stats_bg.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="row0mysql_8h_source.html">row0mysql.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0start_8h_source.html">srv0start.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dict0stats_8h_source.html">dict0stats.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dict0stats__bg_8h_source.html">dict0stats_bg.h</a>&quot;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a69ce69ff3ca771b3773af14f94074435"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8cc.html#a69ce69ff3ca771b3773af14f94074435">MIN_RECALC_INTERVAL</a>&#160;&#160;&#160;10 /* seconds */</td></tr>
<tr class="separator:a69ce69ff3ca771b3773af14f94074435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a190c7f832c135e826df4116d84b82a1c"><td class="memItemLeft" align="right" valign="top"><a id="a190c7f832c135e826df4116d84b82a1c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SHUTTING_DOWN</b>()&#160;&#160;&#160;(<a class="el" href="srv0start_8h.html#a5381292898f35b48580d14623f2a7906">srv_shutdown_state</a> != <a class="el" href="srv0start_8h.html#a5381292898f35b48580d14623f2a7906a098f81bef6335aeda3cd8cfd5cb3be60">SRV_SHUTDOWN_NONE</a>)</td></tr>
<tr class="separator:a190c7f832c135e826df4116d84b82a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:af19403546220054c83f7cd7319c0873a"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; table_id_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8cc.html#af19403546220054c83f7cd7319c0873a">recalc_pool_t</a></td></tr>
<tr class="separator:af19403546220054c83f7cd7319c0873a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa62c395e975fb009fa7947d87445c335"><td class="memItemLeft" align="right" valign="top"><a id="aa62c395e975fb009fa7947d87445c335"></a>
typedef recalc_pool_t::iterator&#160;</td><td class="memItemRight" valign="bottom"><b>recalc_pool_iterator_t</b></td></tr>
<tr class="separator:aa62c395e975fb009fa7947d87445c335"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abf4f9a43717b6c6589b0b36a5a2de028"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8cc.html#abf4f9a43717b6c6589b0b36a5a2de028">dict_stats_recalc_pool_init</a> ()</td></tr>
<tr class="separator:abf4f9a43717b6c6589b0b36a5a2de028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42c14d210834b9e34923f1b56b0e727d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8cc.html#a42c14d210834b9e34923f1b56b0e727d">dict_stats_recalc_pool_deinit</a> ()</td></tr>
<tr class="separator:a42c14d210834b9e34923f1b56b0e727d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc483afed31ce1a69f099ebe5483a6dc"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8cc.html#acc483afed31ce1a69f099ebe5483a6dc">dict_stats_recalc_pool_add</a> (const <a class="el" href="structdict__table__t.html">dict_table_t</a> *<a class="el" href="row0upd_8cc.html#ab172ed3d3d31ff02fc5f798fe7e1bfb8">table</a>)</td></tr>
<tr class="separator:acc483afed31ce1a69f099ebe5483a6dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a431852dd42538e8c8bc334f68c187297"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8cc.html#a431852dd42538e8c8bc334f68c187297">dict_stats_recalc_pool_get</a> (table_id_t *<a class="el" href="trx0undo_8cc.html#a42c94db63b554b8c7fa2a814f1f3dc8f">id</a>)</td></tr>
<tr class="separator:a431852dd42538e8c8bc334f68c187297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8ab2829a348e3e07217892595f05a7f"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8cc.html#ae8ab2829a348e3e07217892595f05a7f">dict_stats_recalc_pool_del</a> (const <a class="el" href="structdict__table__t.html">dict_table_t</a> *<a class="el" href="row0upd_8cc.html#ab172ed3d3d31ff02fc5f798fe7e1bfb8">table</a>)</td></tr>
<tr class="separator:ae8ab2829a348e3e07217892595f05a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31bf3f34e8eca410a1e09f42446cdac2"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8cc.html#a31bf3f34e8eca410a1e09f42446cdac2">dict_stats_wait_bg_to_stop_using_table</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *<a class="el" href="row0upd_8cc.html#ab172ed3d3d31ff02fc5f798fe7e1bfb8">table</a>, <a class="el" href="structtrx__t.html">trx_t</a> *<a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>)</td></tr>
<tr class="separator:a31bf3f34e8eca410a1e09f42446cdac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a9a2ab7cc062a44dae800153b15ec55"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8cc.html#a8a9a2ab7cc062a44dae800153b15ec55">dict_stats_thread_init</a> ()</td></tr>
<tr class="separator:a8a9a2ab7cc062a44dae800153b15ec55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3bdd81a8bc2296a94c3ae0cbfca226d"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8cc.html#ac3bdd81a8bc2296a94c3ae0cbfca226d">dict_stats_thread_deinit</a> ()</td></tr>
<tr class="separator:ac3bdd81a8bc2296a94c3ae0cbfca226d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c414d662ad0ab9830e2499ef1b61f66"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8cc.html#a0c414d662ad0ab9830e2499ef1b61f66">dict_stats_process_entry_from_recalc_pool</a> ()</td></tr>
<tr class="separator:a0c414d662ad0ab9830e2499ef1b61f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1465f7e39bdc2f01a335ddd59a21bbcf"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN os_thread_ret_t <a class="el" href="os0thread_8h.html#a973a9b61391e09b9846b41b469363aa5">DECLARE_THREAD</a>()&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8cc.html#a1465f7e39bdc2f01a335ddd59a21bbcf">dict_stats_thread</a> (void *arg <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((unused)))</td></tr>
<tr class="separator:a1465f7e39bdc2f01a335ddd59a21bbcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a70078150f948ed820302b747c8e7aeec"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="os0sync_8h.html#ae24909be432e4a95bd956a707e4d1d20">os_event_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8cc.html#a70078150f948ed820302b747c8e7aeec">dict_stats_event</a> = NULL</td></tr>
<tr class="separator:a70078150f948ed820302b747c8e7aeec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f4559793d98f1c20fea4019474cc948"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structib__mutex__t.html">ib_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8cc.html#a5f4559793d98f1c20fea4019474cc948">recalc_pool_mutex</a></td></tr>
<tr class="separator:a5f4559793d98f1c20fea4019474cc948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a106af2d91f73f60cdd1b67d0555861a4"><td class="memItemLeft" align="right" valign="top"><a id="a106af2d91f73f60cdd1b67d0555861a4"></a>
static mysql_pfs_key_t&#160;</td><td class="memItemRight" valign="bottom"><b>recalc_pool_mutex_key</b></td></tr>
<tr class="separator:a106af2d91f73f60cdd1b67d0555861a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ecb1feb2a4a4dcb8f8cfbace0b1de9b"><td class="memItemLeft" align="right" valign="top">static const ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats__bg_8cc.html#a3ecb1feb2a4a4dcb8f8cfbace0b1de9b">RECALC_POOL_INITIAL_SLOTS</a> = 128</td></tr>
<tr class="separator:a3ecb1feb2a4a4dcb8f8cfbace0b1de9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c92277e24ccbd44ac33ee602e54d52f"><td class="memItemLeft" align="right" valign="top"><a id="a2c92277e24ccbd44ac33ee602e54d52f"></a>
static <a class="el" href="dict0stats__bg_8cc.html#af19403546220054c83f7cd7319c0873a">recalc_pool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>recalc_pool</b></td></tr>
<tr class="separator:a2c92277e24ccbd44ac33ee602e54d52f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Code used for background table and index stats gathering.</p>
<p>Created Apr 25, 2012 Vasil Dimov </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a69ce69ff3ca771b3773af14f94074435"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69ce69ff3ca771b3773af14f94074435">&#9670;&nbsp;</a></span>MIN_RECALC_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_RECALC_INTERVAL&#160;&#160;&#160;10 /* seconds */</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Minimum time interval between stats recalc for a given table </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="af19403546220054c83f7cd7319c0873a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af19403546220054c83f7cd7319c0873a">&#9670;&nbsp;</a></span>recalc_pool_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;table_id_t&gt; <a class="el" href="dict0stats__bg_8cc.html#af19403546220054c83f7cd7319c0873a">recalc_pool_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The multitude of tables whose stats are to be automatically recalculated - an STL vector </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0c414d662ad0ab9830e2499ef1b61f66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c414d662ad0ab9830e2499ef1b61f66">&#9670;&nbsp;</a></span>dict_stats_process_entry_from_recalc_pool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dict_stats_process_entry_from_recalc_pool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the first table that has been added for auto recalc and eventually update its stats. </p>

</div>
</div>
<a id="acc483afed31ce1a69f099ebe5483a6dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc483afed31ce1a69f099ebe5483a6dc">&#9670;&nbsp;</a></span>dict_stats_recalc_pool_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void dict_stats_recalc_pool_add </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a table to the recalc pool, which is processed by the background stats gathering thread. Only the table id is added to the list, so the table can be closed after being enqueued and it will be opened when needed. If the table does not exist later (has been DROPped), then it will be removed from the pool and skipped. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in: table to add </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a42c14d210834b9e34923f1b56b0e727d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42c14d210834b9e34923f1b56b0e727d">&#9670;&nbsp;</a></span>dict_stats_recalc_pool_deinit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dict_stats_recalc_pool_deinit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Free the resources occupied by the recalc pool, called once during thread de-initialization. </p>

</div>
</div>
<a id="ae8ab2829a348e3e07217892595f05a7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8ab2829a348e3e07217892595f05a7f">&#9670;&nbsp;</a></span>dict_stats_recalc_pool_del()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void dict_stats_recalc_pool_del </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Delete a given table from the auto recalc pool. <a class="el" href="dict0stats__bg_8cc.html#ae8ab2829a348e3e07217892595f05a7f">dict_stats_recalc_pool_del()</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in: table to remove </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a431852dd42538e8c8bc334f68c187297"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a431852dd42538e8c8bc334f68c187297">&#9670;&nbsp;</a></span>dict_stats_recalc_pool_get()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool dict_stats_recalc_pool_get </td>
          <td>(</td>
          <td class="paramtype">table_id_t *&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a table from the auto recalc pool. The returned table id is removed from the pool. </p><dl class="section return"><dt>Returns</dt><dd>true if the pool was non-empty and "id" was set, false otherwise </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>out: table id, or unmodified if list is empty </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abf4f9a43717b6c6589b0b36a5a2de028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf4f9a43717b6c6589b0b36a5a2de028">&#9670;&nbsp;</a></span>dict_stats_recalc_pool_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void dict_stats_recalc_pool_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize the recalc pool, called once during thread initialization. </p>

</div>
</div>
<a id="a1465f7e39bdc2f01a335ddd59a21bbcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1465f7e39bdc2f01a335ddd59a21bbcf">&#9670;&nbsp;</a></span>dict_stats_thread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN os_thread_ret_t <a class="el" href="os0thread_8h.html#a973a9b61391e09b9846b41b469363aa5">DECLARE_THREAD</a>() dict_stats_thread </td>
          <td>(</td>
          <td class="paramtype">void *arg &#160;</td>
          <td class="paramname"><em>__attribute__</em>(unused)</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the thread for background stats gathering. It pops tables, from the auto recalc list and proceeds them, eventually recalculating their statistics. </p><dl class="section return"><dt>Returns</dt><dd>this function does not return, it calls <a class="el" href="os0thread_8h.html#a0fd49b8f981f8c7ee538d8b3937ed7ed">os_thread_exit()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">__attribute__</td><td>in: a dummy parameter required by os_thread_create </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac3bdd81a8bc2296a94c3ae0cbfca226d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3bdd81a8bc2296a94c3ae0cbfca226d">&#9670;&nbsp;</a></span>dict_stats_thread_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void dict_stats_thread_deinit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free resources allocated by <a class="el" href="dict0stats__bg_8cc.html#a8a9a2ab7cc062a44dae800153b15ec55">dict_stats_thread_init()</a>, must be called after <a class="el" href="dict0stats__bg_8cc.html#a1465f7e39bdc2f01a335ddd59a21bbcf">dict_stats_thread()</a> has exited. </p>

</div>
</div>
<a id="a8a9a2ab7cc062a44dae800153b15ec55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a9a2ab7cc062a44dae800153b15ec55">&#9670;&nbsp;</a></span>dict_stats_thread_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void dict_stats_thread_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize global variables needed for the operation of <a class="el" href="dict0stats__bg_8cc.html#a1465f7e39bdc2f01a335ddd59a21bbcf">dict_stats_thread()</a> Must be called before <a class="el" href="dict0stats__bg_8cc.html#a1465f7e39bdc2f01a335ddd59a21bbcf">dict_stats_thread()</a> is started. </p>

</div>
</div>
<a id="a31bf3f34e8eca410a1e09f42446cdac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31bf3f34e8eca410a1e09f42446cdac2">&#9670;&nbsp;</a></span>dict_stats_wait_bg_to_stop_using_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void dict_stats_wait_bg_to_stop_using_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td>
          <td class="paramname"><em>trx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait until background stats thread has stopped using the specified table. The caller must have locked the data dictionary using row_mysql_lock_data_dictionary() and this function may unlock it temporarily and restore the lock before it exits. The background stats thread is guaranteed not to start using the specified table after this function returns and before the caller unlocks the data dictionary because it sets the BG_STAT_IN_PROGRESS bit in table-&gt;stats_bg_flag under dict_sys-&gt;mutex. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in/out: table </td></tr>
    <tr><td class="paramname">trx</td><td>in/out: transaction to use for unlocking/locking the data dict </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a70078150f948ed820302b747c8e7aeec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70078150f948ed820302b747c8e7aeec">&#9670;&nbsp;</a></span>dict_stats_event</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="os0sync_8h.html#ae24909be432e4a95bd956a707e4d1d20">os_event_t</a> dict_stats_event = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Event to wake up the stats thread </p>

</div>
</div>
<a id="a3ecb1feb2a4a4dcb8f8cfbace0b1de9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ecb1feb2a4a4dcb8f8cfbace0b1de9b">&#9670;&nbsp;</a></span>RECALC_POOL_INITIAL_SLOTS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ulint RECALC_POOL_INITIAL_SLOTS = 128</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The number of tables that can be added to "recalc_pool" before it is enlarged </p>

</div>
</div>
<a id="a5f4559793d98f1c20fea4019474cc948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f4559793d98f1c20fea4019474cc948">&#9670;&nbsp;</a></span>recalc_pool_mutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structib__mutex__t.html">ib_mutex_t</a> recalc_pool_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This mutex protects the "recalc_pool" variable. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
