<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: Slave_reporting_capability Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_slave__reporting__capability-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Slave_reporting_capability Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="rpl__reporting_8h_source.html">rpl_reporting.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Slave_reporting_capability:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_slave__reporting__capability.png" usemap="#Slave_5Freporting_5Fcapability_map" alt=""/>
  <map id="Slave_5Freporting_5Fcapability_map" name="Slave_5Freporting_5Fcapability_map">
<area href="class_rpl__info.html" alt="Rpl_info" shape="rect" coords="0,56,163,80"/>
<area href="class_relay__log__info.html" alt="Relay_log_info" shape="rect" coords="0,112,163,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave__reporting__capability_1_1_error.html">Error</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a120871d274a89b1dcb0e8e67490e4987"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave__reporting__capability.html#a120871d274a89b1dcb0e8e67490e4987">Slave_reporting_capability</a> (char const *thread_name)</td></tr>
<tr class="separator:a120871d274a89b1dcb0e8e67490e4987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b2bfab7387d30320e6c0b8699de5396"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave__reporting__capability.html#a5b2bfab7387d30320e6c0b8699de5396">report</a> (loglevel <a class="el" href="btr0btr_8cc.html#a46e504d299fb7ca943fc98a74051f564">level</a>, int err_code, const char *<a class="el" href="structmsg.html">msg</a>,...) const ATTRIBUTE_FORMAT(printf</td></tr>
<tr class="separator:a5b2bfab7387d30320e6c0b8699de5396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a32842f1146badfbb20f02bae69a700"><td class="memItemLeft" align="right" valign="top"><a id="a7a32842f1146badfbb20f02bae69a700"></a>
virtual void void&#160;</td><td class="memItemRight" valign="bottom"><b>va_report</b> (loglevel <a class="el" href="btr0btr_8cc.html#a46e504d299fb7ca943fc98a74051f564">level</a>, int err_code, const char *prefix_msg, const char *<a class="el" href="structmsg.html">msg</a>, va_list v_args) const</td></tr>
<tr class="separator:a7a32842f1146badfbb20f02bae69a700"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9a535ead59729c45f3d244490595a8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave__reporting__capability.html#ac9a535ead59729c45f3d244490595a8e">clear_error</a> ()</td></tr>
<tr class="separator:ac9a535ead59729c45f3d244490595a8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9584c38b1663a71b9bbb8c7fcaf6133d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave__reporting__capability.html#a9584c38b1663a71b9bbb8c7fcaf6133d">has_temporary_error</a> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, uint error_arg=0, bool *silent=0) const</td></tr>
<tr class="separator:a9584c38b1663a71b9bbb8c7fcaf6133d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a590c443cd0fef2bb44a4245159e4a9e4"><td class="memItemLeft" align="right" valign="top"><a id="a590c443cd0fef2bb44a4245159e4a9e4"></a>
<a class="el" href="class_slave__reporting__capability_1_1_error.html">Error</a> const  &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>last_error</b> () const</td></tr>
<tr class="separator:a590c443cd0fef2bb44a4245159e4a9e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0cd4b4a5b4576e79f72bd50af5dcb63"><td class="memItemLeft" align="right" valign="top"><a id="ad0cd4b4a5b4576e79f72bd50af5dcb63"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_error</b> () const</td></tr>
<tr class="separator:ad0cd4b4a5b4576e79f72bd50af5dcb63"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a6889000967fab001bcec9f1aad8e2966"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___thread__instrumentation.html#ga5303924710bf8356ede41ee68bca276f">mysql_mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave__reporting__capability.html#a6889000967fab001bcec9f1aad8e2966">err_lock</a></td></tr>
<tr class="separator:a6889000967fab001bcec9f1aad8e2966"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ab67d1296a64f06e10be5e64499dc8025"><td class="memItemLeft" align="right" valign="top"><a id="ab67d1296a64f06e10be5e64499dc8025"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>do_report</b> (loglevel <a class="el" href="btr0btr_8cc.html#a46e504d299fb7ca943fc98a74051f564">level</a>, int err_code, const char *<a class="el" href="structmsg.html">msg</a>, va_list v_args) const</td></tr>
<tr class="separator:ab67d1296a64f06e10be5e64499dc8025"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a424e69b7340ce4859d9b78803c43e04c"><td class="memItemLeft" align="right" valign="top"><a id="a424e69b7340ce4859d9b78803c43e04c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Slave_reporting_capability</b> (const <a class="el" href="class_slave__reporting__capability.html">Slave_reporting_capability</a> &amp;rhs)</td></tr>
<tr class="separator:a424e69b7340ce4859d9b78803c43e04c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14fd56b5ce69a1e5d8f51e4fe780d36d"><td class="memItemLeft" align="right" valign="top"><a id="a14fd56b5ce69a1e5d8f51e4fe780d36d"></a>
<a class="el" href="class_slave__reporting__capability.html">Slave_reporting_capability</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="class_slave__reporting__capability.html">Slave_reporting_capability</a> &amp;rhs)</td></tr>
<tr class="separator:a14fd56b5ce69a1e5d8f51e4fe780d36d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae98a14a03e2c638a21a5c1d83a547e86"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_slave__reporting__capability_1_1_error.html">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slave__reporting__capability.html#ae98a14a03e2c638a21a5c1d83a547e86">m_last_error</a></td></tr>
<tr class="separator:ae98a14a03e2c638a21a5c1d83a547e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0493675a16a87d5136a10c5d12f3c5c"><td class="memItemLeft" align="right" valign="top"><a id="af0493675a16a87d5136a10c5d12f3c5c"></a>
char const  *const&#160;</td><td class="memItemRight" valign="bottom"><b>m_thread_name</b></td></tr>
<tr class="separator:af0493675a16a87d5136a10c5d12f3c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Mix-in to handle the message logging and reporting for relay log info and master log info structures.</p>
<p>By inheriting from this class, the class is imbued with capabilities to do slave reporting. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a120871d274a89b1dcb0e8e67490e4987"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a120871d274a89b1dcb0e8e67490e4987">&#9670;&nbsp;</a></span>Slave_reporting_capability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Slave_reporting_capability::Slave_reporting_capability </td>
          <td>(</td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>thread_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread_name</td><td>Printable name of the slave thread that is reporting. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac9a535ead59729c45f3d244490595a8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9a535ead59729c45f3d244490595a8e">&#9670;&nbsp;</a></span>clear_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Slave_reporting_capability::clear_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Clear errors. They will not show up under <code>SHOW SLAVE STATUS</code>. </p>

</div>
</div>
<a id="a9584c38b1663a71b9bbb8c7fcaf6133d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9584c38b1663a71b9bbb8c7fcaf6133d">&#9670;&nbsp;</a></span>has_temporary_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Slave_reporting_capability::has_temporary_error </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>error_arg</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>silent</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="struct_check.html">Check</a> if the current error is of temporary nature or not.</p>
<p><a class="el" href="struct_check.html">Check</a> if the current error is of temporary nature or not. Some errors are temporary in nature, such as ER_LOCK_DEADLOCK and ER_LOCK_WAIT_TIMEOUT. Ndb also signals that the error is temporary by pushing a warning with the error code ER_GET_TEMPORARY_ERRMSG, if the originating error is temporary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>a THD instance, typically of the slave SQL thread's.  the error code for assessment. defaults to zero which makes the function check the top of the reported errors stack.  bool indicating whether the error should be silently handled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 as the positive and 0 as the negative verdict </dd></dl>

</div>
</div>
<a id="a5b2bfab7387d30320e6c0b8699de5396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b2bfab7387d30320e6c0b8699de5396">&#9670;&nbsp;</a></span>report()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Slave_reporting_capability::report </td>
          <td>(</td>
          <td class="paramtype">loglevel&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Writes a message and, if it's an error message, to Last_Error (which will be displayed by SHOW SLAVE STATUS).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>The severity level </td></tr>
    <tr><td class="paramname">err_code</td><td>The error code </td></tr>
    <tr><td class="paramname">msg</td><td>The message (usually related to the error code, but can contain more information), in printf() format. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6889000967fab001bcec9f1aad8e2966"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6889000967fab001bcec9f1aad8e2966">&#9670;&nbsp;</a></span>err_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___thread__instrumentation.html#ga5303924710bf8356ede41ee68bca276f">mysql_mutex_t</a> Slave_reporting_capability::err_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>lock used to synchronize m_last_error on 'SHOW SLAVE STATUS' </p>

</div>
</div>
<a id="ae98a14a03e2c638a21a5c1d83a547e86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae98a14a03e2c638a21a5c1d83a547e86">&#9670;&nbsp;</a></span>m_last_error</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_slave__reporting__capability_1_1_error.html">Error</a> Slave_reporting_capability::m_last_error</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Last error produced by the I/O or SQL thread respectively. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/<a class="el" href="rpl__reporting_8h_source.html">rpl_reporting.h</a></li>
<li>sql/rpl_reporting.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
