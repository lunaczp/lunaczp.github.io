<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: Load_log_processor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_load__log__processor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Load_log_processor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_load__log__processor_1_1_file__name__record.html">File_name_record</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2f5748c5c2e4355e94610b95a5d2c6ea"><td class="memItemLeft" align="right" valign="top"><a id="a2f5748c5c2e4355e94610b95a5d2c6ea"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>init</b> ()</td></tr>
<tr class="separator:a2f5748c5c2e4355e94610b95a5d2c6ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a31960af994e13362ea8479ac4c60a1"><td class="memItemLeft" align="right" valign="top"><a id="a8a31960af994e13362ea8479ac4c60a1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>init_by_dir_name</b> (const char *dir)</td></tr>
<tr class="separator:a8a31960af994e13362ea8479ac4c60a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec228ca8703916156dafe1b00ba03115"><td class="memItemLeft" align="right" valign="top"><a id="aec228ca8703916156dafe1b00ba03115"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>init_by_cur_dir</b> ()</td></tr>
<tr class="separator:aec228ca8703916156dafe1b00ba03115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a921d222cb9ea37fc0d0af99671d0a61b"><td class="memItemLeft" align="right" valign="top"><a id="a921d222cb9ea37fc0d0af99671d0a61b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>destroy</b> ()</td></tr>
<tr class="separator:a921d222cb9ea37fc0d0af99671d0a61b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67217098022e176b79b45edad9b75ca5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_create__file__log__event.html">Create_file_log_event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_load__log__processor.html#a67217098022e176b79b45edad9b75ca5">grab_event</a> (uint file_id)</td></tr>
<tr class="separator:a67217098022e176b79b45edad9b75ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeaa91675bb45932b44b5a8885ef739c"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_load__log__processor.html#abeaa91675bb45932b44b5a8885ef739c">grab_fname</a> (uint file_id)</td></tr>
<tr class="separator:abeaa91675bb45932b44b5a8885ef739c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab636a6e531115cd07167f157ce5ee612"><td class="memItemLeft" align="right" valign="top">Exit_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_load__log__processor.html#ab636a6e531115cd07167f157ce5ee612">process</a> (<a class="el" href="class_create__file__log__event.html">Create_file_log_event</a> *ce)</td></tr>
<tr class="separator:ab636a6e531115cd07167f157ce5ee612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed47b83e16273ad688bc0427d44c7a1"><td class="memItemLeft" align="right" valign="top">Exit_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_load__log__processor.html#afed47b83e16273ad688bc0427d44c7a1">process</a> (<a class="el" href="class_begin__load__query__log__event.html">Begin_load_query_log_event</a> *ce)</td></tr>
<tr class="separator:afed47b83e16273ad688bc0427d44c7a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad626c7a07dee79b85bad41b968bf73c1"><td class="memItemLeft" align="right" valign="top">Exit_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_load__log__processor.html#ad626c7a07dee79b85bad41b968bf73c1">process</a> (<a class="el" href="class_append__block__log__event.html">Append_block_log_event</a> *ae)</td></tr>
<tr class="separator:ad626c7a07dee79b85bad41b968bf73c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a444e6961bcb4d769cf8039ddc4a22b7e"><td class="memItemLeft" align="right" valign="top">File&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_load__log__processor.html#a444e6961bcb4d769cf8039ddc4a22b7e">prepare_new_file_for_old_format</a> (<a class="el" href="class_load__log__event.html">Load_log_event</a> *le, char *filename)</td></tr>
<tr class="separator:a444e6961bcb4d769cf8039ddc4a22b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac777b3c0446e34b488f5efba905d0789"><td class="memItemLeft" align="right" valign="top">Exit_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_load__log__processor.html#ac777b3c0446e34b488f5efba905d0789">load_old_format_file</a> (<a class="el" href="structst__net.html">NET</a> *net, const char *server_fname, uint server_fname_len, File <a class="el" href="row0quiesce_8cc.html#a702945180aa732857b380a007a7e2a21">file</a>)</td></tr>
<tr class="separator:ac777b3c0446e34b488f5efba905d0789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18b684a41e9894291020bfc1c8b8bc2b"><td class="memItemLeft" align="right" valign="top">Exit_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_load__log__processor.html#a18b684a41e9894291020bfc1c8b8bc2b">process_first_event</a> (const char *bname, size_t blen, const uchar *<a class="el" href="row0merge_8cc.html#a93c46cf7240dc5a16f8137e7d34a5049">block</a>, size_t block_len, uint file_id, <a class="el" href="class_create__file__log__event.html">Create_file_log_event</a> *ce)</td></tr>
<tr class="separator:a18b684a41e9894291020bfc1c8b8bc2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a838ef49645b6531832d77cd1c6ee7191"><td class="memItemLeft" align="right" valign="top">File&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_load__log__processor.html#a838ef49645b6531832d77cd1c6ee7191">create_unique_file</a> (char *filename, char *file_name_end)</td></tr>
<tr class="separator:a838ef49645b6531832d77cd1c6ee7191"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a6d6c73dd11bb63390cfe5457d777a544"><td class="memItemLeft" align="right" valign="top"><a id="a6d6c73dd11bb63390cfe5457d777a544"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>target_dir_name</b> [FN_REFLEN]</td></tr>
<tr class="separator:a6d6c73dd11bb63390cfe5457d777a544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2e0b3d0e05d107218c05b02af66754c"><td class="memItemLeft" align="right" valign="top"><a id="ae2e0b3d0e05d107218c05b02af66754c"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>target_dir_name_len</b></td></tr>
<tr class="separator:ae2e0b3d0e05d107218c05b02af66754c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6faca8aa4c42ea09ec813c8c4a8cd64"><td class="memItemLeft" align="right" valign="top"><a id="ab6faca8aa4c42ea09ec813c8c4a8cd64"></a>
<a class="el" href="structst__dynamic__array.html">DYNAMIC_ARRAY</a>&#160;</td><td class="memItemRight" valign="bottom"><b>file_names</b></td></tr>
<tr class="separator:ab6faca8aa4c42ea09ec813c8c4a8cd64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a838ef49645b6531832d77cd1c6ee7191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a838ef49645b6531832d77cd1c6ee7191">&#9670;&nbsp;</a></span>create_unique_file()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">File Load_log_processor::create_unique_file </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>file_name_end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Looks for a non-existing filename by adding a numerical suffix to the given base name, creates the generated file, and returns the filename by modifying the filename argument.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">filename</td><td>Base filename</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">file_name_end</td><td>Pointer to last character of filename. The numerical suffix will be written to this position. Note that there must be a least five bytes of allocated memory after file_name_end.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error (can't find new filename). </td></tr>
    <tr><td class="paramname">&gt;=0</td><td>Found file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a67217098022e176b79b45edad9b75ca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67217098022e176b79b45edad9b75ca5">&#9670;&nbsp;</a></span>grab_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_create__file__log__event.html">Create_file_log_event</a>* Load_log_processor::grab_event </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>file_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Obtain Create_file event for LOAD DATA statement by its file_id and remove it from this <a class="el" href="class_load__log__processor.html">Load_log_processor</a>'s list of events.</p>
<p>Checks whether we have already seen a <a class="el" href="class_create__file__log__event.html">Create_file_log_event</a> with the given file_id. If yes, returns a pointer to the event and removes the event from array describing active temporary files. From this moment, the caller is responsible for freeing the memory occupied by the event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file_id</td><td>File id identifying LOAD DATA statement.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to <a class="el" href="class_create__file__log__event.html">Create_file_log_event</a>, or NULL if we have not seen any <a class="el" href="class_create__file__log__event.html">Create_file_log_event</a> with this file_id. </dd></dl>

</div>
</div>
<a id="abeaa91675bb45932b44b5a8885ef739c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeaa91675bb45932b44b5a8885ef739c">&#9670;&nbsp;</a></span>grab_fname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* Load_log_processor::grab_fname </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>file_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Obtain file name of temporary file for LOAD DATA statement by its file_id and remove it from this <a class="el" href="class_load__log__processor.html">Load_log_processor</a>'s list of events.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file_id</td><td>Identifier for the LOAD DATA statement.</td></tr>
  </table>
  </dd>
</dl>
<p>Checks whether we have already seen Begin_load_query event for this file_id. If yes, returns the file name of the corresponding temporary file and removes the filename from the array of active temporary files. From this moment, the caller is responsible for freeing the memory occupied by this name.</p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_string.html">String</a> with the name of the temporary file, or NULL if we have not seen any Begin_load_query_event with this file_id. </dd></dl>

</div>
</div>
<a id="ac777b3c0446e34b488f5efba905d0789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac777b3c0446e34b488f5efba905d0789">&#9670;&nbsp;</a></span>load_old_format_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Exit_status Load_log_processor::load_old_format_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structst__net.html">NET</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>server_fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>server_fname_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">File&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads a file from a server and saves it locally.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">net</td><td>The server to read from.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">server_fname</td><td>The name of the file that the server should read.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">server_fname_len</td><td>The length of server_fname.</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">file</td><td>The file to write to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ERROR_STOP</td><td>An error occurred - the program should terminate. </td></tr>
    <tr><td class="paramname">OK_CONTINUE</td><td>No error, the program should continue. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a444e6961bcb4d769cf8039ddc4a22b7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a444e6961bcb4d769cf8039ddc4a22b7e">&#9670;&nbsp;</a></span>prepare_new_file_for_old_format()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">File Load_log_processor::prepare_new_file_for_old_format </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_load__log__event.html">Load_log_event</a> *&#160;</td>
          <td class="paramname"><em>le</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates and opens a new temporary file in the directory specified by previous call to init_by_dir_name() or init_by_cur_dir().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">le</td><td>The basename of the created file will start with the basename of the file pointed to by this <a class="el" href="class_load__log__event.html">Load_log_event</a>.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">filename</td><td>Buffer to save the filename in.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>File handle &gt;= 0 on success, -1 on error. </dd></dl>

</div>
</div>
<a id="ab636a6e531115cd07167f157ce5ee612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab636a6e531115cd07167f157ce5ee612">&#9670;&nbsp;</a></span>process() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Exit_status Load_log_processor::process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_create__file__log__event.html">Create_file_log_event</a> *&#160;</td>
          <td class="paramname"><em>ce</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process the given <a class="el" href="class_create__file__log__event.html">Create_file_log_event</a>.</p>
<dl class="section see"><dt>See also</dt><dd>Load_log_processor::process_first_event(const char*,uint,const char*,uint,uint,Create_file_log_event*)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ce</td><td><a class="el" href="class_create__file__log__event.html">Create_file_log_event</a> to process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ERROR_STOP</td><td>An error occurred - the program should terminate. </td></tr>
    <tr><td class="paramname">OK_CONTINUE</td><td>No error, the program should continue. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afed47b83e16273ad688bc0427d44c7a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afed47b83e16273ad688bc0427d44c7a1">&#9670;&nbsp;</a></span>process() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Exit_status Load_log_processor::process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_begin__load__query__log__event.html">Begin_load_query_log_event</a> *&#160;</td>
          <td class="paramname"><em>blqe</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process the given <a class="el" href="class_begin__load__query__log__event.html">Begin_load_query_log_event</a>.</p>
<dl class="section see"><dt>See also</dt><dd>Load_log_processor::process_first_event(const char*,uint,const char*,uint,uint,Create_file_log_event*)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ce</td><td><a class="el" href="class_begin__load__query__log__event.html">Begin_load_query_log_event</a> to process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ERROR_STOP</td><td>An error occurred - the program should terminate. </td></tr>
    <tr><td class="paramname">OK_CONTINUE</td><td>No error, the program should continue. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad626c7a07dee79b85bad41b968bf73c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad626c7a07dee79b85bad41b968bf73c1">&#9670;&nbsp;</a></span>process() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Exit_status Load_log_processor::process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_append__block__log__event.html">Append_block_log_event</a> *&#160;</td>
          <td class="paramname"><em>ae</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process the given <a class="el" href="class_append__block__log__event.html">Append_block_log_event</a>.</p>
<p>Appends the chunk of the file contents specified by the event to the file created by a previous <a class="el" href="class_begin__load__query__log__event.html">Begin_load_query_log_event</a> or <a class="el" href="class_create__file__log__event.html">Create_file_log_event</a>.</p>
<p>If the file_id for the event does not correspond to any file previously registered through a <a class="el" href="class_begin__load__query__log__event.html">Begin_load_query_log_event</a> or <a class="el" href="class_create__file__log__event.html">Create_file_log_event</a>, this member function will print a warning and return OK_CONTINUE. It is safe to return OK_CONTINUE, because no query will be written for this event. We should not print an error and fail, since the missing file_id could be because a (valid) &ndash;start-position has been specified after the Begin/Create event but before this Append event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ae</td><td><a class="el" href="class_append__block__log__event.html">Append_block_log_event</a> to process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ERROR_STOP</td><td>An error occurred - the program should terminate.</td></tr>
    <tr><td class="paramname">OK_CONTINUE</td><td>No error, the program should continue. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a18b684a41e9894291020bfc1c8b8bc2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18b684a41e9894291020bfc1c8b8bc2b">&#9670;&nbsp;</a></span>process_first_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Exit_status Load_log_processor::process_first_event </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>bname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>blen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uchar *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>block_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>file_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_create__file__log__event.html">Create_file_log_event</a> *&#160;</td>
          <td class="paramname"><em>ce</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Process the first event in the sequence of events representing a LOAD DATA statement.</p>
<p>Creates a temporary file to be used in LOAD DATA and writes first block of data to it. Registers its file name (and optional Create_file event) in the array of active temporary files.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bname</td><td>Base name for temporary file to be created. </td></tr>
    <tr><td class="paramname">blen</td><td>Base name length. </td></tr>
    <tr><td class="paramname">block</td><td>First block of data to be loaded. </td></tr>
    <tr><td class="paramname">block_len</td><td>First block length. </td></tr>
    <tr><td class="paramname">file_id</td><td>Identifies the LOAD DATA statement. </td></tr>
    <tr><td class="paramname">ce</td><td>Pointer to Create_file event object if we are processing this type of event.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ERROR_STOP</td><td>An error occurred - the program should terminate. </td></tr>
    <tr><td class="paramname">OK_CONTINUE</td><td>No error, the program should continue. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>client/mysqlbinlog.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
