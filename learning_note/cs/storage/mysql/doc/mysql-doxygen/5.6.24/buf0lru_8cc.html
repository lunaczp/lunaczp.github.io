<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: storage/innobase/buf/buf0lru.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_19e7dc57837d445aa8a255d4d3e40a16.html">buf</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">buf0lru.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="buf0lru_8h_source.html">buf0lru.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ut0byte_8h_source.html">ut0byte.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ut0lst_8h_source.html">ut0lst.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ut0rnd_8h_source.html">ut0rnd.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sync0sync_8h_source.html">sync0sync.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sync0rw_8h_source.html">sync0rw.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hash0hash_8h_source.html">hash0hash.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="os0sync_8h_source.html">os0sync.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fil0fil_8h_source.html">fil0fil.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="btr0btr_8h_source.html">btr0btr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="buf0buddy_8h_source.html">buf0buddy.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="buf0buf_8h_source.html">buf0buf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="buf0dblwr_8h_source.html">buf0dblwr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="buf0flu_8h_source.html">buf0flu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="buf0rea_8h_source.html">buf0rea.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="btr0sea_8h_source.html">btr0sea.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ibuf0ibuf_8h_source.html">ibuf0ibuf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="os0file_8h_source.html">os0file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="page0zip_8h_source.html">page0zip.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="log0recv_8h_source.html">log0recv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0srv_8h_source.html">srv0srv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="srv0mon_8h_source.html">srv0mon.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lock0lock_8h_source.html">lock0lock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ha__prototypes_8h_source.html">ha_prototypes.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4126c969aa70e6b3b1511e854f9425fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a4126c969aa70e6b3b1511e854f9425fe">BUF_LRU_OLD_TOLERANCE</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a4126c969aa70e6b3b1511e854f9425fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ae522780fb5a46bf2f9e4fe7b8a3ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a04ae522780fb5a46bf2f9e4fe7b8a3ec">BUF_LRU_NON_OLD_MIN_LEN</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a04ae522780fb5a46bf2f9e4fe7b8a3ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af478b6047eb8f2c693507955efb77701"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#af478b6047eb8f2c693507955efb77701">BUF_LRU_DROP_SEARCH_SIZE</a>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:af478b6047eb8f2c693507955efb77701"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abe7c6d92d3ed7089a3605e5d8a3329e7"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#abe7c6d92d3ed7089a3605e5d8a3329e7">__attribute__</a> ((nonnull, warn_unused_result)) bool buf_LRU_block_remove_hashed(<a class="el" href="structbuf__page__t.html">buf_page_t</a> *<a class="el" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a></td></tr>
<tr class="separator:abe7c6d92d3ed7089a3605e5d8a3329e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab233f0431f27c3a625ba58885478f460"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#ab233f0431f27c3a625ba58885478f460">buf_LRU_block_free_hashed_page</a> (<a class="el" href="structbuf__block__t.html">buf_block_t</a> *<a class="el" href="row0merge_8cc.html#a93c46cf7240dc5a16f8137e7d34a5049">block</a>)</td></tr>
<tr class="separator:ab233f0431f27c3a625ba58885478f460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1aac8fc7a20735bf5fca809492639f7"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#aa1aac8fc7a20735bf5fca809492639f7">incr_LRU_size_in_bytes</a> (<a class="el" href="structbuf__page__t.html">buf_page_t</a> *<a class="el" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a>, <a class="el" href="structbuf__pool__t.html">buf_pool_t</a> *buf_pool)</td></tr>
<tr class="separator:aa1aac8fc7a20735bf5fca809492639f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bd03c170ed086b99c0e0649d050dc88"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a9bd03c170ed086b99c0e0649d050dc88">buf_LRU_evict_from_unzip_LRU</a> (<a class="el" href="structbuf__pool__t.html">buf_pool_t</a> *buf_pool)</td></tr>
<tr class="separator:a9bd03c170ed086b99c0e0649d050dc88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7d92783c525b3a830791049d942c230"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#ab7d92783c525b3a830791049d942c230">buf_LRU_drop_page_hash_batch</a> (ulint space_id, ulint <a class="el" href="row0merge_8cc.html#acbd6f0665ead771e112f93b23cf27faf">zip_size</a>, const ulint *arr, ulint count)</td></tr>
<tr class="separator:ab7d92783c525b3a830791049d942c230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c62a91761ad636416329f28f30823bb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a1c62a91761ad636416329f28f30823bb">buf_LRU_drop_page_hash_for_tablespace</a> (<a class="el" href="structbuf__pool__t.html">buf_pool_t</a> *buf_pool, ulint <a class="el" href="trx0undo_8cc.html#a42c94db63b554b8c7fa2a814f1f3dc8f">id</a>)</td></tr>
<tr class="separator:a1c62a91761ad636416329f28f30823bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70beb49843d8737a91b069b9cd9a26b8"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a70beb49843d8737a91b069b9cd9a26b8">__attribute__</a> ((nonnull)) void buf_flush_yield(<a class="el" href="structbuf__pool__t.html">buf_pool_t</a> *buf_pool</td></tr>
<tr class="separator:a70beb49843d8737a91b069b9cd9a26b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc3c225d2568fb2ad9552f6d1638cbfb"><td class="memItemLeft" align="right" valign="top"><a id="afc3c225d2568fb2ad9552f6d1638cbfb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (<a class="el" href="buf0buf_8h.html#af996360800fd59fb8681a329ad2575bf">buf_pool_mutex_own</a>(buf_pool))</td></tr>
<tr class="separator:afc3c225d2568fb2ad9552f6d1638cbfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3438adff1fcdb47d35887b77e8daf334"><td class="memItemLeft" align="right" valign="top"><a id="a3438adff1fcdb47d35887b77e8daf334"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (<a class="el" href="buf0buf_8h.html#ae79d7bae0ed4e9170b2fe4c5186ed829">buf_page_in_file</a>(<a class="el" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a>))</td></tr>
<tr class="separator:a3438adff1fcdb47d35887b77e8daf334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0142214c943946f250c111ead3776cce"><td class="memItemLeft" align="right" valign="top"><a id="a0142214c943946f250c111ead3776cce"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mutex_enter</b> (block_mutex)</td></tr>
<tr class="separator:a0142214c943946f250c111ead3776cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b0202b9bde40cac00045499a9022c7"><td class="memItemLeft" align="right" valign="top"><a id="ac9b0202b9bde40cac00045499a9022c7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>buf_page_set_sticky</b> (<a class="el" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a>)</td></tr>
<tr class="separator:ac9b0202b9bde40cac00045499a9022c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcb4c8dede395772d8ff000f659c6b01"><td class="memItemLeft" align="right" valign="top"><a id="adcb4c8dede395772d8ff000f659c6b01"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>buf_pool_mutex_exit</b> (buf_pool)</td></tr>
<tr class="separator:adcb4c8dede395772d8ff000f659c6b01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12efcbb2ea85c7f804c9a1fd9ba21b25"><td class="memItemLeft" align="right" valign="top"><a id="a12efcbb2ea85c7f804c9a1fd9ba21b25"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>mutex_exit</b> (block_mutex)</td></tr>
<tr class="separator:a12efcbb2ea85c7f804c9a1fd9ba21b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa225c731f59fb0144cf54b337b948a8c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#aa225c731f59fb0144cf54b337b948a8c">os_thread_yield</a> ()</td></tr>
<tr class="separator:aa225c731f59fb0144cf54b337b948a8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dad967e7be17eb6d1a52538df4a70bf"><td class="memItemLeft" align="right" valign="top"><a id="a5dad967e7be17eb6d1a52538df4a70bf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>buf_pool_mutex_enter</b> (buf_pool)</td></tr>
<tr class="separator:a5dad967e7be17eb6d1a52538df4a70bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e9a02ebb5163962bb15a2ba17a6a8cb"><td class="memItemLeft" align="right" valign="top"><a id="a0e9a02ebb5163962bb15a2ba17a6a8cb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>buf_page_unset_sticky</b> (<a class="el" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a>)</td></tr>
<tr class="separator:a0e9a02ebb5163962bb15a2ba17a6a8cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7b6683d72e23091f0be64ade3c07626"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#ad7b6683d72e23091f0be64ade3c07626">__attribute__</a> ((nonnull(1), warn_unused_result)) bool buf_flush_try_yield(<a class="el" href="structbuf__pool__t.html">buf_pool_t</a> *buf_pool</td></tr>
<tr class="separator:ad7b6683d72e23091f0be64ade3c07626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6320cd15e1709ab434cf5ab28a4ed48d"><td class="memItemLeft" align="right" valign="top"><a id="a6320cd15e1709ab434cf5ab28a4ed48d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (<a class="el" href="buf0buf_8h.html#a7134f85ae33367e8860b6814c0866ff5">buf_flush_list_mutex_own</a>(buf_pool))</td></tr>
<tr class="separator:a6320cd15e1709ab434cf5ab28a4ed48d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9abb065ea1f65cd52a0af60f591ac79"><td class="memItemLeft" align="right" valign="top"><a id="ac9abb065ea1f65cd52a0af60f591ac79"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="buf0buf_8h.html#a582ef35466deda3f3d27f4d5e93e27bf">buf_page_get_io_fix</a>(<a class="el" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a>) !=<a class="el" href="buf0types_8h.html#a9d992d311e12fe579c419e7f98f80e27a192bde715fd3c4f171f095e1d4378720">BUF_IO_NONE</a>)</td></tr>
<tr class="separator:ac9abb065ea1f65cd52a0af60f591ac79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b2fecc1164654f15b754e988fae9ab1"><td class="memItemLeft" align="right" valign="top"><a id="a8b2fecc1164654f15b754e988fae9ab1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>buf_flush_list_mutex_exit</b> (buf_pool)</td></tr>
<tr class="separator:a8b2fecc1164654f15b754e988fae9ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263cb75e1807515f28f4754a2c229fbd"><td class="memItemLeft" align="right" valign="top"><a id="a263cb75e1807515f28f4754a2c229fbd"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (<a class="el" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a>-&gt;oldest_modification !=0)</td></tr>
<tr class="separator:a263cb75e1807515f28f4754a2c229fbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0221701dd71f30f537da79d1fb2272c0"><td class="memItemLeft" align="right" valign="top"><a id="a0221701dd71f30f537da79d1fb2272c0"></a>
<a class="el" href="fsp0fsp_8cc.html#a0544c3fe466e421738dae463968b70ba">else</a>&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="buf0flu_8h.html#a2f78450b4f183226e473298bc324d106">buf_flush_ready_for_flush</a>(<a class="el" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a>, <a class="el" href="buf0types_8h.html#a7b34944f1921a4bf7c1a28abfb86d73ca6c4cb4076e8400bef4c68fde99d5ee23">BUF_FLUSH_SINGLE_PAGE</a>) &amp;&amp;<a class="el" href="buf0flu_8h.html#ab5914fbbf06f6b008435e61ba0e3dadc">buf_flush_page</a>(buf_pool, <a class="el" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a>, <a class="el" href="buf0types_8h.html#a7b34944f1921a4bf7c1a28abfb86d73ca6c4cb4076e8400bef4c68fde99d5ee23">BUF_FLUSH_SINGLE_PAGE</a>, false))</td></tr>
<tr class="separator:a0221701dd71f30f537da79d1fb2272c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb78e0bb13db91ca4fd45371fe76963e"><td class="memItemLeft" align="right" valign="top"><a id="adb78e0bb13db91ca4fd45371fe76963e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>buf_flush_list_mutex_enter</b> (buf_pool)</td></tr>
<tr class="separator:adb78e0bb13db91ca4fd45371fe76963e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a604cce78175ce782278c800b03c1f84b"><td class="memItemLeft" align="right" valign="top"><a id="a604cce78175ce782278c800b03c1f84b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (!mutex_own(block_mutex))</td></tr>
<tr class="separator:a604cce78175ce782278c800b03c1f84b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5ec093b0af08826d38fceb5b9b120f6"><td class="memItemLeft" align="right" valign="top"><a id="af5ec093b0af08826d38fceb5b9b120f6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>return</b> (<a class="el" href="buf0lru_8cc.html#ab0bb849fa493c0bd1e31aba2e484e082">processed</a>)</td></tr>
<tr class="separator:af5ec093b0af08826d38fceb5b9b120f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a487de3ab1b0eef4078afc9ebef626796"><td class="memItemLeft" align="right" valign="top"><a id="a487de3ab1b0eef4078afc9ebef626796"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>for</b> (<a class="el" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a>=<a class="el" href="ut0lst_8h.html#a6a60ee80c7328f815f7b48b8900bb4ff">UT_LIST_GET_LAST</a>(buf_pool-&gt;flush_list);<a class="el" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a> !=NULL;<a class="el" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a>=prev)</td></tr>
<tr class="separator:a487de3ab1b0eef4078afc9ebef626796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add9ad5d9af3e3131f37e12c57242c801"><td class="memItemLeft" align="right" valign="top"><a id="add9ad5d9af3e3131f37e12c57242c801"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>return</b> (all_freed ? DB_SUCCESS :DB_FAIL)</td></tr>
<tr class="separator:add9ad5d9af3e3131f37e12c57242c801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a3f376784a75ae9e131cfb88c96a798"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a5a3f376784a75ae9e131cfb88c96a798">__attribute__</a> ((nonnull(1))) void buf_flush_dirty_pages(<a class="el" href="structbuf__pool__t.html">buf_pool_t</a> *buf_pool</td></tr>
<tr class="separator:a5a3f376784a75ae9e131cfb88c96a798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73254154f7071df1dfa7dc1530ef958d"><td class="memItemLeft" align="right" valign="top"><a id="a73254154f7071df1dfa7dc1530ef958d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (buf_flush_validate(buf_pool))</td></tr>
<tr class="separator:a73254154f7071df1dfa7dc1530ef958d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab05686b5502c0608d23fc1b6aef70feb"><td class="memItemLeft" align="right" valign="top"><a id="ab05686b5502c0608d23fc1b6aef70feb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>while</b> (<a class="el" href="row0import_8cc.html#a52482fdd3721e7db69dc740aefee8ad4">err</a>==DB_FAIL)</td></tr>
<tr class="separator:ab05686b5502c0608d23fc1b6aef70feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a2959a8a1b999b878ecf71f3d7715b2"><td class="memItemLeft" align="right" valign="top"><a id="a8a2959a8a1b999b878ecf71f3d7715b2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ut_ad</b> (<a class="el" href="row0import_8cc.html#a52482fdd3721e7db69dc740aefee8ad4">err</a>==DB_INTERRUPTED||buf_pool_get_dirty_pages_count(buf_pool, <a class="el" href="trx0undo_8cc.html#a42c94db63b554b8c7fa2a814f1f3dc8f">id</a>)==0)</td></tr>
<tr class="separator:a8a2959a8a1b999b878ecf71f3d7715b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Format of the IBUF_REC_FIELD_METADATA of an insert buffer record</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>The fourth column in the MySQL 5.5 format contains an operation type, counter, and some flags. </p>
</div></td></tr>
<tr class="memitem:ab5d2be5fd530cf6dbbdd648be9532479"><td class="memItemLeft" align="right" valign="top"><a id="ab5d2be5fd530cf6dbbdd648be9532479"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (!<a class="el" href="buf0lru_8cc.html#a4558737b6ae02896c172abc60f58745e">flush</a>)</td></tr>
<tr class="separator:ab5d2be5fd530cf6dbbdd648be9532479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86c8846c049e5edd9bfc72aa636b1d27"><td class="memItemLeft" align="right" valign="top"><a id="a86c8846c049e5edd9bfc72aa636b1d27"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>if</b> (<a class="el" href="row0import_8cc.html#a52482fdd3721e7db69dc740aefee8ad4">err</a>==DB_FAIL)</td></tr>
<tr class="separator:a86c8846c049e5edd9bfc72aa636b1d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac5d32608c74fa585816ec05876286d95"><td class="memItemLeft" align="right" valign="top">static ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#ac5d32608c74fa585816ec05876286d95">buf_lru_switched_on_innodb_mon</a> = FALSE</td></tr>
<tr class="separator:ac5d32608c74fa585816ec05876286d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce30ec5bc80868fa13c2987a0b49156"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a0ce30ec5bc80868fa13c2987a0b49156">zip</a></td></tr>
<tr class="separator:a0ce30ec5bc80868fa13c2987a0b49156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ffdaebdcefba1fd5f70092d43ca5d98"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structbuf__page__t.html">buf_page_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a></td></tr>
<tr class="separator:a9ffdaebdcefba1fd5f70092d43ca5d98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51e8fc745228c4671a58f97632f33414"><td class="memItemLeft" align="right" valign="top"><a id="a51e8fc745228c4671a58f97632f33414"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>block_mutex</b> = <a class="el" href="buf0buf_8h.html#a83009271960560a809817ae63b52d8a4">buf_page_get_mutex</a>(<a class="el" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a>)</td></tr>
<tr class="separator:a51e8fc745228c4671a58f97632f33414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0bb849fa493c0bd1e31aba2e484e082"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structbuf__page__t.html">buf_page_t</a> ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#ab0bb849fa493c0bd1e31aba2e484e082">processed</a></td></tr>
<tr class="separator:ab0bb849fa493c0bd1e31aba2e484e082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4558737b6ae02896c172abc60f58745e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structbuf__page__t.html">buf_page_t</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a4558737b6ae02896c172abc60f58745e">flush</a></td></tr>
<tr class="separator:a4558737b6ae02896c172abc60f58745e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0544c3fe466e421738dae463968b70ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><b>else</b></td></tr>
<tr class="separator:a0544c3fe466e421738dae463968b70ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42c94db63b554b8c7fa2a814f1f3dc8f"><td class="memItemLeft" align="right" valign="top">static ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a42c94db63b554b8c7fa2a814f1f3dc8f">id</a></td></tr>
<tr class="separator:a42c94db63b554b8c7fa2a814f1f3dc8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a916bbb5c05bd6e45b760689866245a33"><td class="memItemLeft" align="right" valign="top"><a id="a916bbb5c05bd6e45b760689866245a33"></a>
rescan&#160;</td><td class="memItemRight" valign="bottom"><b>__pad0__</b></td></tr>
<tr class="separator:a916bbb5c05bd6e45b760689866245a33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a721c6ff80a6d3e4ad4ffa52a04c60085"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><b>do</b></td></tr>
<tr class="separator:a721c6ff80a6d3e4ad4ffa52a04c60085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52482fdd3721e7db69dc740aefee8ad4"><td class="memItemLeft" align="right" valign="top"><a id="a52482fdd3721e7db69dc740aefee8ad4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>err</b> = buf_flush_or_remove_pages(buf_pool, <a class="el" href="trx0undo_8cc.html#a42c94db63b554b8c7fa2a814f1f3dc8f">id</a>, <a class="el" href="buf0lru_8cc.html#a4558737b6ae02896c172abc60f58745e">flush</a>, <a class="el" href="trx0trx_8cc.html#a33c6bd3ec7adfebaac8ed4906004b2ab">trx</a>)</td></tr>
<tr class="separator:a52482fdd3721e7db69dc740aefee8ad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d0e6224435aaf7ea4cde244447a5399"><td class="memItemLeft" align="right" valign="top"><a id="a0d0e6224435aaf7ea4cde244447a5399"></a>
ibool&#160;</td><td class="memItemRight" valign="bottom"><b>all_freed</b> = TRUE</td></tr>
<tr class="separator:a0d0e6224435aaf7ea4cde244447a5399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fafc2bc166c295146025064455231f1"><td class="memItemLeft" align="right" valign="top"><a id="a3fafc2bc166c295146025064455231f1"></a>
scan_again&#160;</td><td class="memItemRight" valign="bottom"><b>__pad1__</b></td></tr>
<tr class="separator:a3fafc2bc166c295146025064455231f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41c956bb7d3a54c280f72c674fa42b0d"><td class="memItemLeft" align="right" valign="top">static ulint <a class="el" href="buf0types_8h.html#a64b07ecd8aec364fe56a54bcd279b3b3">buf_remove_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a41c956bb7d3a54c280f72c674fa42b0d">buf_remove</a></td></tr>
<tr class="separator:a41c956bb7d3a54c280f72c674fa42b0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Heuristics for detecting index scan @{</div></td></tr>
<tr class="memitem:a403bb67a4f329071d26cb371877df8a4"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a403bb67a4f329071d26cb371877df8a4">buf_LRU_old_threshold_ms</a></td></tr>
<tr class="separator:a403bb67a4f329071d26cb371877df8a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">- of the index to look for</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Find the index field entry in in the cfg indexes fields.</p>
<dl class="section return"><dt>Returns</dt><dd>instance if found else 0. </dd></dl>
</div></td></tr>
<tr class="memitem:a696a6b0c51cd8ed2478a11f8c5f8405a"><td class="memItemLeft" align="right" valign="top">static ulint bool const <a class="el" href="structtrx__t.html">trx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a696a6b0c51cd8ed2478a11f8c5f8405a">trx</a></td></tr>
<tr class="separator:a696a6b0c51cd8ed2478a11f8c5f8405a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdaa12b5167734b57e5e571f28ab1551"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#afdaa12b5167734b57e5e571f28ab1551">BUF_LRU_STAT_N_INTERVAL</a>&#160;&#160;&#160;50</td></tr>
<tr class="separator:afdaa12b5167734b57e5e571f28ab1551"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1759d72074355517a20bb45648c60a3d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a1759d72074355517a20bb45648c60a3d">BUF_LRU_IO_TO_UNZIP_FACTOR</a>&#160;&#160;&#160;50</td></tr>
<tr class="separator:a1759d72074355517a20bb45648c60a3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7606ab4ed3d1e44c3f98562dba232013"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structbuf___l_r_u__stat__t.html">buf_LRU_stat_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a7606ab4ed3d1e44c3f98562dba232013">buf_LRU_stat_arr</a> [<a class="el" href="buf0lru_8cc.html#afdaa12b5167734b57e5e571f28ab1551">BUF_LRU_STAT_N_INTERVAL</a>]</td></tr>
<tr class="separator:a7606ab4ed3d1e44c3f98562dba232013"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71f254b6fdc5772e32e2492c5f34583b"><td class="memItemLeft" align="right" valign="top">static ulint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#a71f254b6fdc5772e32e2492c5f34583b">buf_LRU_stat_arr_ind</a></td></tr>
<tr class="separator:a71f254b6fdc5772e32e2492c5f34583b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac61f137162c2abc37699f42b9e2cd2b4"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structbuf___l_r_u__stat__t.html">buf_LRU_stat_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#ac61f137162c2abc37699f42b9e2cd2b4">buf_LRU_stat_cur</a></td></tr>
<tr class="separator:ac61f137162c2abc37699f42b9e2cd2b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0b71e7a84912bb6e17acc409644aa40"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="structbuf___l_r_u__stat__t.html">buf_LRU_stat_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf0lru_8cc.html#ae0b71e7a84912bb6e17acc409644aa40">buf_LRU_stat_sum</a></td></tr>
<tr class="separator:ae0b71e7a84912bb6e17acc409644aa40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The database buffer replacement algorithm</p>
<p>Created 11/5/1995 Heikki Tuuri </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af478b6047eb8f2c693507955efb77701"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af478b6047eb8f2c693507955efb77701">&#9670;&nbsp;</a></span>BUF_LRU_DROP_SEARCH_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_LRU_DROP_SEARCH_SIZE&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When dropping the search hash index entries before deleting an ibd file, we build a local array of pages belonging to that tablespace in the buffer pool. Following is the size of that array. We also release buf_pool-&gt;mutex after scanning this many pages of the flush_list when dropping a table. This is to ensure that other threads are not blocked for extended period of time when using very large buffer pools. </p>

</div>
</div>
<a id="a1759d72074355517a20bb45648c60a3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1759d72074355517a20bb45648c60a3d">&#9670;&nbsp;</a></span>BUF_LRU_IO_TO_UNZIP_FACTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_LRU_IO_TO_UNZIP_FACTOR&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Co-efficient with which we multiply I/O operations to equate them with <a class="el" href="page0zip_8h.html#ad7c9e6230cb6b0b53d605e923fc72c0e">page_zip_decompress()</a> operations. </p>

</div>
</div>
<a id="a04ae522780fb5a46bf2f9e4fe7b8a3ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04ae522780fb5a46bf2f9e4fe7b8a3ec">&#9670;&nbsp;</a></span>BUF_LRU_NON_OLD_MIN_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_LRU_NON_OLD_MIN_LEN&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The minimum amount of non-old blocks when the LRU_old list exists (that is, when there are more than BUF_LRU_OLD_MIN_LEN blocks). </p><dl class="section see"><dt>See also</dt><dd>buf_LRU_old_adjust_len </dd></dl>

</div>
</div>
<a id="a4126c969aa70e6b3b1511e854f9425fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4126c969aa70e6b3b1511e854f9425fe">&#9670;&nbsp;</a></span>BUF_LRU_OLD_TOLERANCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_LRU_OLD_TOLERANCE&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of blocks from the LRU_old pointer onward, including the block pointed to, must be buf_pool-&gt;LRU_old_ratio/BUF_LRU_OLD_RATIO_DIV of the whole LRU list length, except that the tolerance defined below is allowed. Note that the tolerance must be small enough such that for even the BUF_LRU_OLD_MIN_LEN long LRU list, the LRU_old pointer is not allowed to point to either end of the LRU list. </p>

</div>
</div>
<a id="afdaa12b5167734b57e5e571f28ab1551"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdaa12b5167734b57e5e571f28ab1551">&#9670;&nbsp;</a></span>BUF_LRU_STAT_N_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUF_LRU_STAT_N_INTERVAL&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>These statistics are not 'of' LRU but 'for' LRU. We keep count of I/O and <a class="el" href="page0zip_8h.html#ad7c9e6230cb6b0b53d605e923fc72c0e">page_zip_decompress()</a> operations. Based on the statistics, <a class="el" href="buf0lru_8cc.html#a9bd03c170ed086b99c0e0649d050dc88">buf_LRU_evict_from_unzip_LRU()</a> decides if we want to evict from unzip_LRU or the regular LRU. From unzip_LRU, we will only evict the uncompressed frame (meaning we can evict dirty blocks as well). From the regular LRU, we will evict the entire block (i.e.: both the uncompressed and compressed data), which must be clean. Number of intervals for which we keep the history of these stats. Each interval is 1 second, defined by the rate at which <a class="el" href="srv0srv_8h.html#a1d2d7c5ef15bbc38df6653a500341ef7">srv_error_monitor_thread()</a> calls <a class="el" href="buf0lru_8h.html#a510e3c258d1dca172ec012d449af58a0">buf_LRU_stat_update()</a>. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="abe7c6d92d3ed7089a3605e5d8a3329e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe7c6d92d3ed7089a3605e5d8a3329e7">&#9670;&nbsp;</a></span>__attribute__() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(nonnull, warn_unused_result)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Takes a block out of the LRU list and page hash table. If the block is compressed-only (BUF_BLOCK_ZIP_PAGE), the object will be freed.</p>
<p>The caller must hold buf_pool-&gt;mutex, the <a class="el" href="buf0buf_8h.html#a83009271960560a809817ae63b52d8a4">buf_page_get_mutex()</a> mutex and the appropriate hash_lock. This function will release the <a class="el" href="buf0buf_8h.html#a83009271960560a809817ae63b52d8a4">buf_page_get_mutex()</a> and the hash_lock.</p>
<p>If a compressed page is freed other compressed pages may be relocated. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if BUF_BLOCK_FILE_PAGE was removed from page_hash. The caller needs to free the page to the free list </td></tr>
    <tr><td class="paramname">false</td><td>if BUF_BLOCK_ZIP_PAGE was removed from page_hash. In this case the block is already returned to the buddy allocator.</td></tr>
  </table>
  </dd>
</dl>
<p>Removes a single page from a given tablespace inside a specific buffer pool instance. </p><dl class="section return"><dt>Returns</dt><dd>true if page was removed. </dd></dl>

</div>
</div>
<a id="a70beb49843d8737a91b069b9cd9a26b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70beb49843d8737a91b069b9cd9a26b8">&#9670;&nbsp;</a></span>__attribute__() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(nonnull)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>While flushing (or removing dirty) pages from a tablespace we don't want to hog the CPU and resources. Release the buffer pool and block mutex and try to force a context switch. Then reacquire the same mutexes. The current page is "fixed" before the release of the mutexes and then "unfixed" again once we have reacquired the mutexes.</p>
<p>Remove all pages that belong to a given tablespace inside a specific buffer pool instance when we are DISCARDing the tablespace. </p>

</div>
</div>
<a id="ad7b6683d72e23091f0be64ade3c07626"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7b6683d72e23091f0be64ade3c07626">&#9670;&nbsp;</a></span>__attribute__() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(nonnull(1), warn_unused_result)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If we have hogged the resources for too long then release the buffer pool and flush list mutex and do a thread yield. Set the current page to "sticky" so that it is not relocated during the yield. </p><dl class="section return"><dt>Returns</dt><dd>true if yielded</dd></dl>
<p>Remove all dirty pages belonging to a given tablespace inside a specific buffer pool instance when we are deleting the data file(s) of that tablespace. The pages still remain a part of LRU and are evicted from the list as they age towards the tail of the LRU. </p><dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">DB_SUCCESS</td><td>if all freed </td></tr>
    <tr><td class="paramname">DB_FAIL</td><td>if not all freed </td></tr>
    <tr><td class="paramname">DB_INTERRUPTED</td><td>if the transaction was interrupted </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5a3f376784a75ae9e131cfb88c96a798"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a3f376784a75ae9e131cfb88c96a798">&#9670;&nbsp;</a></span>__attribute__() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(nonnull(1))&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove or flush all the dirty pages that belong to a given tablespace inside a specific buffer pool instance. The pages will remain in the LRU list and will be evicted from the LRU list as they age and move towards the tail of the LRU list.</p>
<p>Remove pages belonging to a given tablespace inside a specific buffer pool instance when we are deleting the data file(s) of that tablespace. The pages still remain a part of LRU and are evicted from the list as they age towards the tail of the LRU only if buf_remove is BUF_REMOVE_FLUSH_NO_WRITE. </p>

</div>
</div>
<a id="ab233f0431f27c3a625ba58885478f460"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab233f0431f27c3a625ba58885478f460">&#9670;&nbsp;</a></span>buf_LRU_block_free_hashed_page()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void buf_LRU_block_free_hashed_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuf__block__t.html">buf_block_t</a> *&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Puts a file page whose has no hash index to the free list. in: block, must contain a file page and be in a state where it can be freed </p>

</div>
</div>
<a id="ab7d92783c525b3a830791049d942c230"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7d92783c525b3a830791049d942c230">&#9670;&nbsp;</a></span>buf_LRU_drop_page_hash_batch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void buf_LRU_drop_page_hash_batch </td>
          <td>(</td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>space_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>zip_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ulint *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Attempts to drop page hash index on a batch of pages belonging to a particular space id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">space_id</td><td>in: space id </td></tr>
    <tr><td class="paramname">zip_size</td><td>in: compressed page size in bytes or 0 for uncompressed pages </td></tr>
    <tr><td class="paramname">arr</td><td>in: array of page_no </td></tr>
    <tr><td class="paramname">count</td><td>in: number of entries in array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1c62a91761ad636416329f28f30823bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c62a91761ad636416329f28f30823bb">&#9670;&nbsp;</a></span>buf_LRU_drop_page_hash_for_tablespace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void buf_LRU_drop_page_hash_for_tablespace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuf__pool__t.html">buf_pool_t</a> *&#160;</td>
          <td class="paramname"><em>buf_pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>When doing a DROP TABLE/DISCARD TABLESPACE we have to drop all page hash index entries belonging to that table. This function tries to do that in batch. Note that this is a 'best effort' attempt and does not guarantee that ALL hash entries will be removed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf_pool</td><td>in: buffer pool instance </td></tr>
    <tr><td class="paramname">id</td><td>in: space id </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9bd03c170ed086b99c0e0649d050dc88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bd03c170ed086b99c0e0649d050dc88">&#9670;&nbsp;</a></span>buf_LRU_evict_from_unzip_LRU()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN ibool buf_LRU_evict_from_unzip_LRU </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuf__pool__t.html">buf_pool_t</a> *&#160;</td>
          <td class="paramname"><em>buf_pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines if the unzip_LRU list should be used for evicting a victim instead of the general LRU list. </p><dl class="section return"><dt>Returns</dt><dd>TRUE if should use unzip_LRU </dd></dl>

</div>
</div>
<a id="aa1aac8fc7a20735bf5fca809492639f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1aac8fc7a20735bf5fca809492639f7">&#9670;&nbsp;</a></span>incr_LRU_size_in_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void incr_LRU_size_in_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuf__page__t.html">buf_page_t</a> *&#160;</td>
          <td class="paramname"><em>bpage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuf__pool__t.html">buf_pool_t</a> *&#160;</td>
          <td class="paramname"><em>buf_pool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Increases LRU size in bytes with zip_size for compressed page, UNIV_PAGE_SIZE for uncompressed page in inline function </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bpage</td><td>in: control block </td></tr>
    <tr><td class="paramname">buf_pool</td><td>in: buffer pool instance </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa225c731f59fb0144cf54b337b948a8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa225c731f59fb0144cf54b337b948a8c">&#9670;&nbsp;</a></span>os_thread_yield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">os_thread_yield </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Advises the os to give up remainder of the thread's time slice. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9ffdaebdcefba1fd5f70092d43ca5d98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ffdaebdcefba1fd5f70092d43ca5d98">&#9670;&nbsp;</a></span>bpage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbuf__page__t.html">buf_page_t</a> * bpage</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">        <a class="code" href="structib__mutex__t.html">ib_mutex_t</a>*     block_mutex</div><div class="ttc" id="structib__mutex__t_html"><div class="ttname"><a href="structib__mutex__t.html">ib_mutex_t</a></div><div class="ttdef"><b>Definition:</b> sync0sync.h:749</div></div>
</div><!-- fragment --><p>&lt; in/out: buffer pool instance</p>
<p>&lt; in/out: current page</p>
<p>&lt; in/out: buffer pool instance in/out: bpage to remove </p>

</div>
</div>
<a id="a403bb67a4f329071d26cb371877df8a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a403bb67a4f329071d26cb371877df8a4">&#9670;&nbsp;</a></span>buf_LRU_old_threshold_ms</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN uint buf_LRU_old_threshold_ms</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Move blocks to "new" LRU list only if the first access was at least this many milliseconds ago. Not protected by any mutex or latch. </p>

</div>
</div>
<a id="a7606ab4ed3d1e44c3f98562dba232013"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7606ab4ed3d1e44c3f98562dba232013">&#9670;&nbsp;</a></span>buf_LRU_stat_arr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbuf___l_r_u__stat__t.html">buf_LRU_stat_t</a> buf_LRU_stat_arr[<a class="el" href="buf0lru_8cc.html#afdaa12b5167734b57e5e571f28ab1551">BUF_LRU_STAT_N_INTERVAL</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sampled values buf_LRU_stat_cur. Not protected by any mutex. Updated by <a class="el" href="buf0lru_8h.html#a510e3c258d1dca172ec012d449af58a0">buf_LRU_stat_update()</a>. </p>

</div>
</div>
<a id="a71f254b6fdc5772e32e2492c5f34583b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71f254b6fdc5772e32e2492c5f34583b">&#9670;&nbsp;</a></span>buf_LRU_stat_arr_ind</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ulint buf_LRU_stat_arr_ind</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Cursor to buf_LRU_stat_arr[] that is updated in a round-robin fashion. </p>

</div>
</div>
<a id="ac61f137162c2abc37699f42b9e2cd2b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac61f137162c2abc37699f42b9e2cd2b4">&#9670;&nbsp;</a></span>buf_LRU_stat_cur</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structbuf___l_r_u__stat__t.html">buf_LRU_stat_t</a> buf_LRU_stat_cur</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Current operation counters. Not protected by any mutex. Cleared by <a class="el" href="buf0lru_8h.html#a510e3c258d1dca172ec012d449af58a0">buf_LRU_stat_update()</a>. </p>

</div>
</div>
<a id="ae0b71e7a84912bb6e17acc409644aa40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0b71e7a84912bb6e17acc409644aa40">&#9670;&nbsp;</a></span>buf_LRU_stat_sum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="structbuf___l_r_u__stat__t.html">buf_LRU_stat_t</a> buf_LRU_stat_sum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Running sum of past values of buf_LRU_stat_cur. Updated by <a class="el" href="buf0lru_8h.html#a510e3c258d1dca172ec012d449af58a0">buf_LRU_stat_update()</a>. Not Protected by any mutex. </p>

</div>
</div>
<a id="ac5d32608c74fa585816ec05876286d95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5d32608c74fa585816ec05876286d95">&#9670;&nbsp;</a></span>buf_lru_switched_on_innodb_mon</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ibool buf_lru_switched_on_innodb_mon = FALSE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>If we switch on the InnoDB monitor because there are too few available frames in the buffer pool, we set this to TRUE </p>

</div>
</div>
<a id="a41c956bb7d3a54c280f72c674fa42b0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41c956bb7d3a54c280f72c674fa42b0d">&#9670;&nbsp;</a></span>buf_remove</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint <a class="el" href="buf0types_8h.html#a64b07ecd8aec364fe56a54bcd279b3b3">buf_remove_t</a> buf_remove</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>in: remove or flush strategy </p>

</div>
</div>
<a id="a721c6ff80a6d3e4ad4ffa52a04c60085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a721c6ff80a6d3e4ad4ffa52a04c60085">&#9670;&nbsp;</a></span>do</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">do</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">                <a class="code" href="buf0buf_8h.html#ab38d13c8b2fc9bb6f83dca458cb13e89">buf_pool_mutex_enter</a>(buf_pool)</div><div class="ttc" id="buf0buf_8h_html_ab38d13c8b2fc9bb6f83dca458cb13e89"><div class="ttname"><a href="buf0buf_8h.html#ab38d13c8b2fc9bb6f83dca458cb13e89">buf_pool_mutex_enter</a></div><div class="ttdeci">#define buf_pool_mutex_enter(b)</div><div class="ttdef"><b>Definition:</b> buf0buf.h:2018</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0544c3fe466e421738dae463968b70ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0544c3fe466e421738dae463968b70ba">&#9670;&nbsp;</a></span>else</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">else</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">                <a class="code" href="buf0lru_8cc.html#ab0bb849fa493c0bd1e31aba2e484e082">processed</a> = <span class="keyword">false</span></div><div class="ttc" id="buf0lru_8cc_html_ab0bb849fa493c0bd1e31aba2e484e082"><div class="ttname"><a href="buf0lru_8cc.html#ab0bb849fa493c0bd1e31aba2e484e082">processed</a></div><div class="ttdeci">static buf_page_t ulint processed</div><div class="ttdef"><b>Definition:</b> buf0lru.cc:417</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4558737b6ae02896c172abc60f58745e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4558737b6ae02896c172abc60f58745e">&#9670;&nbsp;</a></span>flush</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static ulint bool flush</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">        <a class="code" href="ut0dbg_8h.html#a17113dab7f37e298e889ac8818ab13d0">ut_ad</a>(<a class="code" href="buf0buf_8h.html#af996360800fd59fb8681a329ad2575bf">buf_pool_mutex_own</a>(buf_pool))</div><div class="ttc" id="ut0dbg_8h_html_a17113dab7f37e298e889ac8818ab13d0"><div class="ttname"><a href="ut0dbg_8h.html#a17113dab7f37e298e889ac8818ab13d0">ut_ad</a></div><div class="ttdeci">#define ut_ad(EXPR)</div><div class="ttdef"><b>Definition:</b> ut0dbg.h:90</div></div>
<div class="ttc" id="buf0buf_8h_html_af996360800fd59fb8681a329ad2575bf"><div class="ttname"><a href="buf0buf_8h.html#af996360800fd59fb8681a329ad2575bf">buf_pool_mutex_own</a></div><div class="ttdeci">#define buf_pool_mutex_own(b)</div><div class="ttdef"><b>Definition:</b> buf0buf.h:2016</div></div>
</div><!-- fragment --><p>&lt; in: flush to disk if true but don't remove else remove without flushing to disk</p>
<p>in: flush to disk if true but don't remove else remove without flushing to disk</p>
<p>in: flush to disk if true otherwise remove the pages without flushing </p>

</div>
</div>
<a id="a42c94db63b554b8c7fa2a814f1f3dc8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42c94db63b554b8c7fa2a814f1f3dc8f">&#9670;&nbsp;</a></span>id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint id</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">        <a class="code" href="structbuf__page__t.html">buf_page_t</a>*     <a class="code" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a></div><div class="ttc" id="buf0lru_8cc_html_a9ffdaebdcefba1fd5f70092d43ca5d98"><div class="ttname"><a href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a></div><div class="ttdeci">static buf_page_t * bpage</div><div class="ttdef"><b>Definition:</b> buf0lru.cc:375</div></div>
<div class="ttc" id="structbuf__page__t_html"><div class="ttname"><a href="structbuf__page__t.html">buf_page_t</a></div><div class="ttdef"><b>Definition:</b> buf0buf.h:1460</div></div>
</div><!-- fragment --><p>&lt; buffer pool instance in: target space id for which to remove or flush pages</p>
<p>&lt; buffer pool instance in: space id</p>
<p>&lt; buffer pool instance</p>
<p>&lt; in: space id </p>

</div>
</div>
<a id="ab0bb849fa493c0bd1e31aba2e484e082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0bb849fa493c0bd1e31aba2e484e082">&#9670;&nbsp;</a></span>processed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ulint processed</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">        </div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a> != NULL</div><div class="line">            &amp;&amp; <a class="code" href="buf0lru_8cc.html#ab0bb849fa493c0bd1e31aba2e484e082">processed</a> &gt;= <a class="code" href="buf0lru_8cc.html#af478b6047eb8f2c693507955efb77701">BUF_LRU_DROP_SEARCH_SIZE</a></div><div class="line">            &amp;&amp; <a class="code" href="buf0buf_8h.html#a582ef35466deda3f3d27f4d5e93e27bf">buf_page_get_io_fix</a>(<a class="code" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a>) == <a class="code" href="buf0types_8h.html#a9d992d311e12fe579c419e7f98f80e27a192bde715fd3c4f171f095e1d4378720">BUF_IO_NONE</a>) {</div><div class="line"></div><div class="line">                <a class="code" href="buf0buf_8h.html#aaefd70716bf3351e09b6e52ea9ca6783">buf_flush_list_mutex_exit</a>(buf_pool);</div><div class="line"></div><div class="line">                </div><div class="line"></div><div class="line">                buf_flush_yield(buf_pool, <a class="code" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a>);</div><div class="line"></div><div class="line">                <a class="code" href="buf0buf_8h.html#a095adbc797576159cfc092fb6bdedeb2">buf_flush_list_mutex_enter</a>(buf_pool);</div><div class="line"></div><div class="line">                </div><div class="line"></div><div class="line">                <a class="code" href="ut0dbg_8h.html#a17113dab7f37e298e889ac8818ab13d0">ut_ad</a>(<a class="code" href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a>-&gt;in_flush_list);</div><div class="line"></div><div class="line">                <span class="keywordflow">return</span>(<span class="keyword">true</span>);</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">return</span>(<span class="keyword">false</span>)</div><div class="ttc" id="buf0lru_8cc_html_a9ffdaebdcefba1fd5f70092d43ca5d98"><div class="ttname"><a href="buf0lru_8cc.html#a9ffdaebdcefba1fd5f70092d43ca5d98">bpage</a></div><div class="ttdeci">static buf_page_t * bpage</div><div class="ttdef"><b>Definition:</b> buf0lru.cc:375</div></div>
<div class="ttc" id="buf0lru_8cc_html_ab0bb849fa493c0bd1e31aba2e484e082"><div class="ttname"><a href="buf0lru_8cc.html#ab0bb849fa493c0bd1e31aba2e484e082">processed</a></div><div class="ttdeci">static buf_page_t ulint processed</div><div class="ttdef"><b>Definition:</b> buf0lru.cc:417</div></div>
<div class="ttc" id="buf0buf_8h_html_a095adbc797576159cfc092fb6bdedeb2"><div class="ttname"><a href="buf0buf_8h.html#a095adbc797576159cfc092fb6bdedeb2">buf_flush_list_mutex_enter</a></div><div class="ttdeci">#define buf_flush_list_mutex_enter(b)</div><div class="ttdef"><b>Definition:</b> buf0buf.h:2027</div></div>
<div class="ttc" id="buf0types_8h_html_a9d992d311e12fe579c419e7f98f80e27a192bde715fd3c4f171f095e1d4378720"><div class="ttname"><a href="buf0types_8h.html#a9d992d311e12fe579c419e7f98f80e27a192bde715fd3c4f171f095e1d4378720">BUF_IO_NONE</a></div><div class="ttdef"><b>Definition:</b> buf0types.h:74</div></div>
<div class="ttc" id="buf0buf_8h_html_a582ef35466deda3f3d27f4d5e93e27bf"><div class="ttname"><a href="buf0buf_8h.html#a582ef35466deda3f3d27f4d5e93e27bf">buf_page_get_io_fix</a></div><div class="ttdeci">UNIV_INLINE enum buf_io_fix buf_page_get_io_fix(const buf_page_t *bpage) __attribute__((pure))</div></div>
<div class="ttc" id="buf0lru_8cc_html_af478b6047eb8f2c693507955efb77701"><div class="ttname"><a href="buf0lru_8cc.html#af478b6047eb8f2c693507955efb77701">BUF_LRU_DROP_SEARCH_SIZE</a></div><div class="ttdeci">#define BUF_LRU_DROP_SEARCH_SIZE</div><div class="ttdef"><b>Definition:</b> buf0lru.cc:82</div></div>
<div class="ttc" id="ut0dbg_8h_html_a17113dab7f37e298e889ac8818ab13d0"><div class="ttname"><a href="ut0dbg_8h.html#a17113dab7f37e298e889ac8818ab13d0">ut_ad</a></div><div class="ttdeci">#define ut_ad(EXPR)</div><div class="ttdef"><b>Definition:</b> ut0dbg.h:90</div></div>
<div class="ttc" id="buf0buf_8h_html_aaefd70716bf3351e09b6e52ea9ca6783"><div class="ttname"><a href="buf0buf_8h.html#aaefd70716bf3351e09b6e52ea9ca6783">buf_flush_list_mutex_exit</a></div><div class="ttdeci">#define buf_flush_list_mutex_exit(b)</div><div class="ttdef"><b>Definition:</b> buf0buf.h:2031</div></div>
</div><!-- fragment --><p>&lt; in: number of pages processed </p>

</div>
</div>
<a id="a696a6b0c51cd8ed2478a11f8c5f8405a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a696a6b0c51cd8ed2478a11f8c5f8405a">&#9670;&nbsp;</a></span>trx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtrx__t.html">trx_t</a> * trx</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">{</div><div class="line">        <a class="code" href="structbuf__page__t.html">buf_page_t</a>*     prev</div><div class="ttc" id="structbuf__page__t_html"><div class="ttname"><a href="structbuf__page__t.html">buf_page_t</a></div><div class="ttdef"><b>Definition:</b> buf0buf.h:1460</div></div>
</div><!-- fragment --><p>&lt; to check if the operation must be interrupted, can be 0</p>
<p>&lt; to check if the operation must be interrupted</p>
<p>&lt; in/out: transaction</p>
<p>&lt; in/out: prebuilt from handler in/out: transaction for import</p>
<p>&lt; in/out: prebuilt from handler in: transaction used for the import</p>
<p>&lt; in: constraint id</p>
<p>&lt; in: transaction handle</p>
<p>&lt; in: transaction handle </p>

</div>
</div>
<a id="a0ce30ec5bc80868fa13c2987a0b49156"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ce30ec5bc80868fa13c2987a0b49156">&#9670;&nbsp;</a></span>zip</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool zip</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>&lt; in: block, must contain a file page and be in a state where it can be freed; there may or may not be a hash index to the page in: true if should remove also the compressed page of an uncompressed page </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
