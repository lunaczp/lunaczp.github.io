<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: storage/innobase/include/dict0stats.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_70f20ecf11358dff00a0daf546d3147e.html">storage</a></li><li class="navelem"><a class="el" href="dir_3fec0aa9607ea05e0bb1c96aee1a8c4e.html">innobase</a></li><li class="navelem"><a class="el" href="dir_9b7ed1f29269ffabdc4c5f5522a0db25.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">dict0stats.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;univ.i&quot;</code><br />
<code>#include &quot;<a class="el" href="db0err_8h_source.html">db0err.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dict0types_8h_source.html">dict0types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="trx0types_8h_source.html">trx0types.h</a>&quot;</code><br />
<code>#include &quot;dict0stats.ic&quot;</code><br />
</div>
<p><a href="dict0stats_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a440278fb245556fdd3ac4bdd5ee75b57"><td class="memItemLeft" align="right" valign="top"><a id="a440278fb245556fdd3ac4bdd5ee75b57"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>dict_stats_upd_option_t</b> { <b>DICT_STATS_RECALC_PERSISTENT</b>, 
<b>DICT_STATS_RECALC_TRANSIENT</b>, 
<b>DICT_STATS_EMPTY_TABLE</b>, 
<b>DICT_STATS_FETCH_ONLY_IF_NOT_IN_MEMORY</b>
 }</td></tr>
<tr class="separator:a440278fb245556fdd3ac4bdd5ee75b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a11d2051e9bba29c047aa586a3f6d763a"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats_8h.html#a11d2051e9bba29c047aa586a3f6d763a">dict_stats_update_transient</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *<a class="el" href="row0upd_8cc.html#ab172ed3d3d31ff02fc5f798fe7e1bfb8">table</a>)</td></tr>
<tr class="separator:a11d2051e9bba29c047aa586a3f6d763a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcd168cd77328df63c07b24e3705f9fe"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats_8h.html#abcd168cd77328df63c07b24e3705f9fe">dict_stats_set_persistent</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *<a class="el" href="row0upd_8cc.html#ab172ed3d3d31ff02fc5f798fe7e1bfb8">table</a>, ibool ps_on, ibool ps_off) <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull))</td></tr>
<tr class="separator:abcd168cd77328df63c07b24e3705f9fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562902feada76def9e491ab271d7dc77"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats_8h.html#a562902feada76def9e491ab271d7dc77">dict_stats_is_persistent_enabled</a> (const <a class="el" href="structdict__table__t.html">dict_table_t</a> *<a class="el" href="row0upd_8cc.html#ab172ed3d3d31ff02fc5f798fe7e1bfb8">table</a>) <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull</td></tr>
<tr class="separator:a562902feada76def9e491ab271d7dc77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2487659bea8380443438a1da804cb1c8"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats_8h.html#a2487659bea8380443438a1da804cb1c8">dict_stats_auto_recalc_set</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *<a class="el" href="row0upd_8cc.html#ab172ed3d3d31ff02fc5f798fe7e1bfb8">table</a>, ibool auto_recalc_on, ibool auto_recalc_off)</td></tr>
<tr class="separator:a2487659bea8380443438a1da804cb1c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33a4781b97ab970ad6373cdb39227599"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE ibool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats_8h.html#a33a4781b97ab970ad6373cdb39227599">dict_stats_auto_recalc_is_enabled</a> (const <a class="el" href="structdict__table__t.html">dict_table_t</a> *<a class="el" href="row0upd_8cc.html#ab172ed3d3d31ff02fc5f798fe7e1bfb8">table</a>)</td></tr>
<tr class="separator:a33a4781b97ab970ad6373cdb39227599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a832e9e73628c4654b56251aa63f1152a"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats_8h.html#a832e9e73628c4654b56251aa63f1152a">dict_stats_init</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *<a class="el" href="row0upd_8cc.html#ab172ed3d3d31ff02fc5f798fe7e1bfb8">table</a>)</td></tr>
<tr class="separator:a832e9e73628c4654b56251aa63f1152a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d2cb7a5df9288eafe503c22bdb36b79"><td class="memItemLeft" align="right" valign="top">UNIV_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats_8h.html#a4d2cb7a5df9288eafe503c22bdb36b79">dict_stats_deinit</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *<a class="el" href="row0upd_8cc.html#ab172ed3d3d31ff02fc5f798fe7e1bfb8">table</a>) <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull))</td></tr>
<tr class="separator:a4d2cb7a5df9288eafe503c22bdb36b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2824e6e3016153b553ef7e0c2bf7070b"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats_8h.html#a2824e6e3016153b553ef7e0c2bf7070b">dict_stats_update</a> (<a class="el" href="structdict__table__t.html">dict_table_t</a> *<a class="el" href="row0upd_8cc.html#ab172ed3d3d31ff02fc5f798fe7e1bfb8">table</a>, dict_stats_upd_option_t stats_upd_option)</td></tr>
<tr class="separator:a2824e6e3016153b553ef7e0c2bf7070b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e561d21524e55cb126917ef24861e96"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats_8h.html#a8e561d21524e55cb126917ef24861e96">dict_stats_drop_index</a> (const char *tname, const char *iname, char *errstr, ulint errstr_sz)</td></tr>
<tr class="separator:a8e561d21524e55cb126917ef24861e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a182bcbb8135400bad228877d205cadcc"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats_8h.html#a182bcbb8135400bad228877d205cadcc">dict_stats_drop_table</a> (const char *<a class="el" href="ha__innodb_8cc.html#a0027708eb826fc9750cdd8953fded532">table_name</a>, char *errstr, ulint errstr_sz)</td></tr>
<tr class="separator:a182bcbb8135400bad228877d205cadcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1384f0bf4459ef8b180ab9cbfb2c3bab"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats_8h.html#a1384f0bf4459ef8b180ab9cbfb2c3bab">dict_stats_update_for_index</a> (<a class="el" href="structdict__index__t.html">dict_index_t</a> *<a class="el" href="row0upd_8cc.html#a4ddeaa41a4dab23a7eaa06ee52e4522b">index</a>) <a class="el" href="trx0undo_8cc.html#aa965850120c0683c58e8c762cdc0fb17">__attribute__</a>((nonnull))</td></tr>
<tr class="separator:a1384f0bf4459ef8b180ab9cbfb2c3bab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae12d6db20b9b44208c3139b0ab847c86"><td class="memItemLeft" align="right" valign="top">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dict0stats_8h.html#ae12d6db20b9b44208c3139b0ab847c86">dict_stats_rename_table</a> (const char *old_name, const char *new_name, char *errstr, size_t errstr_sz)</td></tr>
<tr class="separator:ae12d6db20b9b44208c3139b0ab847c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a219d2a335ce7233dbd859b35f7c18fa7"><td class="memItemLeft" align="right" valign="top"><a id="a219d2a335ce7233dbd859b35f7c18fa7"></a>
UNIV_INLINE ibool&#160;</td><td class="memItemRight" valign="bottom"><b>warn_unused_result</b></td></tr>
<tr class="separator:a219d2a335ce7233dbd859b35f7c18fa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Code used for calculating and manipulating table statistics.</p>
<p>Created Jan 06, 2010 Vasil Dimov </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a33a4781b97ab970ad6373cdb39227599"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33a4781b97ab970ad6373cdb39227599">&#9670;&nbsp;</a></span>dict_stats_auto_recalc_is_enabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ibool dict_stats_auto_recalc_is_enabled </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="struct_check.html">Check</a> whether auto recalc is enabled for a given table. </p><dl class="section return"><dt>Returns</dt><dd>TRUE if enabled, FALSE otherwise in: table </dd></dl>

</div>
</div>
<a id="a2487659bea8380443438a1da804cb1c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2487659bea8380443438a1da804cb1c8">&#9670;&nbsp;</a></span>dict_stats_auto_recalc_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void dict_stats_auto_recalc_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ibool&#160;</td>
          <td class="paramname"><em>auto_recalc_on</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ibool&#160;</td>
          <td class="paramname"><em>auto_recalc_off</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the auto recalc flag for a given table (only honored for a persistent stats enabled table). The flag is set only in the in-memory table object and is not saved in InnoDB files. It will be read from the .frm file upon first open from MySQL after a server restart. in: explicitly disabled </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in/out: table </td></tr>
    <tr><td class="paramname">auto_recalc_on</td><td>in: explicitly enabled </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4d2cb7a5df9288eafe503c22bdb36b79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d2cb7a5df9288eafe503c22bdb36b79">&#9670;&nbsp;</a></span>dict_stats_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void dict_stats_deinit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deinitialize table's stats after the last close of the table. This is used to detect "FLUSH TABLE" and refresh the stats upon next open. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in/out: table </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8e561d21524e55cb126917ef24861e96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e561d21524e55cb126917ef24861e96">&#9670;&nbsp;</a></span>dict_stats_drop_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> dict_stats_drop_index </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>db_and_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>iname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>errstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>errstr_sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes the information for a particular index's stats from the persistent storage if it exists and if there is data stored for this index. This function creates its own trx and commits it. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code in: size of the errstr buffer</dd></dl>
<p>Removes the information for a particular index's stats from the persistent storage if it exists and if there is data stored for this index. This function creates its own trx and commits it. A note from Marko why we cannot edit user and sys_* tables in one trx: marko: The problem is that ibuf merges should be disabled while we are rolling back dict transactions. marko: If ibuf merges are not disabled, we need to scan the *.ibd files. But we shouldn't open *.ibd files before we have rolled back dict transactions and opened the SYS_* records for the *.ibd files. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db_and_table</td><td>in: db and table, e.g. 'db/table' </td></tr>
    <tr><td class="paramname">iname</td><td>in: index name </td></tr>
    <tr><td class="paramname">errstr</td><td>out: error message if != DB_SUCCESS is returned </td></tr>
    <tr><td class="paramname">errstr_sz</td><td>in: size of the errstr buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a182bcbb8135400bad228877d205cadcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a182bcbb8135400bad228877d205cadcc">&#9670;&nbsp;</a></span>dict_stats_drop_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> dict_stats_drop_table </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>db_and_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>errstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulint&#160;</td>
          <td class="paramname"><em>errstr_sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes the statistics for a table and all of its indexes from the persistent storage if it exists and if there is data stored for the table. This function creates its own transaction and commits it. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code in: size of errstr buffer</dd></dl>
<p>Removes the statistics for a table and all of its indexes from the persistent statistics storage if it exists and if there is data stored for the table. This function creates its own transaction and commits it. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">db_and_table</td><td>in: db and table, e.g. 'db/table' </td></tr>
    <tr><td class="paramname">errstr</td><td>out: error message if != DB_SUCCESS is returned </td></tr>
    <tr><td class="paramname">errstr_sz</td><td>in: size of errstr buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a832e9e73628c4654b56251aa63f1152a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a832e9e73628c4654b56251aa63f1152a">&#9670;&nbsp;</a></span>dict_stats_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void dict_stats_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize table's stats for the first time when opening a table. in/out: table </p>

</div>
</div>
<a id="a562902feada76def9e491ab271d7dc77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a562902feada76def9e491ab271d7dc77">&#9670;&nbsp;</a></span>dict_stats_is_persistent_enabled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE ibool dict_stats_is_persistent_enabled </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="struct_check.html">Check</a> whether persistent statistics is enabled for a given table. </p><dl class="section return"><dt>Returns</dt><dd>TRUE if enabled, FALSE otherwise </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in: table </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae12d6db20b9b44208c3139b0ab847c86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae12d6db20b9b44208c3139b0ab847c86">&#9670;&nbsp;</a></span>dict_stats_rename_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> dict_stats_rename_table </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>old_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>new_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>errstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>errstr_sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Renames a table in InnoDB persistent stats storage. This function creates its own transaction and commits it. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code in: errstr size</dd></dl>
<p>Renames a table in InnoDB persistent stats storage. This function creates its own transaction and commits it. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old_name</td><td>in: old name, e.g. 'db/table' </td></tr>
    <tr><td class="paramname">new_name</td><td>in: new name, e.g. 'db/table' </td></tr>
    <tr><td class="paramname">errstr</td><td>out: error string if != DB_SUCCESS is returned </td></tr>
    <tr><td class="paramname">errstr_sz</td><td>in: errstr size </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abcd168cd77328df63c07b24e3705f9fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcd168cd77328df63c07b24e3705f9fe">&#9670;&nbsp;</a></span>dict_stats_set_persistent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INLINE void dict_stats_set_persistent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ibool&#160;</td>
          <td class="paramname"><em>ps_on</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ibool&#160;</td>
          <td class="paramname"><em>ps_off</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the persistent statistics flag for a given table. This is set only in the in-memory table object and is not saved on disk. It will be read from the .frm file upon first open from MySQL after a server restart. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in/out: table </td></tr>
    <tr><td class="paramname">ps_on</td><td>in: persistent stats explicitly enabled </td></tr>
    <tr><td class="paramname">ps_off</td><td>in: persistent stats explicitly disabled </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2824e6e3016153b553ef7e0c2bf7070b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2824e6e3016153b553ef7e0c2bf7070b">&#9670;&nbsp;</a></span>dict_stats_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN <a class="el" href="db0err_8h.html#a6fdd08971b32ee513b20967238f1654d">dberr_t</a> dict_stats_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dict_stats_upd_option_t&#160;</td>
          <td class="paramname"><em>stats_upd_option</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates new estimates for table and index statistics. The statistics are used in query optimization. </p><dl class="section return"><dt>Returns</dt><dd>DB_* error code or DB_SUCCESS in: whether to (re) calc the stats or to fetch them from the persistent storage</dd></dl>
<p>Calculates new estimates for table and index statistics. The statistics are used in query optimization. </p><dl class="section return"><dt>Returns</dt><dd>DB_SUCCESS or error code </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in/out: table </td></tr>
    <tr><td class="paramname">stats_upd_option</td><td>in: whether to (re) calc the stats or to fetch them from the persistent statistics storage </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1384f0bf4459ef8b180ab9cbfb2c3bab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1384f0bf4459ef8b180ab9cbfb2c3bab">&#9670;&nbsp;</a></span>dict_stats_update_for_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void dict_stats_update_for_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__index__t.html">dict_index_t</a> *&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fetches or calculates new estimates for index statistics. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>in/out: index </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a11d2051e9bba29c047aa586a3f6d763a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11d2051e9bba29c047aa586a3f6d763a">&#9670;&nbsp;</a></span>dict_stats_update_transient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNIV_INTERN void dict_stats_update_transient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdict__table__t.html">dict_table_t</a> *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates new estimates for table and index statistics. This function is relatively quick and is used to calculate transient statistics that are not saved on disk. This was the only way to calculate statistics before the Persistent Statistics feature was introduced. in/out: table</p>
<p>Calculates new estimates for table and index statistics. This function is relatively quick and is used to calculate transient statistics that are not saved on disk. This was the only way to calculate statistics before the Persistent Statistics feature was introduced. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>in/out: table </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
