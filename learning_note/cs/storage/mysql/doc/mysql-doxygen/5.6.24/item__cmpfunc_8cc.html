<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: sql/item_cmpfunc.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">item_cmpfunc.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file defines all compare functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="sql__priv_8h_source.html">sql_priv.h</a>&quot;</code><br />
<code>#include &lt;m_ctype.h&gt;</code><br />
<code>#include &quot;<a class="el" href="sql__select_8h_source.html">sql_select.h</a>&quot;</code><br />
<code>#include &quot;sql_optimizer.h&quot;</code><br />
<code>#include &quot;sql_parse.h&quot;</code><br />
<code>#include &quot;sql_time.h&quot;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a608cf497718e23eb01739e881833cb35"><td class="memItemLeft" align="right" valign="top"><a id="a608cf497718e23eb01739e881833cb35"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OLD_CMP</b></td></tr>
<tr class="separator:a608cf497718e23eb01739e881833cb35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece192481bc55c135e84f3820a433728"><td class="memItemLeft" align="right" valign="top"><a id="aece192481bc55c135e84f3820a433728"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>likeconv</b>(cs,  A)&#160;&#160;&#160;(uchar) (cs)-&gt;sort_order[(uchar) (A)]</td></tr>
<tr class="separator:aece192481bc55c135e84f3820a433728"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4fd6c6c3c4cec76a37e3951eaa9522b9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__cmpfunc_8cc.html#a4fd6c6c3c4cec76a37e3951eaa9522b9">convert_constant_item</a> (THD *, <a class="el" href="class_item__field.html">Item_field</a> *, <a class="el" href="class_item.html">Item</a> **)</td></tr>
<tr class="separator:a4fd6c6c3c4cec76a37e3951eaa9522b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01f0af29ba3b431ffeed334ea494df9a"><td class="memItemLeft" align="right" valign="top"><a id="a01f0af29ba3b431ffeed334ea494df9a"></a>
static longlong&#160;</td><td class="memItemRight" valign="bottom"><b>get_year_value</b> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, <a class="el" href="class_item.html">Item</a> ***item_arg, <a class="el" href="class_item.html">Item</a> **cache_arg, <a class="el" href="class_item.html">Item</a> *warn_item, bool *is_null)</td></tr>
<tr class="separator:a01f0af29ba3b431ffeed334ea494df9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05a83f527296dc38456c987301f68011"><td class="memItemLeft" align="right" valign="top"><a id="a05a83f527296dc38456c987301f68011"></a>
static Item_result&#160;</td><td class="memItemRight" valign="bottom"><b>item_store_type</b> (Item_result <a class="el" href="row0merge_8cc.html#aaba8987b345486af51614561bddd051b">a</a>, <a class="el" href="class_item.html">Item</a> *item, my_bool unsigned_flag)</td></tr>
<tr class="separator:a05a83f527296dc38456c987301f68011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d03ff2f83220708b695bb0b71a8a7e1"><td class="memItemLeft" align="right" valign="top"><a id="a2d03ff2f83220708b695bb0b71a8a7e1"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>agg_result_type</b> (Item_result *<a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>, <a class="el" href="class_item.html">Item</a> **<a class="el" href="structitems.html">items</a>, uint nitems)</td></tr>
<tr class="separator:a2d03ff2f83220708b695bb0b71a8a7e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae45254b0f54f00ced4fefca15da2bb32"><td class="memItemLeft" align="right" valign="top"><a id="ae45254b0f54f00ced4fefca15da2bb32"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>cmp_row_type</b> (<a class="el" href="class_item.html">Item</a> *item1, <a class="el" href="class_item.html">Item</a> *item2)</td></tr>
<tr class="separator:ae45254b0f54f00ced4fefca15da2bb32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa14c0c36c37f19b819d0d552499b7ca4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__cmpfunc_8cc.html#aa14c0c36c37f19b819d0d552499b7ca4">agg_cmp_type</a> (Item_result *<a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>, <a class="el" href="class_item.html">Item</a> **<a class="el" href="structitems.html">items</a>, uint nitems)</td></tr>
<tr class="separator:aa14c0c36c37f19b819d0d552499b7ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62111cd977853a7f76e52aff59436e29"><td class="memItemLeft" align="right" valign="top">enum_field_types&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__cmpfunc_8cc.html#a62111cd977853a7f76e52aff59436e29">agg_field_type</a> (<a class="el" href="class_item.html">Item</a> **<a class="el" href="structitems.html">items</a>, uint nitems)</td></tr>
<tr class="memdesc:a62111cd977853a7f76e52aff59436e29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aggregates field types from the array of items.  <a href="#a62111cd977853a7f76e52aff59436e29">More...</a><br /></td></tr>
<tr class="separator:a62111cd977853a7f76e52aff59436e29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acceb85ea9707743565af778c495f6b99"><td class="memItemLeft" align="right" valign="top"><a id="acceb85ea9707743565af778c495f6b99"></a>
static uint&#160;</td><td class="memItemRight" valign="bottom"><b>collect_cmp_types</b> (<a class="el" href="class_item.html">Item</a> **<a class="el" href="structitems.html">items</a>, uint nitems, bool skip_nulls=FALSE)</td></tr>
<tr class="separator:acceb85ea9707743565af778c495f6b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eedc5d10e5319e2e974add4a13b7eb1"><td class="memItemLeft" align="right" valign="top"><a id="a4eedc5d10e5319e2e974add4a13b7eb1"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>my_coll_agg_error</b> (<a class="el" href="class_d_t_collation.html">DTCollation</a> &amp;c1, <a class="el" href="class_d_t_collation.html">DTCollation</a> &amp;c2, const char *fname)</td></tr>
<tr class="separator:a4eedc5d10e5319e2e974add4a13b7eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a722b67c2fcc8d0c01e0bae5b536fb064"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__cmpfunc_8cc.html#a722b67c2fcc8d0c01e0bae5b536fb064">get_mysql_time_from_str</a> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, <a class="el" href="class_string.html">String</a> *str, timestamp_type warn_type, const char *warn_name, <a class="el" href="structst__mysql__time.html">MYSQL_TIME</a> *l_time)</td></tr>
<tr class="separator:a722b67c2fcc8d0c01e0bae5b536fb064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f67fed5f91ec0aa45d2dcfcc472eeea"><td class="memItemLeft" align="right" valign="top">static ulonglong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__cmpfunc_8cc.html#a7f67fed5f91ec0aa45d2dcfcc472eeea">get_date_from_str</a> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, <a class="el" href="class_string.html">String</a> *str, timestamp_type warn_type, const char *warn_name, bool *error_arg)</td></tr>
<tr class="memdesc:a7f67fed5f91ec0aa45d2dcfcc472eeea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert date provided in a string to its packed temporal int representation.  <a href="#a7f67fed5f91ec0aa45d2dcfcc472eeea">More...</a><br /></td></tr>
<tr class="separator:a7f67fed5f91ec0aa45d2dcfcc472eeea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad31497a4534dada13b90c0be87527b49"><td class="memItemLeft" align="right" valign="top"><a id="ad31497a4534dada13b90c0be87527b49"></a>
longlong&#160;</td><td class="memItemRight" valign="bottom"><b>get_time_value</b> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, <a class="el" href="class_item.html">Item</a> ***item_arg, <a class="el" href="class_item.html">Item</a> **cache_arg, <a class="el" href="class_item.html">Item</a> *warn_item, bool *is_null)</td></tr>
<tr class="separator:ad31497a4534dada13b90c0be87527b49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f92d36cacaddb5928ab1003a213cc2e"><td class="memItemLeft" align="right" valign="top"><a id="a6f92d36cacaddb5928ab1003a213cc2e"></a>
longlong&#160;</td><td class="memItemRight" valign="bottom"><b>get_datetime_value</b> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, <a class="el" href="class_item.html">Item</a> ***item_arg, <a class="el" href="class_item.html">Item</a> **cache_arg, <a class="el" href="class_item.html">Item</a> *warn_item, bool *is_null)</td></tr>
<tr class="separator:a6f92d36cacaddb5928ab1003a213cc2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ac2509d288ef792c6b12b50715130af"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__cmpfunc_8cc.html#a0ac2509d288ef792c6b12b50715130af">change_item_tree_if_needed</a> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, <a class="el" href="class_item.html">Item</a> **place, <a class="el" href="class_item.html">Item</a> *new_value)</td></tr>
<tr class="separator:a0ac2509d288ef792c6b12b50715130af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a344ed4f794216a005db4af5ad7c63481"><td class="memItemLeft" align="right" valign="top"><a id="a344ed4f794216a005db4af5ad7c63481"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>cmp_longs</b> (longlong a_val, longlong b_val)</td></tr>
<tr class="separator:a344ed4f794216a005db4af5ad7c63481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aed6715601863228206010132d8b372"><td class="memItemLeft" align="right" valign="top"><a id="a6aed6715601863228206010132d8b372"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>cmp_ulongs</b> (ulonglong a_val, ulonglong b_val)</td></tr>
<tr class="separator:a6aed6715601863228206010132d8b372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6664f975b5d390976f87ef2c7351a852"><td class="memItemLeft" align="right" valign="top"><a id="a6664f975b5d390976f87ef2c7351a852"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>cmp_longlong</b> (void *cmp_arg, <a class="el" href="structin__longlong_1_1packed__longlong.html">in_longlong::packed_longlong</a> *<a class="el" href="row0merge_8cc.html#aaba8987b345486af51614561bddd051b">a</a>, <a class="el" href="structin__longlong_1_1packed__longlong.html">in_longlong::packed_longlong</a> *<a class="el" href="row0merge_8cc.html#a40730b4776204efc5a07b947ce63f0b4">b</a>)</td></tr>
<tr class="separator:a6664f975b5d390976f87ef2c7351a852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1afb89389e723d9b663b6686f356c12"><td class="memItemLeft" align="right" valign="top"><a id="af1afb89389e723d9b663b6686f356c12"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>cmp_double</b> (void *cmp_arg, double *<a class="el" href="row0merge_8cc.html#aaba8987b345486af51614561bddd051b">a</a>, double *<a class="el" href="row0merge_8cc.html#a40730b4776204efc5a07b947ce63f0b4">b</a>)</td></tr>
<tr class="separator:af1afb89389e723d9b663b6686f356c12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc9bb59e087d856f0d79e9ad114b1df0"><td class="memItemLeft" align="right" valign="top"><a id="adc9bb59e087d856f0d79e9ad114b1df0"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>cmp_row</b> (void *cmp_arg, <a class="el" href="classcmp__item__row.html">cmp_item_row</a> *<a class="el" href="row0merge_8cc.html#aaba8987b345486af51614561bddd051b">a</a>, <a class="el" href="classcmp__item__row.html">cmp_item_row</a> *<a class="el" href="row0merge_8cc.html#a40730b4776204efc5a07b947ce63f0b4">b</a>)</td></tr>
<tr class="separator:adc9bb59e087d856f0d79e9ad114b1df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa04f7461e55d280d8795a0df9b4127e"><td class="memItemLeft" align="right" valign="top"><a id="aaa04f7461e55d280d8795a0df9b4127e"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>cmp_decimal</b> (void *cmp_arg, <a class="el" href="classmy__decimal.html">my_decimal</a> *<a class="el" href="row0merge_8cc.html#aaba8987b345486af51614561bddd051b">a</a>, <a class="el" href="classmy__decimal.html">my_decimal</a> *<a class="el" href="row0merge_8cc.html#a40730b4776204efc5a07b947ce63f0b4">b</a>)</td></tr>
<tr class="separator:aaa04f7461e55d280d8795a0df9b4127e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a270f10bbea1a33ab8ed151cc48ea0603"><td class="memItemLeft" align="right" valign="top"><a id="a270f10bbea1a33ab8ed151cc48ea0603"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>srtcmp_in</b> (<a class="el" href="structcharset__info__st.html">CHARSET_INFO</a> *cs, const <a class="el" href="class_string.html">String</a> *x, const <a class="el" href="class_string.html">String</a> *y)</td></tr>
<tr class="separator:a270f10bbea1a33ab8ed151cc48ea0603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96df67726ea2a49c5f779cb7d3cdbbd3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_item.html">Item</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="item__cmpfunc_8cc.html#a96df67726ea2a49c5f779cb7d3cdbbd3">and_expressions</a> (<a class="el" href="class_item.html">Item</a> *<a class="el" href="row0merge_8cc.html#aaba8987b345486af51614561bddd051b">a</a>, <a class="el" href="class_item.html">Item</a> *<a class="el" href="row0merge_8cc.html#a40730b4776204efc5a07b947ce63f0b4">b</a>, <a class="el" href="class_item.html">Item</a> **org_item)</td></tr>
<tr class="separator:a96df67726ea2a49c5f779cb7d3cdbbd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file defines all compare functions. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aa14c0c36c37f19b819d0d552499b7ca4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa14c0c36c37f19b819d0d552499b7ca4">&#9670;&nbsp;</a></span>agg_cmp_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int agg_cmp_type </td>
          <td>(</td>
          <td class="paramtype">Item_result *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_item.html">Item</a> **&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>nitems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Aggregates result types from the array of items.</p>
<p>SYNOPSIS: <a class="el" href="item__cmpfunc_8cc.html#aa14c0c36c37f19b819d0d552499b7ca4">agg_cmp_type()</a> type [out] the aggregated type items array of items to aggregate the type from nitems number of items in the array</p>
<p>DESCRIPTION This function aggregates result types from the array of items. Found type supposed to be used later for comparison of values of these items. Aggregation itself is performed by the item_cmp_type() function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">type</td><td>the aggregated type </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">items</td><td>array of items to aggregate the type from </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">nitems</td><td>number of items in the array</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>type incompatibility has been detected </td></tr>
    <tr><td class="paramname">0</td><td>otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a62111cd977853a7f76e52aff59436e29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62111cd977853a7f76e52aff59436e29">&#9670;&nbsp;</a></span>agg_field_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum_field_types agg_field_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_item.html">Item</a> **&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>nitems</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aggregates field types from the array of items. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">items</td><td>array of items to aggregate the type from [in] nitems number of items in the array</td></tr>
  </table>
  </dd>
</dl>
<p>This function aggregates field types from the array of items. Found type is supposed to be used later as the result field type of a multi-argument function. Aggregation itself is performed by the <a class="el" href="class_field.html#ab20100743e6462945e5c0a5130a9ab9d">Field::field_type_merge()</a> function.</p>
<dl class="section note"><dt>Note</dt><dd>The term "aggregation" is used here in the sense of inferring the result type of a function from its argument types.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>aggregated field type. </dd></dl>

</div>
</div>
<a id="a96df67726ea2a49c5f779cb7d3cdbbd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96df67726ea2a49c5f779cb7d3cdbbd3">&#9670;&nbsp;</a></span>and_expressions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_item.html">Item</a>* and_expressions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_item.html">Item</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_item.html">Item</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_item.html">Item</a> **&#160;</td>
          <td class="paramname"><em>org_item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create an AND expression from two expressions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>expression or NULL </td></tr>
    <tr><td class="paramname">b</td><td>expression. </td></tr>
    <tr><td class="paramname">org_item</td><td>Don't modify a if a == *org_item. If a == NULL, org_item is set to point at b, to ensure that future calls will not modify b.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This will not modify item pointed to by org_item or b The idea is that one can call this in a loop and create and 'and' over all items without modifying any of the original items.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>Error </td></tr>
    <tr><td class="paramname"><a class="el" href="class_item.html">Item</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0ac2509d288ef792c6b12b50715130af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ac2509d288ef792c6b12b50715130af">&#9670;&nbsp;</a></span>change_item_tree_if_needed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void change_item_tree_if_needed </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_item.html">Item</a> **&#160;</td>
          <td class="paramname"><em>place</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_item.html">Item</a> *&#160;</td>
          <td class="paramname"><em>new_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="struct_check.html">Check</a> if (*place) and new_value points to different Items and call THD::change_item_tree() if needed.</p>
<p>This function is a workaround for implementation deficiency in <a class="el" href="class_item__func__case.html">Item_func_case</a>. The problem there is that the 'args' attribute contains Items from different expressions.</p>
<p>The function must not be used elsewhere and will be remove eventually. </p>

</div>
</div>
<a id="a4fd6c6c3c4cec76a37e3951eaa9522b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fd6c6c3c4cec76a37e3951eaa9522b9">&#9670;&nbsp;</a></span>convert_constant_item()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool convert_constant_item </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_item__field.html">Item_field</a> *&#160;</td>
          <td class="paramname"><em>field_item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_item.html">Item</a> **&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convert a constant item to an int and replace the original item.</p>
<p>The function converts a constant expression or string to an integer. On successful conversion the original item is substituted for the result of the item evaluation. This is done when comparing DATE/TIME of different formats and also when comparing bigint to strings (in which case strings are converted to bigints).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">thd</td><td>thread handle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">field</td><td>item will be converted using the type of this field </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">item</td><td>reference to the item to convert</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is called only at prepare stage. As all derived tables are filled only after all derived tables are prepared we do not evaluate items with subselects here because they can contain derived tables and thus we may attempt to use a table that has not been populated yet.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Can't convert item </td></tr>
    <tr><td class="paramname">1</td><td><a class="el" href="class_item.html">Item</a> was replaced with an integer version of the item </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7f67fed5f91ec0aa45d2dcfcc472eeea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f67fed5f91ec0aa45d2dcfcc472eeea">&#9670;&nbsp;</a></span>get_date_from_str()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ulonglong get_date_from_str </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_string.html">String</a> *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">timestamp_type&#160;</td>
          <td class="paramname"><em>warn_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>warn_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>error_arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert date provided in a string to its packed temporal int representation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>thread handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">str</td><td>a string to convert </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">warn_type</td><td>type of the timestamp for issuing the warning </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">warn_name</td><td>field name for issuing the warning </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error_arg</td><td>could not extract a DATE or DATETIME</td></tr>
  </table>
  </dd>
</dl>
<p>Convert date provided in the string str to the int representation. If the string contains wrong date or doesn't contain it at all then a warning is issued. The warn_type and the warn_name arguments are used as the name and the type of the field when issuing the warning.</p>
<dl class="section return"><dt>Returns</dt><dd>converted value. 0 on error and on zero-dates &ndash; check 'failure' </dd></dl>

</div>
</div>
<a id="a722b67c2fcc8d0c01e0bae5b536fb064"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a722b67c2fcc8d0c01e0bae5b536fb064">&#9670;&nbsp;</a></span>get_mysql_time_from_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool get_mysql_time_from_str </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_string.html">String</a> *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">timestamp_type&#160;</td>
          <td class="paramname"><em>warn_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>warn_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structst__mysql__time.html">MYSQL_TIME</a> *&#160;</td>
          <td class="paramname"><em>l_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse date provided in a string to a MYSQL_TIME.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thd</td><td>Thread handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">str</td><td>A string to convert </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">warn_type</td><td>Type of the timestamp for issuing the warning </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">warn_name</td><td><a class="el" href="class_field.html">Field</a> name for issuing the warning </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">l_time</td><td>The MYSQL_TIME objects is initialized.</td></tr>
  </table>
  </dd>
</dl>
<p>Parses a date provided in the string str into a MYSQL_TIME object. If the string contains an incorrect date or doesn't correspond to a date at all then a warning is issued. The warn_type and the warn_name arguments are used as the name and the type of the field when issuing the warning. If any input was discarded (trailing or non-timestamp-y characters), return value will be TRUE.</p>
<dl class="section return"><dt>Returns</dt><dd>Status flag </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FALSE</td><td>Success. </td></tr>
    <tr><td class="paramname">True</td><td>Indicates failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
