<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: MDL_object_lock Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="class_m_d_l__object__lock-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MDL_object_lock Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for MDL_object_lock:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_m_d_l__object__lock.png" usemap="#MDL_5Fobject_5Flock_map" alt=""/>
  <map id="MDL_5Fobject_5Flock_map" name="MDL_5Fobject_5Flock_map">
<area href="class_m_d_l__lock.html" alt="MDL_lock" shape="rect" coords="0,0,110,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2e32115b9be416e131d4bb9086020973"><td class="memItemLeft" align="right" valign="top"><a id="a2e32115b9be416e131d4bb9086020973"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MDL_object_lock</b> (const <a class="el" href="class_m_d_l__key.html">MDL_key</a> *key_arg, <a class="el" href="class_m_d_l__map__partition.html">MDL_map_partition</a> *map_part)</td></tr>
<tr class="separator:a2e32115b9be416e131d4bb9086020973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e4bb968f3e0013eb3ff2d846fdf8cc8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__object__lock.html#a0e4bb968f3e0013eb3ff2d846fdf8cc8">reset</a> (const <a class="el" href="class_m_d_l__key.html">MDL_key</a> *new_key)</td></tr>
<tr class="separator:a0e4bb968f3e0013eb3ff2d846fdf8cc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9d6eacebbb89d2299e2fa85bf3190e9"><td class="memItemLeft" align="right" valign="top"><a id="ab9d6eacebbb89d2299e2fa85bf3190e9"></a>
virtual const bitmap_t *&#160;</td><td class="memItemRight" valign="bottom"><b>incompatible_granted_types_bitmap</b> () const</td></tr>
<tr class="separator:ab9d6eacebbb89d2299e2fa85bf3190e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0467255cb2579c91bde597f1e43ce397"><td class="memItemLeft" align="right" valign="top"><a id="a0467255cb2579c91bde597f1e43ce397"></a>
virtual const bitmap_t *&#160;</td><td class="memItemRight" valign="bottom"><b>incompatible_waiting_types_bitmap</b> () const</td></tr>
<tr class="separator:a0467255cb2579c91bde597f1e43ce397"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb9aeea1e532b5467ed21e33b19e9c93"><td class="memItemLeft" align="right" valign="top"><a id="acb9aeea1e532b5467ed21e33b19e9c93"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>needs_notification</b> (const <a class="el" href="class_m_d_l__ticket.html">MDL_ticket</a> *ticket) const</td></tr>
<tr class="separator:acb9aeea1e532b5467ed21e33b19e9c93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64625f9e979bef2319366b8f85a6edc1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__object__lock.html#a64625f9e979bef2319366b8f85a6edc1">notify_conflicting_locks</a> (<a class="el" href="class_m_d_l__context.html">MDL_context</a> *ctx)</td></tr>
<tr class="separator:a64625f9e979bef2319366b8f85a6edc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad75556d10995b1d662a7ddc5e5acaeda"><td class="memItemLeft" align="right" valign="top"><a id="ad75556d10995b1d662a7ddc5e5acaeda"></a>
virtual bitmap_t&#160;</td><td class="memItemRight" valign="bottom"><b>hog_lock_types_bitmap</b> () const</td></tr>
<tr class="separator:ad75556d10995b1d662a7ddc5e5acaeda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_m_d_l__lock"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_m_d_l__lock')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_m_d_l__lock.html">MDL_lock</a></td></tr>
<tr class="memitem:a1f746450dc5bc7ae141d907ae34b2f3a inherit pub_methods_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top"><a id="a1f746450dc5bc7ae141d907ae34b2f3a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_empty</b> () const</td></tr>
<tr class="separator:a1f746450dc5bc7ae141d907ae34b2f3a inherit pub_methods_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7707e02d9695b5694336787a622b0060 inherit pub_methods_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__lock.html#a7707e02d9695b5694336787a622b0060">has_pending_conflicting_lock</a> (enum_mdl_type <a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>)</td></tr>
<tr class="separator:a7707e02d9695b5694336787a622b0060 inherit pub_methods_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb1679df85ff792e2f45916a0c49e9ea inherit pub_methods_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__lock.html#abb1679df85ff792e2f45916a0c49e9ea">can_grant_lock</a> (enum_mdl_type <a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>, <a class="el" href="class_m_d_l__context.html">MDL_context</a> *requstor_ctx, bool ignore_lock_priority) const</td></tr>
<tr class="separator:abb1679df85ff792e2f45916a0c49e9ea inherit pub_methods_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07003cc6619a99b6cc36f564c62e4e94 inherit pub_methods_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__lock.html#a07003cc6619a99b6cc36f564c62e4e94">reschedule_waiters</a> ()</td></tr>
<tr class="separator:a07003cc6619a99b6cc36f564c62e4e94 inherit pub_methods_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c7adbc9462b159451a388353ca59df8 inherit pub_methods_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__lock.html#a6c7adbc9462b159451a388353ca59df8">remove_ticket</a> (<a class="el" href="class_m_d_l__lock_1_1_ticket__list.html">Ticket_list</a> MDL_lock::*queue, <a class="el" href="class_m_d_l__ticket.html">MDL_ticket</a> *ticket)</td></tr>
<tr class="separator:a6c7adbc9462b159451a388353ca59df8 inherit pub_methods_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56e5025d3f3cff97923bc283c715566d inherit pub_methods_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__lock.html#a56e5025d3f3cff97923bc283c715566d">visit_subgraph</a> (<a class="el" href="class_m_d_l__ticket.html">MDL_ticket</a> *waiting_ticket, <a class="el" href="class_m_d_l__wait__for__graph__visitor.html">MDL_wait_for_graph_visitor</a> *gvisitor)</td></tr>
<tr class="separator:a56e5025d3f3cff97923bc283c715566d inherit pub_methods_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba4612530248e072e71efd50e2304b82 inherit pub_methods_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top"><a id="aba4612530248e072e71efd50e2304b82"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>MDL_lock</b> (const <a class="el" href="class_m_d_l__key.html">MDL_key</a> *key_arg, <a class="el" href="class_m_d_l__map__partition.html">MDL_map_partition</a> *map_part)</td></tr>
<tr class="separator:aba4612530248e072e71efd50e2304b82 inherit pub_methods_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:acd29b48c760452db22bf7f2ed43bf589"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_m_d_l__object__lock.html">MDL_object_lock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__object__lock.html#acd29b48c760452db22bf7f2ed43bf589">next_in_cache</a></td></tr>
<tr class="separator:acd29b48c760452db22bf7f2ed43bf589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a446c99761beaf72eec7c8a0570cf6dfe"><td class="memItemLeft" align="right" valign="top"><a id="a446c99761beaf72eec7c8a0570cf6dfe"></a>
<a class="el" href="class_m_d_l__object__lock.html">MDL_object_lock</a> **&#160;</td><td class="memItemRight" valign="bottom"><b>prev_in_cache</b></td></tr>
<tr class="separator:a446c99761beaf72eec7c8a0570cf6dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_class_m_d_l__lock"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_class_m_d_l__lock')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="class_m_d_l__lock.html">MDL_lock</a></td></tr>
<tr class="memitem:aefb48179bc3f6ef64c213b253c379da4 inherit pub_attribs_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_m_d_l__key.html">MDL_key</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__lock.html#aefb48179bc3f6ef64c213b253c379da4">key</a></td></tr>
<tr class="separator:aefb48179bc3f6ef64c213b253c379da4 inherit pub_attribs_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1308b4506d8cb6d754b4f173e3aa4962 inherit pub_attribs_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___thread__instrumentation.html#ga91f9e9de0d35a9c7ebfdaaeaf6934f52">mysql_prlock_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__lock.html#a1308b4506d8cb6d754b4f173e3aa4962">m_rwlock</a></td></tr>
<tr class="separator:a1308b4506d8cb6d754b4f173e3aa4962 inherit pub_attribs_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a188dd53561f6cf6148277512b706ea74 inherit pub_attribs_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_m_d_l__lock_1_1_ticket__list.html">Ticket_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__lock.html#a188dd53561f6cf6148277512b706ea74">m_granted</a></td></tr>
<tr class="separator:a188dd53561f6cf6148277512b706ea74 inherit pub_attribs_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4443cad6b484e2af5c816949ddb209dc inherit pub_attribs_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_m_d_l__lock_1_1_ticket__list.html">Ticket_list</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__lock.html#a4443cad6b484e2af5c816949ddb209dc">m_waiting</a></td></tr>
<tr class="separator:a4443cad6b484e2af5c816949ddb209dc inherit pub_attribs_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab173b2eb68fdd6de02d9e4e8a0c94405 inherit pub_attribs_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top">ulong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__lock.html#ab173b2eb68fdd6de02d9e4e8a0c94405">m_hog_lock_count</a></td></tr>
<tr class="separator:ab173b2eb68fdd6de02d9e4e8a0c94405 inherit pub_attribs_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a5656ede3fc7772e612f6ae5c9a32a7 inherit pub_attribs_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__lock.html#a5a5656ede3fc7772e612f6ae5c9a32a7">m_ref_usage</a></td></tr>
<tr class="separator:a5a5656ede3fc7772e612f6ae5c9a32a7 inherit pub_attribs_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36ae1fe3de8bd7d46cdd8e8428d2e8b8 inherit pub_attribs_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top"><a id="a36ae1fe3de8bd7d46cdd8e8428d2e8b8"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>m_ref_release</b></td></tr>
<tr class="separator:a36ae1fe3de8bd7d46cdd8e8428d2e8b8 inherit pub_attribs_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af53b8e719370bc438e91bbb09549ec5b inherit pub_attribs_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top"><a id="af53b8e719370bc438e91bbb09549ec5b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>m_is_destroyed</b></td></tr>
<tr class="separator:af53b8e719370bc438e91bbb09549ec5b inherit pub_attribs_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c2e5e43c2e415d9205e7fdc227ceb2e inherit pub_attribs_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top">ulonglong&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__lock.html#a6c2e5e43c2e415d9205e7fdc227ceb2e">m_version</a></td></tr>
<tr class="separator:a6c2e5e43c2e415d9205e7fdc227ceb2e inherit pub_attribs_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1abde8ba2ec734301891301ff8d99ff inherit pub_attribs_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_m_d_l__map__partition.html">MDL_map_partition</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__lock.html#aa1abde8ba2ec734301891301ff8d99ff">m_map_part</a></td></tr>
<tr class="separator:aa1abde8ba2ec734301891301ff8d99ff inherit pub_attribs_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:aef8076951a79515eeb2c663003522564"><td class="memItemLeft" align="right" valign="top">static const bitmap_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__object__lock.html#aef8076951a79515eeb2c663003522564">m_granted_incompatible</a> [MDL_TYPE_END]</td></tr>
<tr class="separator:aef8076951a79515eeb2c663003522564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80e49a6b5341ff0a833fb479622ab579"><td class="memItemLeft" align="right" valign="top">static const bitmap_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_waiting_incompatible</b> [MDL_TYPE_END]</td></tr>
<tr class="separator:a80e49a6b5341ff0a833fb479622ab579"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_class_m_d_l__lock"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_m_d_l__lock')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_m_d_l__lock.html">MDL_lock</a></td></tr>
<tr class="memitem:af49d3a2db62c2c6dda844e0d4531ab12 inherit pub_types_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top"><a id="af49d3a2db62c2c6dda844e0d4531ab12"></a>
typedef unsigned short&#160;</td><td class="memItemRight" valign="bottom"><b>bitmap_t</b></td></tr>
<tr class="separator:af49d3a2db62c2c6dda844e0d4531ab12 inherit pub_types_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32cdf73e78c2f3288e20676e9ec19ea5 inherit pub_types_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top"><a id="a32cdf73e78c2f3288e20676e9ec19ea5"></a>
typedef <a class="el" href="class_i___p___list__iterator.html">Ticket_list::List::Iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><b>Ticket_iterator</b></td></tr>
<tr class="separator:a32cdf73e78c2f3288e20676e9ec19ea5 inherit pub_types_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_class_m_d_l__lock"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_class_m_d_l__lock')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="class_m_d_l__lock.html">MDL_lock</a></td></tr>
<tr class="memitem:a2465460ca8b04f73d2381043a997dfed inherit pub_static_methods_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_m_d_l__lock.html">MDL_lock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_d_l__lock.html#a2465460ca8b04f73d2381043a997dfed">create</a> (const <a class="el" href="class_m_d_l__key.html">MDL_key</a> *<a class="el" href="class_m_d_l__lock.html#aefb48179bc3f6ef64c213b253c379da4">key</a>, <a class="el" href="class_m_d_l__map__partition.html">MDL_map_partition</a> *map_part)</td></tr>
<tr class="separator:a2465460ca8b04f73d2381043a997dfed inherit pub_static_methods_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b25c48d98250c1603a5c55eeace3986 inherit pub_static_methods_class_m_d_l__lock"><td class="memItemLeft" align="right" valign="top"><a id="a0b25c48d98250c1603a5c55eeace3986"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>destroy</b> (<a class="el" href="class_m_d_l__lock.html">MDL_lock</a> *lock)</td></tr>
<tr class="separator:a0b25c48d98250c1603a5c55eeace3986 inherit pub_static_methods_class_m_d_l__lock"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An implementation of a per-object lock. Supports SHARED, SHARED_UPGRADABLE, SHARED HIGH PRIORITY and EXCLUSIVE locks. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a64625f9e979bef2319366b8f85a6edc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64625f9e979bef2319366b8f85a6edc1">&#9670;&nbsp;</a></span>notify_conflicting_locks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MDL_object_lock::notify_conflicting_locks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_m_d_l__context.html">MDL_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Notify threads holding a shared metadata locks on object which conflict with a pending X, SNW or SNRW lock.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td><a class="el" href="class_m_d_l__context.html">MDL_context</a> for current thread. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="class_m_d_l__lock.html">MDL_lock</a>.</p>

</div>
</div>
<a id="a0e4bb968f3e0013eb3ff2d846fdf8cc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e4bb968f3e0013eb3ff2d846fdf8cc8">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MDL_object_lock::reset </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_m_d_l__key.html">MDL_key</a> *&#160;</td>
          <td class="paramname"><em>new_key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reset unused <a class="el" href="class_m_d_l__object__lock.html">MDL_object_lock</a> object to represent the lock context for a different object. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aef8076951a79515eeb2c663003522564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef8076951a79515eeb2c663003522564">&#9670;&nbsp;</a></span>m_granted_incompatible</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const MDL_lock::bitmap_t MDL_object_lock::m_granted_incompatible</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{</div><div class="line">  0,</div><div class="line">  MDL_BIT(MDL_EXCLUSIVE),</div><div class="line">  MDL_BIT(MDL_EXCLUSIVE),</div><div class="line">  MDL_BIT(MDL_EXCLUSIVE) | MDL_BIT(MDL_SHARED_NO_READ_WRITE),</div><div class="line">  MDL_BIT(MDL_EXCLUSIVE) | MDL_BIT(MDL_SHARED_NO_READ_WRITE) |</div><div class="line">    MDL_BIT(MDL_SHARED_NO_WRITE),</div><div class="line">  MDL_BIT(MDL_EXCLUSIVE) | MDL_BIT(MDL_SHARED_NO_READ_WRITE) |</div><div class="line">    MDL_BIT(MDL_SHARED_NO_WRITE) | MDL_BIT(MDL_SHARED_UPGRADABLE),</div><div class="line">  MDL_BIT(MDL_EXCLUSIVE) | MDL_BIT(MDL_SHARED_NO_READ_WRITE) |</div><div class="line">    MDL_BIT(MDL_SHARED_NO_WRITE) | MDL_BIT(MDL_SHARED_UPGRADABLE) |</div><div class="line">    MDL_BIT(MDL_SHARED_WRITE),</div><div class="line">  MDL_BIT(MDL_EXCLUSIVE) | MDL_BIT(MDL_SHARED_NO_READ_WRITE) |</div><div class="line">    MDL_BIT(MDL_SHARED_NO_WRITE) | MDL_BIT(MDL_SHARED_UPGRADABLE) |</div><div class="line">    MDL_BIT(MDL_SHARED_WRITE) | MDL_BIT(MDL_SHARED_READ),</div><div class="line">  MDL_BIT(MDL_EXCLUSIVE) | MDL_BIT(MDL_SHARED_NO_READ_WRITE) |</div><div class="line">    MDL_BIT(MDL_SHARED_NO_WRITE) | MDL_BIT(MDL_SHARED_UPGRADABLE) |</div><div class="line">    MDL_BIT(MDL_SHARED_WRITE) | MDL_BIT(MDL_SHARED_READ) |</div><div class="line">    MDL_BIT(MDL_SHARED_HIGH_PRIO) | MDL_BIT(MDL_SHARED)</div><div class="line">}</div></div><!-- fragment --><p>Compatibility (or rather "incompatibility") matrices for per-object metadata lock. Arrays of bitmaps which elements specify which granted/ waiting locks are incompatible with type of lock being requested.</p>
<p>The first array specifies if particular type of request can be satisfied if there is granted lock of certain type.</p>
<p>Request | Granted requests for lock | type | S SH SR SW SU SNW SNRW X | -------&mdash;+-------------------------------&mdash;+ S | + + + + + + + - | SH | + + + + + + + - | SR | + + + + + + - - | SW | + + + + + - - - | SU | + + + + - - - - | SNW | + + + - - - - - | SNRW | + + - - - - - - | X | - - - - - - - - | SU -&gt; X | - - - - 0 0 0 0 | SNW -&gt; X | - - - 0 0 0 0 0 | SNRW -&gt; X | - - 0 0 0 0 0 0 |</p>
<p>The second array specifies if particular type of request can be satisfied if there is waiting request for the same lock of certain type. In other words it specifies what is the priority of different lock types.</p>
<p>Request | Pending requests for lock | type | S SH SR SW SU SNW SNRW X | -------&mdash;+------------------------------&mdash;+ S | + + + + + + + - | SH | + + + + + + + + | SR | + + + + + + - - | SW | + + + + + - - - | SU | + + + + + + + - | SNW | + + + + + + + - | SNRW | + + + + + + + - | X | + + + + + + + + | SU -&gt; X | + + + + + + + + | SNW -&gt; X | + + + + + + + + | SNRW -&gt; X | + + + + + + + + |</p>
<p>Here: "+" &ndash; means that request can be satisfied "-" &ndash; means that request can't be satisfied and should wait "0" &ndash; means impossible situation which will trigger assert</p>
<dl class="section note"><dt>Note</dt><dd>In cases then current context already has "stronger" type of lock on the object it will be automatically granted thanks to usage of the <a class="el" href="class_m_d_l__context.html#ad38694ab0fa2d63ac1c1d56c80966a21">MDL_context::find_ticket()</a> method.</dd>
<dd>
IX locks are excluded since they are not used for per-object metadata locks. </dd></dl>

</div>
</div>
<a id="a80e49a6b5341ff0a833fb479622ab579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80e49a6b5341ff0a833fb479622ab579">&#9670;&nbsp;</a></span>m_waiting_incompatible</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const MDL_lock::bitmap_t MDL_object_lock::m_waiting_incompatible</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{</div><div class="line">  0,</div><div class="line">  MDL_BIT(MDL_EXCLUSIVE),</div><div class="line">  0,</div><div class="line">  MDL_BIT(MDL_EXCLUSIVE) | MDL_BIT(MDL_SHARED_NO_READ_WRITE),</div><div class="line">  MDL_BIT(MDL_EXCLUSIVE) | MDL_BIT(MDL_SHARED_NO_READ_WRITE) |</div><div class="line">    MDL_BIT(MDL_SHARED_NO_WRITE),</div><div class="line">  MDL_BIT(MDL_EXCLUSIVE),</div><div class="line">  MDL_BIT(MDL_EXCLUSIVE),</div><div class="line">  MDL_BIT(MDL_EXCLUSIVE),</div><div class="line">  0</div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
<a id="acd29b48c760452db22bf7f2ed43bf589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd29b48c760452db22bf7f2ed43bf589">&#9670;&nbsp;</a></span>next_in_cache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_m_d_l__object__lock.html">MDL_object_lock</a>* MDL_object_lock::next_in_cache</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Members for linking the object into the list of unused objects. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>sql/mdl.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
