<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: sp_pcontext Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classsp__pcontext-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">sp_pcontext Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="sp__pcontext_8h_source.html">sp_pcontext.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for sp_pcontext:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classsp__pcontext.png" usemap="#sp_5Fpcontext_map" alt=""/>
  <map id="sp_5Fpcontext_map" name="sp_5Fpcontext_map">
<area href="class_sql__alloc.html" alt="Sql_alloc" shape="rect" coords="0,0,79,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a6252258e34c191cbf1b5e86628cd29c6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a6252258e34c191cbf1b5e86628cd29c6">enum_scope</a> { <a class="el" href="classsp__pcontext.html#a6252258e34c191cbf1b5e86628cd29c6a7eefe8effea203d6409e38ddb6052d6f">REGULAR_SCOPE</a>, 
<a class="el" href="classsp__pcontext.html#a6252258e34c191cbf1b5e86628cd29c6a2db8d8068bbaf5f7f9b60edded7b0bf6">HANDLER_SCOPE</a>
 }</td></tr>
<tr class="separator:a6252258e34c191cbf1b5e86628cd29c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a486b4feb63c343fea40adcf197bde017"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsp__pcontext.html">sp_pcontext</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a486b4feb63c343fea40adcf197bde017">push_context</a> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, <a class="el" href="classsp__pcontext.html#a6252258e34c191cbf1b5e86628cd29c6">enum_scope</a> scope)</td></tr>
<tr class="memdesc:a486b4feb63c343fea40adcf197bde017"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and push a new context in the tree.  <a href="#a486b4feb63c343fea40adcf197bde017">More...</a><br /></td></tr>
<tr class="separator:a486b4feb63c343fea40adcf197bde017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7e4af2bd11d58a2950462a490612a31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsp__pcontext.html">sp_pcontext</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#ae7e4af2bd11d58a2950462a490612a31">pop_context</a> ()</td></tr>
<tr class="separator:ae7e4af2bd11d58a2950462a490612a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7e13090fdd0afca3396677eb805ab63"><td class="memItemLeft" align="right" valign="top"><a id="af7e13090fdd0afca3396677eb805ab63"></a>
<a class="el" href="classsp__pcontext.html">sp_pcontext</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>parent_context</b> () const</td></tr>
<tr class="separator:af7e13090fdd0afca3396677eb805ab63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad5e1160cd57d70ff16ee6aa8288744d"><td class="memItemLeft" align="right" valign="top"><a id="aad5e1160cd57d70ff16ee6aa8288744d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>get_level</b> () const</td></tr>
<tr class="separator:aad5e1160cd57d70ff16ee6aa8288744d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20a7a38d4024c438ae0463913023bbfe"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a20a7a38d4024c438ae0463913023bbfe">diff_handlers</a> (const <a class="el" href="classsp__pcontext.html">sp_pcontext</a> *ctx, bool exclusive) const</td></tr>
<tr class="separator:a20a7a38d4024c438ae0463913023bbfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc4ff72b3da1182d8343a221a1236769"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#acc4ff72b3da1182d8343a221a1236769">diff_cursors</a> (const <a class="el" href="classsp__pcontext.html">sp_pcontext</a> *ctx, bool exclusive) const</td></tr>
<tr class="separator:acc4ff72b3da1182d8343a221a1236769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e102fc7e3bb76e872b32bb8783df72f"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a8e102fc7e3bb76e872b32bb8783df72f">max_var_index</a> () const</td></tr>
<tr class="separator:a8e102fc7e3bb76e872b32bb8783df72f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a368a6fdbad2b286956bd9e67cba15825"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a368a6fdbad2b286956bd9e67cba15825">current_var_count</a> () const</td></tr>
<tr class="separator:a368a6fdbad2b286956bd9e67cba15825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2733cafaa598552f29d8780347040abc"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a2733cafaa598552f29d8780347040abc">context_var_count</a> () const</td></tr>
<tr class="separator:a2733cafaa598552f29d8780347040abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b66fbcd41167516ec4486c5b1e4b43"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a91b66fbcd41167516ec4486c5b1e4b43">var_context2runtime</a> (uint <a class="el" href="dict0mem_8cc.html#ac23062089f3a5a2693cbb4ce7a75f1e5">i</a>) const</td></tr>
<tr class="separator:a91b66fbcd41167516ec4486c5b1e4b43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a720325b7d8acd08f7ed7701c8befb6ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsp__variable.html">sp_variable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a720325b7d8acd08f7ed7701c8befb6ec">add_variable</a> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, <a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a> <a class="el" href="srv0start_8cc.html#a03c6040f5fe625af9dc4a701925fbe65">name</a>, enum enum_field_types <a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>, sp_variable::enum_mode <a class="el" href="row0umod_8cc.html#a72b8a027308addc643f9adf5e4d41f9a">mode</a>)</td></tr>
<tr class="separator:a720325b7d8acd08f7ed7701c8befb6ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7f7fdb12f7e3c0e9cfea81e4ee39c66"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#ab7f7fdb12f7e3c0e9cfea81e4ee39c66">retrieve_field_definitions</a> (<a class="el" href="class_list.html">List</a>&lt; <a class="el" href="class_create__field.html">Create_field</a> &gt; *field_def_lst) const</td></tr>
<tr class="separator:ab7f7fdb12f7e3c0e9cfea81e4ee39c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa87f03211c0a7efcbf5df3a40471a599"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsp__variable.html">sp_variable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#aa87f03211c0a7efcbf5df3a40471a599">find_variable</a> (<a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a> <a class="el" href="srv0start_8cc.html#a03c6040f5fe625af9dc4a701925fbe65">name</a>, bool current_scope_only) const</td></tr>
<tr class="separator:aa87f03211c0a7efcbf5df3a40471a599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f3c91318b30516be1b5326df02ab38d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsp__variable.html">sp_variable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a4f3c91318b30516be1b5326df02ab38d">find_variable</a> (uint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>) const</td></tr>
<tr class="separator:a4f3c91318b30516be1b5326df02ab38d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a480a92643ee11341486f2ed2aec31593"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a480a92643ee11341486f2ed2aec31593">declare_var_boundary</a> (uint <a class="el" href="srv0start_8cc.html#a2600c8257a9de5721a19ec363ee4c09e">n</a>)</td></tr>
<tr class="separator:a480a92643ee11341486f2ed2aec31593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a097cbbff8d18ca5ad32ec5bab8fa76"><td class="memItemLeft" align="right" valign="top"><a id="a2a097cbbff8d18ca5ad32ec5bab8fa76"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>get_num_case_exprs</b> () const</td></tr>
<tr class="separator:a2a097cbbff8d18ca5ad32ec5bab8fa76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4878c45987da9a7b5503ea3703c33f5a"><td class="memItemLeft" align="right" valign="top"><a id="a4878c45987da9a7b5503ea3703c33f5a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>push_case_expr_id</b> ()</td></tr>
<tr class="separator:a4878c45987da9a7b5503ea3703c33f5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dece7ec7dfe72bdc7563ec1e59afb38"><td class="memItemLeft" align="right" valign="top"><a id="a4dece7ec7dfe72bdc7563ec1e59afb38"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>pop_case_expr_id</b> ()</td></tr>
<tr class="separator:a4dece7ec7dfe72bdc7563ec1e59afb38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cbd4dbc36f81d2e9c257db85df1dc4b"><td class="memItemLeft" align="right" valign="top"><a id="a0cbd4dbc36f81d2e9c257db85df1dc4b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>get_current_case_expr_id</b> () const</td></tr>
<tr class="separator:a0cbd4dbc36f81d2e9c257db85df1dc4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade6f3e4779c4fa3991dff527ed2d2047"><td class="memItemLeft" align="right" valign="top"><a id="ade6f3e4779c4fa3991dff527ed2d2047"></a>
<a class="el" href="classsp__label.html">sp_label</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>push_label</b> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, <a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a> <a class="el" href="srv0start_8cc.html#a03c6040f5fe625af9dc4a701925fbe65">name</a>, uint ip)</td></tr>
<tr class="separator:ade6f3e4779c4fa3991dff527ed2d2047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2353f5c480f283fc626f0aad8543237"><td class="memItemLeft" align="right" valign="top"><a id="ac2353f5c480f283fc626f0aad8543237"></a>
<a class="el" href="classsp__label.html">sp_label</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>find_label</b> (<a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a> <a class="el" href="srv0start_8cc.html#a03c6040f5fe625af9dc4a701925fbe65">name</a>)</td></tr>
<tr class="separator:ac2353f5c480f283fc626f0aad8543237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31c0db7687db96154add9e2e79718e27"><td class="memItemLeft" align="right" valign="top"><a id="a31c0db7687db96154add9e2e79718e27"></a>
<a class="el" href="classsp__label.html">sp_label</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>last_label</b> ()</td></tr>
<tr class="separator:a31c0db7687db96154add9e2e79718e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9744a4b041c7fa2d8413b84ab5bac712"><td class="memItemLeft" align="right" valign="top"><a id="a9744a4b041c7fa2d8413b84ab5bac712"></a>
<a class="el" href="classsp__label.html">sp_label</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>pop_label</b> ()</td></tr>
<tr class="separator:a9744a4b041c7fa2d8413b84ab5bac712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81bf4ae0fe08bdcd267d00b55249d4fa"><td class="memItemLeft" align="right" valign="top"><a id="a81bf4ae0fe08bdcd267d00b55249d4fa"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>add_condition</b> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, <a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a> <a class="el" href="srv0start_8cc.html#a03c6040f5fe625af9dc4a701925fbe65">name</a>, <a class="el" href="classsp__condition__value.html">sp_condition_value</a> *value)</td></tr>
<tr class="separator:a81bf4ae0fe08bdcd267d00b55249d4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3330cf065ed6d671b5a149335c0b300e"><td class="memItemLeft" align="right" valign="top"><a id="a3330cf065ed6d671b5a149335c0b300e"></a>
<a class="el" href="classsp__condition__value.html">sp_condition_value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a3330cf065ed6d671b5a149335c0b300e">find_condition</a> (<a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a> <a class="el" href="srv0start_8cc.html#a03c6040f5fe625af9dc4a701925fbe65">name</a>, bool current_scope_only) const</td></tr>
<tr class="memdesc:a3330cf065ed6d671b5a149335c0b300e"><td class="mdescLeft">&#160;</td><td class="mdescRight">See comment for <a class="el" href="classsp__pcontext.html#aa87f03211c0a7efcbf5df3a40471a599">find_variable()</a> above. <br /></td></tr>
<tr class="separator:a3330cf065ed6d671b5a149335c0b300e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f68eddde53c9ac83544d6daab8b4f7a"><td class="memItemLeft" align="right" valign="top"><a id="a8f68eddde53c9ac83544d6daab8b4f7a"></a>
<a class="el" href="classsp__handler.html">sp_handler</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>add_handler</b> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, <a class="el" href="classsp__handler.html#a702400dd1cd8b2933a38a9e4a5f1eb09">sp_handler::enum_type</a> <a class="el" href="trx0undo_8cc.html#a6093ca66dd564a9c407d64ce43838c28">type</a>)</td></tr>
<tr class="separator:a8f68eddde53c9ac83544d6daab8b4f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e27c46b3cb4dc5f5140c8dcb7564780"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a6e27c46b3cb4dc5f5140c8dcb7564780">check_duplicate_handler</a> (const <a class="el" href="classsp__condition__value.html">sp_condition_value</a> *cond_value) const</td></tr>
<tr class="separator:a6e27c46b3cb4dc5f5140c8dcb7564780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4638c9247413157d31e4ef6414feaeb4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsp__handler.html">sp_handler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a4638c9247413157d31e4ef6414feaeb4">find_handler</a> (const char *sql_state, uint sql_errno, Sql_condition::enum_warning_level <a class="el" href="btr0btr_8cc.html#a46e504d299fb7ca943fc98a74051f564">level</a>) const</td></tr>
<tr class="separator:a4638c9247413157d31e4ef6414feaeb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c6665a1f12a14131c9a8e6efec39007"><td class="memItemLeft" align="right" valign="top"><a id="a5c6665a1f12a14131c9a8e6efec39007"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>add_cursor</b> (<a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a> <a class="el" href="srv0start_8cc.html#a03c6040f5fe625af9dc4a701925fbe65">name</a>)</td></tr>
<tr class="separator:a5c6665a1f12a14131c9a8e6efec39007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad37530a4aa43c8330e7b62ca0fa878d1"><td class="memItemLeft" align="right" valign="top"><a id="ad37530a4aa43c8330e7b62ca0fa878d1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#ad37530a4aa43c8330e7b62ca0fa878d1">find_cursor</a> (<a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a> <a class="el" href="srv0start_8cc.html#a03c6040f5fe625af9dc4a701925fbe65">name</a>, uint *poff, bool current_scope_only) const</td></tr>
<tr class="memdesc:ad37530a4aa43c8330e7b62ca0fa878d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">See comment for <a class="el" href="classsp__pcontext.html#aa87f03211c0a7efcbf5df3a40471a599">find_variable()</a> above. <br /></td></tr>
<tr class="separator:ad37530a4aa43c8330e7b62ca0fa878d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb5cd98d9ebc871444cdac80f9dab23b"><td class="memItemLeft" align="right" valign="top"><a id="aeb5cd98d9ebc871444cdac80f9dab23b"></a>
const <a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#aeb5cd98d9ebc871444cdac80f9dab23b">find_cursor</a> (uint <a class="el" href="os0file_8cc.html#a7b6b91e619d6e5e1a8a9f7da64bc0cdb">offset</a>) const</td></tr>
<tr class="memdesc:aeb5cd98d9ebc871444cdac80f9dab23b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find cursor by offset (for debugging only). <br /></td></tr>
<tr class="separator:aeb5cd98d9ebc871444cdac80f9dab23b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6840c5696fc1b817d9393d84611ec14d"><td class="memItemLeft" align="right" valign="top"><a id="a6840c5696fc1b817d9393d84611ec14d"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>max_cursor_index</b> () const</td></tr>
<tr class="separator:a6840c5696fc1b817d9393d84611ec14d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b055b8357d13b4b70c70435dc0c4019"><td class="memItemLeft" align="right" valign="top"><a id="a9b055b8357d13b4b70c70435dc0c4019"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><b>current_cursor_count</b> () const</td></tr>
<tr class="separator:a9b055b8357d13b4b70c70435dc0c4019"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a353b7440b2a7db1513034402f44e6aa0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a353b7440b2a7db1513034402f44e6aa0">sp_pcontext</a> (<a class="el" href="classsp__pcontext.html">sp_pcontext</a> *prev, <a class="el" href="classsp__pcontext.html#a6252258e34c191cbf1b5e86628cd29c6">enum_scope</a> scope)</td></tr>
<tr class="separator:a353b7440b2a7db1513034402f44e6aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a997e2cd2070914ed3f9fcda4a37c79f2"><td class="memItemLeft" align="right" valign="top"><a id="a997e2cd2070914ed3f9fcda4a37c79f2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>init</b> (uint var_offset, uint cursor_offset, int num_case_expressions)</td></tr>
<tr class="separator:a997e2cd2070914ed3f9fcda4a37c79f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a371e5b46920148388802943f09895701"><td class="memItemLeft" align="right" valign="top"><a id="a371e5b46920148388802943f09895701"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sp_pcontext</b> (const <a class="el" href="classsp__pcontext.html">sp_pcontext</a> &amp;)</td></tr>
<tr class="separator:a371e5b46920148388802943f09895701"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af69dea8401712d88ec98a503ed2dffe9"><td class="memItemLeft" align="right" valign="top"><a id="af69dea8401712d88ec98a503ed2dffe9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classsp__pcontext.html">sp_pcontext</a> &amp;)</td></tr>
<tr class="separator:af69dea8401712d88ec98a503ed2dffe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a65909772270b85029b83efd891f2a4f2"><td class="memItemLeft" align="right" valign="top"><a id="a65909772270b85029b83efd891f2a4f2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a65909772270b85029b83efd891f2a4f2">m_level</a></td></tr>
<tr class="memdesc:a65909772270b85029b83efd891f2a4f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Level of the corresponding BEGIN..END block (0 means the topmost block). <br /></td></tr>
<tr class="separator:a65909772270b85029b83efd891f2a4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a979b36748ccfefa3394eaa3e85bcd838"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a979b36748ccfefa3394eaa3e85bcd838">m_max_var_index</a></td></tr>
<tr class="separator:a979b36748ccfefa3394eaa3e85bcd838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a165e3355219313def3e2ca5b4179623d"><td class="memItemLeft" align="right" valign="top"><a id="a165e3355219313def3e2ca5b4179623d"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a165e3355219313def3e2ca5b4179623d">m_max_cursor_index</a></td></tr>
<tr class="memdesc:a165e3355219313def3e2ca5b4179623d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum sub context's framesizes. <br /></td></tr>
<tr class="separator:a165e3355219313def3e2ca5b4179623d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ddcc919cfa4e1c662930d74673f7604"><td class="memItemLeft" align="right" valign="top"><a id="a3ddcc919cfa4e1c662930d74673f7604"></a>
<a class="el" href="classsp__pcontext.html">sp_pcontext</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a3ddcc919cfa4e1c662930d74673f7604">m_parent</a></td></tr>
<tr class="memdesc:a3ddcc919cfa4e1c662930d74673f7604"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parent context. <br /></td></tr>
<tr class="separator:a3ddcc919cfa4e1c662930d74673f7604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55d6681b8a4f6551c3eaaff677c56383"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a55d6681b8a4f6551c3eaaff677c56383">m_var_offset</a></td></tr>
<tr class="separator:a55d6681b8a4f6551c3eaaff677c56383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48afc615cdb3f4593c8b522d0cd5bc15"><td class="memItemLeft" align="right" valign="top"><a id="a48afc615cdb3f4593c8b522d0cd5bc15"></a>
uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a48afc615cdb3f4593c8b522d0cd5bc15">m_cursor_offset</a></td></tr>
<tr class="memdesc:a48afc615cdb3f4593c8b522d0cd5bc15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cursor offset for this context. <br /></td></tr>
<tr class="separator:a48afc615cdb3f4593c8b522d0cd5bc15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fcee189bfe1adcc5f2809e6c0ac5bad"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a0fcee189bfe1adcc5f2809e6c0ac5bad">m_pboundary</a></td></tr>
<tr class="separator:a0fcee189bfe1adcc5f2809e6c0ac5bad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b7641f68d924500899b889748daff9f"><td class="memItemLeft" align="right" valign="top"><a id="a2b7641f68d924500899b889748daff9f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>m_num_case_exprs</b></td></tr>
<tr class="separator:a2b7641f68d924500899b889748daff9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad288137e5cd5b52c5b6196c7bbe5b342"><td class="memItemLeft" align="right" valign="top"><a id="ad288137e5cd5b52c5b6196c7bbe5b342"></a>
<a class="el" href="class_dynamic__array.html">Dynamic_array</a>&lt; <a class="el" href="classsp__variable.html">sp_variable</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#ad288137e5cd5b52c5b6196c7bbe5b342">m_vars</a></td></tr>
<tr class="memdesc:ad288137e5cd5b52c5b6196c7bbe5b342"><td class="mdescLeft">&#160;</td><td class="mdescRight">SP parameters/variables. <br /></td></tr>
<tr class="separator:ad288137e5cd5b52c5b6196c7bbe5b342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d465e5cac67a7b5b5a3613cf206d4b9"><td class="memItemLeft" align="right" valign="top"><a id="a1d465e5cac67a7b5b5a3613cf206d4b9"></a>
<a class="el" href="class_dynamic__array.html">Dynamic_array</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a1d465e5cac67a7b5b5a3613cf206d4b9">m_case_expr_ids</a></td></tr>
<tr class="memdesc:a1d465e5cac67a7b5b5a3613cf206d4b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stack of CASE expression ids. <br /></td></tr>
<tr class="separator:a1d465e5cac67a7b5b5a3613cf206d4b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76378723575e5ad94891464d9e72f04f"><td class="memItemLeft" align="right" valign="top"><a id="a76378723575e5ad94891464d9e72f04f"></a>
<a class="el" href="class_dynamic__array.html">Dynamic_array</a>&lt; <a class="el" href="classsp__condition.html">sp_condition</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a76378723575e5ad94891464d9e72f04f">m_conditions</a></td></tr>
<tr class="memdesc:a76378723575e5ad94891464d9e72f04f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stack of SQL-conditions. <br /></td></tr>
<tr class="separator:a76378723575e5ad94891464d9e72f04f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a222b5ec137ec5f4edb4f667f079efbe6"><td class="memItemLeft" align="right" valign="top"><a id="a222b5ec137ec5f4edb4f667f079efbe6"></a>
<a class="el" href="class_dynamic__array.html">Dynamic_array</a>&lt; <a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a222b5ec137ec5f4edb4f667f079efbe6">m_cursors</a></td></tr>
<tr class="memdesc:a222b5ec137ec5f4edb4f667f079efbe6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stack of cursors. <br /></td></tr>
<tr class="separator:a222b5ec137ec5f4edb4f667f079efbe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a465d0e4f37a22ecaada55f118474593d"><td class="memItemLeft" align="right" valign="top"><a id="a465d0e4f37a22ecaada55f118474593d"></a>
<a class="el" href="class_dynamic__array.html">Dynamic_array</a>&lt; <a class="el" href="classsp__handler.html">sp_handler</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a465d0e4f37a22ecaada55f118474593d">m_handlers</a></td></tr>
<tr class="memdesc:a465d0e4f37a22ecaada55f118474593d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stack of SQL-handlers. <br /></td></tr>
<tr class="separator:a465d0e4f37a22ecaada55f118474593d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d1887f69976f66ecf1b7ba43dcddeef"><td class="memItemLeft" align="right" valign="top"><a id="a2d1887f69976f66ecf1b7ba43dcddeef"></a>
<a class="el" href="class_list.html">List</a>&lt; <a class="el" href="classsp__label.html">sp_label</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a2d1887f69976f66ecf1b7ba43dcddeef">m_labels</a></td></tr>
<tr class="memdesc:a2d1887f69976f66ecf1b7ba43dcddeef"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_list.html">List</a> of labels. <br /></td></tr>
<tr class="separator:a2d1887f69976f66ecf1b7ba43dcddeef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43d78a119571803da499d3a88f2e163a"><td class="memItemLeft" align="right" valign="top"><a id="a43d78a119571803da499d3a88f2e163a"></a>
<a class="el" href="class_dynamic__array.html">Dynamic_array</a>&lt; <a class="el" href="classsp__pcontext.html">sp_pcontext</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#a43d78a119571803da499d3a88f2e163a">m_children</a></td></tr>
<tr class="memdesc:a43d78a119571803da499d3a88f2e163a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Children contexts, used for destruction. <br /></td></tr>
<tr class="separator:a43d78a119571803da499d3a88f2e163a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedaeb9c9fcf2f4d888e1e33763d1438a"><td class="memItemLeft" align="right" valign="top"><a id="aedaeb9c9fcf2f4d888e1e33763d1438a"></a>
<a class="el" href="classsp__pcontext.html#a6252258e34c191cbf1b5e86628cd29c6">enum_scope</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsp__pcontext.html#aedaeb9c9fcf2f4d888e1e33763d1438a">m_scope</a></td></tr>
<tr class="memdesc:aedaeb9c9fcf2f4d888e1e33763d1438a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scope of this parsing context. <br /></td></tr>
<tr class="separator:aedaeb9c9fcf2f4d888e1e33763d1438a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_class_sql__alloc"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_class_sql__alloc')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="class_sql__alloc.html">Sql_alloc</a></td></tr>
<tr class="memitem:a193100cab44074df6f4f1507b333dcda inherit pub_static_methods_class_sql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="a193100cab44074df6f4f1507b333dcda"></a>
static void *&#160;</td><td class="memItemRight" valign="bottom"><b>operator new</b> (size_t <a class="el" href="srv0start_8cc.html#aa2ba5a514c395b398630a3d7791561bc">size</a>)  throw ()</td></tr>
<tr class="separator:a193100cab44074df6f4f1507b333dcda inherit pub_static_methods_class_sql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14b17bd7ec22fc7a7e5b56702e5630a6 inherit pub_static_methods_class_sql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="a14b17bd7ec22fc7a7e5b56702e5630a6"></a>
static void *&#160;</td><td class="memItemRight" valign="bottom"><b>operator new[]</b> (size_t <a class="el" href="srv0start_8cc.html#aa2ba5a514c395b398630a3d7791561bc">size</a>)  throw ()</td></tr>
<tr class="separator:a14b17bd7ec22fc7a7e5b56702e5630a6 inherit pub_static_methods_class_sql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13f2eacbb6adcee5c9ac94629e2863b3 inherit pub_static_methods_class_sql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="a13f2eacbb6adcee5c9ac94629e2863b3"></a>
static void *&#160;</td><td class="memItemRight" valign="bottom"><b>operator new[]</b> (size_t <a class="el" href="srv0start_8cc.html#aa2ba5a514c395b398630a3d7791561bc">size</a>, <a class="el" href="structst__mem__root.html">MEM_ROOT</a> *mem_root)  throw ()</td></tr>
<tr class="separator:a13f2eacbb6adcee5c9ac94629e2863b3 inherit pub_static_methods_class_sql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06adbd3404f702994fd10619c41267f0 inherit pub_static_methods_class_sql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="a06adbd3404f702994fd10619c41267f0"></a>
static void *&#160;</td><td class="memItemRight" valign="bottom"><b>operator new</b> (size_t <a class="el" href="srv0start_8cc.html#aa2ba5a514c395b398630a3d7791561bc">size</a>, <a class="el" href="structst__mem__root.html">MEM_ROOT</a> *mem_root)  throw ()</td></tr>
<tr class="separator:a06adbd3404f702994fd10619c41267f0 inherit pub_static_methods_class_sql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e428ed5b826482a49b1d8a1d246a579 inherit pub_static_methods_class_sql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="a1e428ed5b826482a49b1d8a1d246a579"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>operator delete</b> (void *ptr, size_t <a class="el" href="srv0start_8cc.html#aa2ba5a514c395b398630a3d7791561bc">size</a>)</td></tr>
<tr class="separator:a1e428ed5b826482a49b1d8a1d246a579 inherit pub_static_methods_class_sql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c08622003a34134a56eccaf2d95c0b9 inherit pub_static_methods_class_sql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="a7c08622003a34134a56eccaf2d95c0b9"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>operator delete</b> (void *ptr, <a class="el" href="structst__mem__root.html">MEM_ROOT</a> *mem_root)</td></tr>
<tr class="separator:a7c08622003a34134a56eccaf2d95c0b9 inherit pub_static_methods_class_sql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0c7ed4b5a1eb798f3af463eb84b1e3b inherit pub_static_methods_class_sql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="ab0c7ed4b5a1eb798f3af463eb84b1e3b"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>operator delete[]</b> (void *ptr, <a class="el" href="structst__mem__root.html">MEM_ROOT</a> *mem_root)</td></tr>
<tr class="separator:ab0c7ed4b5a1eb798f3af463eb84b1e3b inherit pub_static_methods_class_sql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd86b56cecc3919504cf5e1452f2511 inherit pub_static_methods_class_sql__alloc"><td class="memItemLeft" align="right" valign="top"><a id="a6dd86b56cecc3919504cf5e1452f2511"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>operator delete[]</b> (void *ptr, size_t <a class="el" href="srv0start_8cc.html#aa2ba5a514c395b398630a3d7791561bc">size</a>)</td></tr>
<tr class="separator:a6dd86b56cecc3919504cf5e1452f2511 inherit pub_static_methods_class_sql__alloc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The class represents parse-time context, which keeps track of declared variables/parameters, conditions, handlers, cursors and labels.</p>
<p>sp_context objects are organized in a tree according to the following rules:</p><ul>
<li>one <a class="el" href="classsp__pcontext.html">sp_pcontext</a> object corresponds for for each BEGIN..END block;</li>
<li>one <a class="el" href="classsp__pcontext.html">sp_pcontext</a> object corresponds for each exception handler;</li>
<li>one additional <a class="el" href="classsp__pcontext.html">sp_pcontext</a> object is created to contain Stored Program parameters.</li>
</ul>
<p><a class="el" href="classsp__pcontext.html">sp_pcontext</a> objects are used both at parse-time and at runtime.</p>
<p>During the parsing stage <a class="el" href="classsp__pcontext.html">sp_pcontext</a> objects are used:</p><ul>
<li>to look up defined names (e.g. declared variables and visible labels);</li>
<li>to check for duplicates;</li>
<li>for error checking;</li>
<li>to calculate offsets to be used at runtime.</li>
</ul>
<p>During the runtime phase, a tree of <a class="el" href="classsp__pcontext.html">sp_pcontext</a> objects is used:</p><ul>
<li>for error checking (e.g. to check correct number of parameters);</li>
<li>to resolve SQL-handlers. </li>
</ul>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a6252258e34c191cbf1b5e86628cd29c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6252258e34c191cbf1b5e86628cd29c6">&#9670;&nbsp;</a></span>enum_scope</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classsp__pcontext.html#a6252258e34c191cbf1b5e86628cd29c6">sp_pcontext::enum_scope</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a6252258e34c191cbf1b5e86628cd29c6a7eefe8effea203d6409e38ddb6052d6f"></a>REGULAR_SCOPE&#160;</td><td class="fielddoc"><p>REGULAR_SCOPE designates regular BEGIN ... END blocks. </p>
</td></tr>
<tr><td class="fieldname"><a id="a6252258e34c191cbf1b5e86628cd29c6a2db8d8068bbaf5f7f9b60edded7b0bf6"></a>HANDLER_SCOPE&#160;</td><td class="fielddoc"><p>HANDLER_SCOPE designates SQL-handler blocks. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a353b7440b2a7db1513034402f44e6aa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a353b7440b2a7db1513034402f44e6aa0">&#9670;&nbsp;</a></span>sp_pcontext()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sp_pcontext::sp_pcontext </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsp__pcontext.html">sp_pcontext</a> *&#160;</td>
          <td class="paramname"><em>prev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__pcontext.html#a6252258e34c191cbf1b5e86628cd29c6">sp_pcontext::enum_scope</a>&#160;</td>
          <td class="paramname"><em>scope</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor for a tree node. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prev</td><td>the parent parsing context </td></tr>
    <tr><td class="paramname">scope</td><td>scope of this parsing context </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a720325b7d8acd08f7ed7701c8befb6ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a720325b7d8acd08f7ed7701c8befb6ec">&#9670;&nbsp;</a></span>add_variable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsp__variable.html">sp_variable</a> * sp_pcontext::add_variable </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum enum_field_types&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sp_variable::enum_mode&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add SP-variable to the parsing context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>Thread context. </td></tr>
    <tr><td class="paramname">name</td><td>Name of the SP-variable. </td></tr>
    <tr><td class="paramname">type</td><td>Type of the SP-variable. </td></tr>
    <tr><td class="paramname">mode</td><td>Mode of the SP-variable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>instance of newly added SP-variable. </dd></dl>

</div>
</div>
<a id="a6e27c46b3cb4dc5f5140c8dcb7564780"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e27c46b3cb4dc5f5140c8dcb7564780">&#9670;&nbsp;</a></span>check_duplicate_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sp_pcontext::check_duplicate_handler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsp__condition__value.html">sp_condition_value</a> *&#160;</td>
          <td class="paramname"><em>cond_value</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is an auxilary parsing-time function to check if an SQL-handler exists in the current parsing context (current scope) for the given SQL-condition. This function is used to check for duplicates during the parsing phase.</p>
<p>This function can not be used during the runtime phase to check SQL-handler existence because it searches for the SQL-handler in the current scope only (during runtime, current and parent scopes should be checked according to the SQL-handler resolution rules).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">condition_value</td><td>the handler condition value (not SQL-condition!).</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if such SQL-handler exists. </td></tr>
    <tr><td class="paramname">false</td><td>otherwise. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2733cafaa598552f29d8780347040abc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2733cafaa598552f29d8780347040abc">&#9670;&nbsp;</a></span>context_var_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint sp_pcontext::context_var_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the number of variables in this context alone. </dd></dl>

</div>
</div>
<a id="a368a6fdbad2b286956bd9e67cba15825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a368a6fdbad2b286956bd9e67cba15825">&#9670;&nbsp;</a></span>current_var_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint sp_pcontext::current_var_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the current number of variables used in the parent contexts (from the root), including this context. </dd></dl>

</div>
</div>
<a id="a480a92643ee11341486f2ed2aec31593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a480a92643ee11341486f2ed2aec31593">&#9670;&nbsp;</a></span>declare_var_boundary()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sp_pcontext::declare_var_boundary </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the current scope boundary (for default values).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>The number of variables to skip. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acc4ff72b3da1182d8343a221a1236769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc4ff72b3da1182d8343a221a1236769">&#9670;&nbsp;</a></span>diff_cursors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint sp_pcontext::diff_cursors </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsp__pcontext.html">sp_pcontext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>exclusive</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate and return the number of cursors to pop between the given context and this one.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>the other parsing context. </td></tr>
    <tr><td class="paramname">exclusive</td><td>specifies if the last scope should be excluded.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of cursors to pop between the given context and this one. If 'exclusive' is true, don't count the last scope we are leaving; this is used for LEAVE where we will jump to the cpop instructions. </dd></dl>

</div>
</div>
<a id="a20a7a38d4024c438ae0463913023bbfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20a7a38d4024c438ae0463913023bbfe">&#9670;&nbsp;</a></span>diff_handlers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint sp_pcontext::diff_handlers </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classsp__pcontext.html">sp_pcontext</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>exclusive</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate and return the number of handlers to pop between the given context and this one.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>the other parsing context. </td></tr>
    <tr><td class="paramname">exclusive</td><td>specifies if the last scope should be excluded.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of handlers to pop between the given context and this one. If 'exclusive' is true, don't count the last scope we are leaving; this is used for LEAVE where we will jump to the hpop instructions. </dd></dl>

</div>
</div>
<a id="a4638c9247413157d31e4ef6414feaeb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4638c9247413157d31e4ef6414feaeb4">&#9670;&nbsp;</a></span>find_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsp__handler.html">sp_handler</a> * sp_pcontext::find_handler </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>sql_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>sql_errno</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Sql_condition::enum_warning_level&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find an SQL handler for the given SQL condition according to the SQL-handler resolution rules. This function is used at runtime.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sql_state</td><td>The SQL condition state </td></tr>
    <tr><td class="paramname">sql_errno</td><td>The error code </td></tr>
    <tr><td class="paramname">level</td><td>The SQL condition level</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the found SQL-handler or NULL. </dd></dl>

</div>
</div>
<a id="aa87f03211c0a7efcbf5df3a40471a599"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa87f03211c0a7efcbf5df3a40471a599">&#9670;&nbsp;</a></span>find_variable() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsp__variable.html">sp_variable</a> * sp_pcontext::find_variable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structst__mysql__lex__string.html">LEX_STRING</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>current_scope_only</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find SP-variable by name.</p>
<p>The function does a linear search (from newer to older variables, in case we have shadowed names).</p>
<p>The function is called only at parsing time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Variable name. </td></tr>
    <tr><td class="paramname">current_scope_only</td><td>A flag if we search only in current scope.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>instance of found SP-variable, or NULL if not found. </dd></dl>

</div>
</div>
<a id="a4f3c91318b30516be1b5326df02ab38d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f3c91318b30516be1b5326df02ab38d">&#9670;&nbsp;</a></span>find_variable() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsp__variable.html">sp_variable</a> * sp_pcontext::find_variable </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find SP-variable by the offset in the root parsing context.</p>
<p>The function is used for two things:</p><ul>
<li>When evaluating parameters at the beginning, and setting out parameters at the end, of invocation. (Top frame only, so no recursion then.)</li>
<li>For printing of <a class="el" href="classsp__instr__set.html">sp_instr_set</a>. (Debug mode only.)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Variable offset in the root parsing context.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>instance of found SP-variable, or NULL if not found. </dd></dl>

</div>
</div>
<a id="a8e102fc7e3bb76e872b32bb8783df72f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e102fc7e3bb76e872b32bb8783df72f">&#9670;&nbsp;</a></span>max_var_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint sp_pcontext::max_var_index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>the maximum number of variables used in this and all child contexts. For the root parsing context, this gives us the number of slots needed for variables during the runtime phase. </dd></dl>

</div>
</div>
<a id="ae7e4af2bd11d58a2950462a490612a31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7e4af2bd11d58a2950462a490612a31">&#9670;&nbsp;</a></span>pop_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsp__pcontext.html">sp_pcontext</a> * sp_pcontext::pop_context </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pop a node from the parsing context tree. </p><dl class="section return"><dt>Returns</dt><dd>the parent node. </dd></dl>

</div>
</div>
<a id="a486b4feb63c343fea40adcf197bde017"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a486b4feb63c343fea40adcf197bde017">&#9670;&nbsp;</a></span>push_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsp__pcontext.html">sp_pcontext</a> * sp_pcontext::push_context </td>
          <td>(</td>
          <td class="paramtype">THD *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsp__pcontext.html#a6252258e34c191cbf1b5e86628cd29c6">sp_pcontext::enum_scope</a>&#160;</td>
          <td class="paramname"><em>scope</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create and push a new context in the tree. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thd</td><td>thread context. </td></tr>
    <tr><td class="paramname">scope</td><td>scope of the new parsing context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the node created. </dd></dl>

</div>
</div>
<a id="ab7f7fdb12f7e3c0e9cfea81e4ee39c66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7f7fdb12f7e3c0e9cfea81e4ee39c66">&#9670;&nbsp;</a></span>retrieve_field_definitions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sp_pcontext::retrieve_field_definitions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_list.html">List</a>&lt; <a class="el" href="class_create__field.html">Create_field</a> &gt; *&#160;</td>
          <td class="paramname"><em>field_def_lst</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieve full type information about SP-variables in this parsing context and its children.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">field_def_lst[out]</td><td>Container to store type information. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a91b66fbcd41167516ec4486c5b1e4b43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91b66fbcd41167516ec4486c5b1e4b43">&#9670;&nbsp;</a></span>var_context2runtime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint sp_pcontext::var_context2runtime </td>
          <td>(</td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>map index in this parsing context to runtime offset. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a979b36748ccfefa3394eaa3e85bcd838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a979b36748ccfefa3394eaa3e85bcd838">&#9670;&nbsp;</a></span>m_max_var_index</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint sp_pcontext::m_max_var_index</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>m_max_var_index &ndash; number of variables (including all types of arguments) in this context including all children contexts.</p>
<p>m_max_var_index &gt;= m_vars.elements().</p>
<p>m_max_var_index of the root parsing context contains number of all variables (including arguments) in all enclosed contexts. </p>

</div>
</div>
<a id="a0fcee189bfe1adcc5f2809e6c0ac5bad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fcee189bfe1adcc5f2809e6c0ac5bad">&#9670;&nbsp;</a></span>m_pboundary</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint sp_pcontext::m_pboundary</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Boundary for finding variables in this context. This is the number of variables currently "invisible" to default clauses. This is normally 0, but will be larger during parsing of DECLARE ... DEFAULT, to get the scope right for DEFAULT values. </p>

</div>
</div>
<a id="a55d6681b8a4f6551c3eaaff677c56383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55d6681b8a4f6551c3eaaff677c56383">&#9670;&nbsp;</a></span>m_var_offset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint sp_pcontext::m_var_offset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>An index of the first SP-variable in this parsing context. The index belongs to a runtime table of SP-variables.</p>
<p>Note:</p><ul>
<li>m_var_offset is 0 for root parsing context;</li>
<li>m_var_offset is different for all nested parsing contexts. </li>
</ul>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sql/<a class="el" href="sp__pcontext_8h_source.html">sp_pcontext.h</a></li>
<li>sql/sp_pcontext.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
