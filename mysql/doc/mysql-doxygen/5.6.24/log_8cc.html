<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PERFORMANCE SCHEMA: sql/log.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PERFORMANCE SCHEMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5bd71961b401a432086d0fb290a87f3f.html">sql</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">log.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>logging of commands  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;my_global.h&quot;</code><br />
<code>#include &quot;<a class="el" href="sql__priv_8h_source.html">sql_priv.h</a>&quot;</code><br />
<code>#include &quot;log.h&quot;</code><br />
<code>#include &quot;sql_base.h&quot;</code><br />
<code>#include &quot;sql_delete.h&quot;</code><br />
<code>#include &quot;sql_parse.h&quot;</code><br />
<code>#include &quot;sql_time.h&quot;</code><br />
<code>#include &quot;tztime.h&quot;</code><br />
<code>#include &quot;sql_acl.h&quot;</code><br />
<code>#include &quot;sql_audit.h&quot;</code><br />
<code>#include &quot;<a class="el" href="service__my__plugin__log_8h_source.html">mysql/service_my_plugin_log.h</a>&quot;</code><br />
<code>#include &lt;my_dir.h&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;m_ctype.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_slow__query__log__table__intact.html">Slow_query_log_table_intact</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_general__log__table__intact.html">General_log_table_intact</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_silence__log__table__errors.html">Silence_log_table_errors</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a850e71de3b212f1933df4c118b13c68a"><td class="memItemLeft" align="right" valign="top"><a id="a850e71de3b212f1933df4c118b13c68a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_LOG_BUFFER_SIZE</b>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a850e71de3b212f1933df4c118b13c68a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6e20e9953b4506ab8c5b45ef69272f9"><td class="memItemLeft" align="right" valign="top"><a id="ae6e20e9953b4506ab8c5b45ef69272f9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_TIME_SIZE</b>&#160;&#160;&#160;32</td></tr>
<tr class="separator:ae6e20e9953b4506ab8c5b45ef69272f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1175fe74357045185bcf18dc95b47e41"><td class="memItemLeft" align="right" valign="top"><a id="a1175fe74357045185bcf18dc95b47e41"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TC_LOG_HEADER_SIZE</b>&#160;&#160;&#160;(sizeof(tc_log_magic)+1)</td></tr>
<tr class="separator:a1175fe74357045185bcf18dc95b47e41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2c1dc45511e6b593fb39b5e75845de2e"><td class="memItemLeft" align="right" valign="top"><a id="a2c1dc45511e6b593fb39b5e75845de2e"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><b>test_if_number</b> (const char *str, ulong *res, bool allow_wildcards)</td></tr>
<tr class="separator:a2c1dc45511e6b593fb39b5e75845de2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf0e28f9f40fb9c44a266a7f739ce82"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#acbf0e28f9f40fb9c44a266a7f739ce82">purge_log_get_error_code</a> (int res)</td></tr>
<tr class="separator:acbf0e28f9f40fb9c44a266a7f739ce82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac84378bc7a2bcbf6944f5c8baba795c8"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#ac84378bc7a2bcbf6944f5c8baba795c8">make_log_name</a> (char *buff, const char *<a class="el" href="srv0start_8cc.html#a03c6040f5fe625af9dc4a701925fbe65">name</a>, const char *log_ext)</td></tr>
<tr class="separator:ac84378bc7a2bcbf6944f5c8baba795c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a211be2c7ee7d9b4d4ba3d72ef75b41ed"><td class="memItemLeft" align="right" valign="top"><a id="a211be2c7ee7d9b4d4ba3d72ef75b41ed"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_log_table</b> (size_t db_len, const char *db, size_t table_name_len, const char *<a class="el" href="ha__innodb_8cc.html#a0027708eb826fc9750cdd8953fded532">table_name</a>, bool check_if_opened)</td></tr>
<tr class="separator:a211be2c7ee7d9b4d4ba3d72ef75b41ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3aa65653b983d2a778fced12d8677918"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a3aa65653b983d2a778fced12d8677918">find_uniq_filename</a> (char *<a class="el" href="srv0start_8cc.html#a03c6040f5fe625af9dc4a701925fbe65">name</a>)</td></tr>
<tr class="separator:a3aa65653b983d2a778fced12d8677918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed0114b6db8877f59a68e888c6f4b4aa"><td class="memItemLeft" align="right" valign="top"><a id="aed0114b6db8877f59a68e888c6f4b4aa"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>error_log_print</b> (enum loglevel <a class="el" href="btr0btr_8cc.html#a46e504d299fb7ca943fc98a74051f564">level</a>, const char *format, va_list args)</td></tr>
<tr class="separator:aed0114b6db8877f59a68e888c6f4b4aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab34523df2103fcc14e2c6d6bdc59ebf3"><td class="memItemLeft" align="right" valign="top"><a id="ab34523df2103fcc14e2c6d6bdc59ebf3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>slow_log_print</b> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, const char *<a class="el" href="structquery.html">query</a>, uint query_length)</td></tr>
<tr class="separator:ab34523df2103fcc14e2c6d6bdc59ebf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a488e13712728c6c3d7908933d72791c3"><td class="memItemLeft" align="right" valign="top"><a id="a488e13712728c6c3d7908933d72791c3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>general_log_print</b> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, enum enum_server_command command, const char *format,...)</td></tr>
<tr class="separator:a488e13712728c6c3d7908933d72791c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb4408efac1a575b1e1624283ccb56f3"><td class="memItemLeft" align="right" valign="top"><a id="aeb4408efac1a575b1e1624283ccb56f3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>general_log_write</b> (THD *<a class="el" href="row0quiesce_8cc.html#a75b6f5ba5a17ae9fb524f56a5eed51cb">thd</a>, enum enum_server_command command, const char *<a class="el" href="structquery.html">query</a>, uint query_length)</td></tr>
<tr class="separator:aeb4408efac1a575b1e1624283ccb56f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6792cab596d998834ccbe4567a32fcbe"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a6792cab596d998834ccbe4567a32fcbe">test_if_number</a> (register const char *str, ulong *res, bool allow_wildcards)</td></tr>
<tr class="separator:a6792cab596d998834ccbe4567a32fcbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43f77974d5ef164333b8688f4b79e715"><td class="memItemLeft" align="right" valign="top"><a id="a43f77974d5ef164333b8688f4b79e715"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>sql_perror</b> (const char *message)</td></tr>
<tr class="separator:a43f77974d5ef164333b8688f4b79e715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcacab6b025b905dfcf45a323710ad21"><td class="memItemLeft" align="right" valign="top"><a id="adcacab6b025b905dfcf45a323710ad21"></a>
my_bool&#160;</td><td class="memItemRight" valign="bottom"><b>reopen_fstreams</b> (const char *filename, FILE *outstream, FILE *errstream)</td></tr>
<tr class="separator:adcacab6b025b905dfcf45a323710ad21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa53d46589541ccc08fbbefe29d85474f"><td class="memItemLeft" align="right" valign="top"><a id="aa53d46589541ccc08fbbefe29d85474f"></a>
static bool&#160;</td><td class="memItemRight" valign="bottom"><b>redirect_std_streams</b> (const char *<a class="el" href="row0quiesce_8cc.html#a702945180aa732857b380a007a7e2a21">file</a>)</td></tr>
<tr class="separator:aa53d46589541ccc08fbbefe29d85474f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac875f45e5d5da655e363eff6e6cc9903"><td class="memItemLeft" align="right" valign="top"><a id="ac875f45e5d5da655e363eff6e6cc9903"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>flush_error_log</b> ()</td></tr>
<tr class="separator:ac875f45e5d5da655e363eff6e6cc9903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c2c682b6511039385cc835a1ed1d86f"><td class="memItemLeft" align="right" valign="top"><a id="a1c2c682b6511039385cc835a1ed1d86f"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>print_buffer_to_file</b> (enum loglevel <a class="el" href="btr0btr_8cc.html#a46e504d299fb7ca943fc98a74051f564">level</a>, const char *buffer, size_t length)</td></tr>
<tr class="separator:a1c2c682b6511039385cc835a1ed1d86f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad80689f91c205262ba00a47a1435578f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#ad80689f91c205262ba00a47a1435578f">vprint_msg_to_log</a> (enum loglevel <a class="el" href="btr0btr_8cc.html#a46e504d299fb7ca943fc98a74051f564">level</a>, const char *format, va_list args)</td></tr>
<tr class="separator:ad80689f91c205262ba00a47a1435578f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e88c1f62a9e97f45eb01515c9a31e3b"><td class="memItemLeft" align="right" valign="top"><a id="a8e88c1f62a9e97f45eb01515c9a31e3b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>sql_print_error</b> (const char *format,...)</td></tr>
<tr class="separator:a8e88c1f62a9e97f45eb01515c9a31e3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cb7d17584b91c920e91c9c188b129bf"><td class="memItemLeft" align="right" valign="top"><a id="a8cb7d17584b91c920e91c9c188b129bf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>sql_print_warning</b> (const char *format,...)</td></tr>
<tr class="separator:a8cb7d17584b91c920e91c9c188b129bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5792800fe1276804c39a02bc34614020"><td class="memItemLeft" align="right" valign="top"><a id="a5792800fe1276804c39a02bc34614020"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>sql_print_information</b> (const char *format,...)</td></tr>
<tr class="separator:a5792800fe1276804c39a02bc34614020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a645ed07038ca8ca3aeae825ef567ff"><td class="memItemLeft" align="right" valign="top"><a id="a3a645ed07038ca8ca3aeae825ef567ff"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>my_plugin_log_message</b> (MYSQL_PLUGIN *plugin_ptr, plugin_log_level <a class="el" href="btr0btr_8cc.html#a46e504d299fb7ca943fc98a74051f564">level</a>, const char *format,...)</td></tr>
<tr class="separator:a3a645ed07038ca8ca3aeae825ef567ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a19ec1c691e2b1d8c7eac80c46926e2bb"><td class="memItemLeft" align="right" valign="top"><a id="a19ec1c691e2b1d8c7eac80c46926e2bb"></a>
static const <a class="el" href="structst__table__field__type.html">TABLE_FIELD_TYPE</a>&#160;</td><td class="memItemRight" valign="bottom"><b>slow_query_log_table_fields</b> [SQLT_FIELD_COUNT]</td></tr>
<tr class="separator:a19ec1c691e2b1d8c7eac80c46926e2bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a200adead5de28637f8a571f3aea91c0b"><td class="memItemLeft" align="right" valign="top"><a id="a200adead5de28637f8a571f3aea91c0b"></a>
static const <a class="el" href="structst__table__field__def.html">TABLE_FIELD_DEF</a>&#160;</td><td class="memItemRight" valign="bottom"><b>slow_query_log_table_def</b> = {SQLT_FIELD_COUNT, slow_query_log_table_fields}</td></tr>
<tr class="separator:a200adead5de28637f8a571f3aea91c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d8fe4087f3a80f2e0a41a75541f318d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_slow__query__log__table__intact.html">Slow_query_log_table_intact</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a0d8fe4087f3a80f2e0a41a75541f318d">sqlt_intact</a></td></tr>
<tr class="separator:a0d8fe4087f3a80f2e0a41a75541f318d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad492de100c6031c9fc48873bd65a9a2a"><td class="memItemLeft" align="right" valign="top"><a id="ad492de100c6031c9fc48873bd65a9a2a"></a>
static const <a class="el" href="structst__table__field__type.html">TABLE_FIELD_TYPE</a>&#160;</td><td class="memItemRight" valign="bottom"><b>general_log_table_fields</b> [GLT_FIELD_COUNT]</td></tr>
<tr class="separator:ad492de100c6031c9fc48873bd65a9a2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d17606e07f17c7edafceed81ca049e"><td class="memItemLeft" align="right" valign="top"><a id="ad6d17606e07f17c7edafceed81ca049e"></a>
static const <a class="el" href="structst__table__field__def.html">TABLE_FIELD_DEF</a>&#160;</td><td class="memItemRight" valign="bottom"><b>general_log_table_def</b> = {GLT_FIELD_COUNT, general_log_table_fields}</td></tr>
<tr class="separator:ad6d17606e07f17c7edafceed81ca049e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ed8971d78c88bfb5936a750fee2d03"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_general__log__table__intact.html">General_log_table_intact</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="log_8cc.html#a44ed8971d78c88bfb5936a750fee2d03">glt_intact</a></td></tr>
<tr class="separator:a44ed8971d78c88bfb5936a750fee2d03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49efac2c6e39038b2b8d14c36c17484"><td class="memItemLeft" align="right" valign="top"><a id="af49efac2c6e39038b2b8d14c36c17484"></a>
<a class="el" href="class_l_o_g_g_e_r.html">LOGGER</a>&#160;</td><td class="memItemRight" valign="bottom"><b>logger</b></td></tr>
<tr class="separator:af49efac2c6e39038b2b8d14c36c17484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a452383cc341b71ecc3bc3cd8fb8ebdf3"><td class="memItemLeft" align="right" valign="top">sql_print_message_func&#160;</td><td class="memItemRight" valign="bottom"><b>sql_print_message_handlers</b> [3]</td></tr>
<tr class="separator:a452383cc341b71ecc3bc3cd8fb8ebdf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6e642c4df63a153bcb98139fd6a8008"><td class="memItemLeft" align="right" valign="top"><a id="ad6e642c4df63a153bcb98139fd6a8008"></a>
ulong&#160;</td><td class="memItemRight" valign="bottom"><b>tc_log_page_waits</b> = 0</td></tr>
<tr class="separator:ad6e642c4df63a153bcb98139fd6a8008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab920e221d4aff5d88075334e3a3811cd"><td class="memItemLeft" align="right" valign="top"><a id="ab920e221d4aff5d88075334e3a3811cd"></a>
static const char&#160;</td><td class="memItemRight" valign="bottom"><b>tc_log_magic</b> [] ={(char) 254, 0x23, 0x05, 0x74}</td></tr>
<tr class="separator:ab920e221d4aff5d88075334e3a3811cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a362b6fb7d71685ed8f5667b56b7ee8fe"><td class="memItemLeft" align="right" valign="top"><a id="a362b6fb7d71685ed8f5667b56b7ee8fe"></a>
ulong&#160;</td><td class="memItemRight" valign="bottom"><b>opt_tc_log_size</b> = TC_LOG_MIN_SIZE</td></tr>
<tr class="separator:a362b6fb7d71685ed8f5667b56b7ee8fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fc3b3b4d746a8c472968a8595252bbc"><td class="memItemLeft" align="right" valign="top"><a id="a6fc3b3b4d746a8c472968a8595252bbc"></a>
ulong&#160;</td><td class="memItemRight" valign="bottom"><b>tc_log_max_pages_used</b> =0</td></tr>
<tr class="separator:a6fc3b3b4d746a8c472968a8595252bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7549fca8aacb1fc11948396f3119df40"><td class="memItemLeft" align="right" valign="top"><a id="a7549fca8aacb1fc11948396f3119df40"></a>
ulong&#160;</td><td class="memItemRight" valign="bottom"><b>tc_log_page_size</b> =0</td></tr>
<tr class="separator:a7549fca8aacb1fc11948396f3119df40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad384e6677a0ff95605abddc3c0c43a22"><td class="memItemLeft" align="right" valign="top"><a id="ad384e6677a0ff95605abddc3c0c43a22"></a>
ulong&#160;</td><td class="memItemRight" valign="bottom"><b>tc_log_cur_pages_used</b> =0</td></tr>
<tr class="separator:ad384e6677a0ff95605abddc3c0c43a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92325103c7cf08bc077e8ba10d7e8f89"><td class="memItemLeft" align="right" valign="top"><a id="a92325103c7cf08bc077e8ba10d7e8f89"></a>
<a class="el" href="class_t_c___l_o_g.html">TC_LOG</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>tc_log</b></td></tr>
<tr class="separator:a92325103c7cf08bc077e8ba10d7e8f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06508ecce5ed4bb9a48556633cabfe99"><td class="memItemLeft" align="right" valign="top"><a id="a06508ecce5ed4bb9a48556633cabfe99"></a>
<a class="el" href="class_t_c___l_o_g___d_u_m_m_y.html">TC_LOG_DUMMY</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tc_log_dummy</b></td></tr>
<tr class="separator:a06508ecce5ed4bb9a48556633cabfe99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b6cc35d77d1c588c5d4cfc8cdf9717f"><td class="memItemLeft" align="right" valign="top"><a id="a6b6cc35d77d1c588c5d4cfc8cdf9717f"></a>
<a class="el" href="class_t_c___l_o_g___m_m_a_p.html">TC_LOG_MMAP</a>&#160;</td><td class="memItemRight" valign="bottom"><b>tc_log_mmap</b></td></tr>
<tr class="separator:a6b6cc35d77d1c588c5d4cfc8cdf9717f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>logging of commands </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000054">Todo:</a></b></dt><dd>Abort logging when we get an error in reading or writing log files </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a3aa65653b983d2a778fced12d8677918"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3aa65653b983d2a778fced12d8677918">&#9670;&nbsp;</a></span>find_uniq_filename()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int find_uniq_filename </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find a unique filename for 'filename.#'.</p>
<p>Set '#' to the number next to the maximum found in the most recent log file extension.</p>
<p>This function will return nonzero if: (i) the generated name exceeds FN_REFLEN; (ii) if the number of extensions is exhausted; or (iii) some other error happened while examining the filesystem.</p>
<dl class="section return"><dt>Returns</dt><dd>nonzero if not possible to get unique filename. </dd></dl>

</div>
</div>
<a id="ac84378bc7a2bcbf6944f5c8baba795c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac84378bc7a2bcbf6944f5c8baba795c8">&#9670;&nbsp;</a></span>make_log_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* make_log_name </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>log_ext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create the name of the log specified.</p>
<p>This method forms a new path + file name for the log specified in <code>name</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acbf0e28f9f40fb9c44a266a7f739ce82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbf0e28f9f40fb9c44a266a7f739ce82">&#9670;&nbsp;</a></span>purge_log_get_error_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint purge_log_get_error_code </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>purge logs, master and slave sides both, related error code convertor. Called from <code>purge_error_message()</code>, <code><a class="el" href="group___binary___log.html#ga585728a123b2a0b37d5777e79d435ccc">MYSQL_BIN_LOG::reset_logs()</a></code> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">res</td><td>an internal to purging routines error code</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the user level error code ER_* </dd></dl>

</div>
</div>
<a id="a6792cab596d998834ccbe4567a32fcbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6792cab596d998834ccbe4567a32fcbe">&#9670;&nbsp;</a></span>test_if_number()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool test_if_number </td>
          <td>(</td>
          <td class="paramtype">register const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ulong *&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allow_wildcards</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="struct_check.html">Check</a> if a string is a valid number.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td><a class="el" href="class_string.html">String</a> to test </td></tr>
    <tr><td class="paramname">res</td><td>Store value here </td></tr>
    <tr><td class="paramname">allow_wildcards</td><td>Set to 1 if we should ignore '' and '_'</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>For the moment the allow_wildcards argument is not used Should be move to some other file.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td><a class="el" href="class_string.html">String</a> is a number </td></tr>
    <tr><td class="paramname">0</td><td><a class="el" href="class_string.html">String</a> is not a number </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad80689f91c205262ba00a47a1435578f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad80689f91c205262ba00a47a1435578f">&#9670;&nbsp;</a></span>vprint_msg_to_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vprint_msg_to_log </td>
          <td>(</td>
          <td class="paramtype">enum loglevel&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Prints a printf style message to the error log and, under NT, to the Windows event log.</p>
<p>This function prints the message into a buffer and then sends that buffer to other functions to write that message to other logging sources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>The level of the msg significance </td></tr>
    <tr><td class="paramname">format</td><td>Printf style format of message </td></tr>
    <tr><td class="paramname">args</td><td>va_list list of arguments for the message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The function always returns 0. The return value is present in the signature to be compatible with other logging routines, which could return an error (e.g. logging to the log tables) </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a44ed8971d78c88bfb5936a750fee2d03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44ed8971d78c88bfb5936a750fee2d03">&#9670;&nbsp;</a></span>glt_intact</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_general__log__table__intact.html">General_log_table_intact</a> glt_intact</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>In case of an error, a message is printed to the error log. </p>

</div>
</div>
<a id="a452383cc341b71ecc3bc3cd8fb8ebdf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a452383cc341b71ecc3bc3cd8fb8ebdf3">&#9670;&nbsp;</a></span>sql_print_message_handlers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sql_print_message_func sql_print_message_handlers[3]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{</div><div class="line">  sql_print_information,</div><div class="line">  sql_print_warning,</div><div class="line">  sql_print_error</div><div class="line">}</div></div><!-- fragment -->
</div>
</div>
<a id="a0d8fe4087f3a80f2e0a41a75541f318d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d8fe4087f3a80f2e0a41a75541f318d">&#9670;&nbsp;</a></span>sqlt_intact</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_slow__query__log__table__intact.html">Slow_query_log_table_intact</a> sqlt_intact</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>In case of an error, a message is printed to the error log. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
